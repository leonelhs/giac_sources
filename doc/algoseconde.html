<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+1 of 2017-05-09">
<style type="text/css">
.li-itemize{margin:1ex 0ex;}
.li-enumerate{margin:1ex 0ex;}
.dd-description{margin:0ex 0ex 1ex 4ex;}
.dt-description{margin:0ex;}
.toc{list-style:none;}
.footnotetext{margin:0ex; padding:0ex;}
div.footnotetext P{margin:0px; text-indent:1em;}
.thefootnotes{text-align:left;margin:0ex;}
.dt-thefootnotes{margin:0em;}
.dd-thefootnotes{margin:0em 0em 0em 2em;}
.footnoterule{margin:1em auto 1em 0px;width:50%;}
.caption{padding-left:2ex; padding-right:2ex; margin-left:auto; margin-right:auto}
.title{margin:2ex auto;text-align:center}
.titlemain{margin:1ex 2ex 2ex 1ex;}
.titlerest{margin:0ex 2ex;}
.center{text-align:center;margin-left:auto;margin-right:auto;}
.flushleft{text-align:left;margin-left:0ex;margin-right:auto;}
.flushright{text-align:right;margin-left:auto;margin-right:0ex;}
div table{margin-left:inherit;margin-right:inherit;margin-bottom:2px;margin-top:2px}
td table{margin:auto;}
table{border-collapse:collapse;}
td{padding:0;}
.cellpadding0 tr td{padding:0;}
.cellpadding1 tr td{padding:1px;}
pre{text-align:left;margin-left:0ex;margin-right:auto;}
blockquote{margin-left:4ex;margin-right:4ex;text-align:left;}
td p{margin:0px;}
.boxed{border:1px solid black}
.textboxed{border:1px solid black}
.vbar{border:none;width:2px;background-color:black;}
.hbar{border:none;height:2px;width:100%;background-color:black;}
.hfill{border:none;height:1px;width:200%;background-color:black;}
.vdisplay{border-collapse:separate;border-spacing:2px;width:auto; empty-cells:show; border:2px solid red;}
.vdcell{white-space:nowrap;padding:0px; border:2px solid green;}
.display{border-collapse:separate;border-spacing:2px;width:auto; border:none;}
.dcell{white-space:nowrap;padding:0px; border:none;}
.dcenter{margin:0ex auto;}
.vdcenter{border:solid #FF8000 2px; margin:0ex auto;}
.minipage{text-align:left; margin-left:0em; margin-right:auto;}
.marginpar{border:solid thin black; width:20%; text-align:left;}
.marginparleft{float:left; margin-left:0ex; margin-right:1ex;}
.marginparright{float:right; margin-left:1ex; margin-right:0ex;}
.theorem{text-align:left;margin:1ex auto 1ex 0ex;}
.part{margin:2ex auto;text-align:center}
.lstlisting{font-family:monospace;white-space:pre;margin-right:auto;margin-left:0pt;text-align:left}
</style>
<title>Algorithmique et programmation en seconde
</title>
</head>
<body >
<!--HEVEA command line is: hevea -fix algoseconde -->
<!--CUT STYLE book--><!--CUT DEF chapter 1 --><p>


<div>
<div id="maindiv" style="max-height: 500px; overflow:auto">



</p><table class="title"><tr><td style="padding:1ex"><h1 class="titlemain">Algorithmique et programmation en seconde</h1><h3 class="titlerest">Renée De Graeve   Bernard Parisse</h3></td></tr>
</table><!--TOC chapter id="sec1" Table des matières-->
<h1 id="sec1" class="chapter">Table des matières</h1><!--SEC END --><ul class="toc"><li class="li-toc">
<a href="#sec3">Chapitre 1  Avant-propos</a>
</li><li class="li-toc"><a href="#sec4">Chapitre 2  Types, fonctions, programmation.</a>
<ul class="toc"><li class="li-toc">
<a href="#sec5">2.1  Types</a>
<ul class="toc"><li class="li-toc">
<a href="#sec6">2.1.1  Les entiers, les rationnels et les nombres approchés.</a>
</li><li class="li-toc"><a href="#sec7">2.1.2  Les listes, les séquences et les chaînes de caractères</a>
</li><li class="li-toc"><a href="#sec13">2.1.3  Les booléens</a>
</li><li class="li-toc"><a href="#sec18">2.1.4  Expressions, polynômes</a>
</li></ul>
</li><li class="li-toc"><a href="#sec22">2.2  Les fonctions</a>
<ul class="toc"><li class="li-toc">
<a href="#sec23">2.2.1  Quelques fonctions algébriques de <span style="font-family:monospace">Xcas</span></a>
</li><li class="li-toc"><a href="#sec24">2.2.2  Définition d’une fonction algébrique d’une variable</a>
</li><li class="li-toc"><a href="#sec25">2.2.3  Définition d’une fonction algébrique de 2 variables</a>
</li><li class="li-toc"><a href="#sec26">2.2.4  Définition d’une fonction algébrique par morceaux avec <span style="font-family:monospace">quand</span></a>
</li><li class="li-toc"><a href="#sec27">2.2.5  Connaitre les types et les sous-types</a>
</li></ul>
</li><li class="li-toc"><a href="#sec28">2.3  Les instructions de programmation utilisées sur des exemples</a>
<ul class="toc"><li class="li-toc">
<a href="#sec29">2.3.1  Stocker une valeur dans une variable avec <span style="font-family:monospace">:=</span></a>
</li><li class="li-toc"><a href="#sec30">2.3.2  Enlever une valeur stockée dans une variable avec <span style="font-family:monospace">purge</span></a>
</li><li class="li-toc"><a href="#sec31">2.3.3  Suite d’instructions avec <span style="font-family:monospace">;</span> ou <span style="font-family:monospace">:;</span></a>
</li><li class="li-toc"><a href="#sec32">2.3.4  L’instruction <span style="font-family:monospace">retourne</span></a>
</li><li class="li-toc"><a href="#sec33">2.3.5  L’instruction <span style="font-family:monospace">local</span></a>
</li><li class="li-toc"><a href="#sec34">2.3.6  L’instruction <span style="font-family:monospace">pour</span></a>
</li><li class="li-toc"><a href="#sec35">2.3.7  L’instruction <span style="font-family:monospace">pour</span> avec un <span style="font-family:monospace">pas</span></a>
</li><li class="li-toc"><a href="#sec36">2.3.8  L’instruction <span style="font-family:monospace">si</span></a>
</li><li class="li-toc"><a href="#sec37">2.3.9  Utiliser une fonction utilisateur dans un programme</a>
</li><li class="li-toc"><a href="#sec38">2.3.10  L’instruction <span style="font-family:monospace">tantque</span></a>
</li><li class="li-toc"><a href="#sec39">2.3.11  Interruption d’une boucle</a>
</li><li class="li-toc"><a href="#sec40">2.3.12  Exemple 9 : autre exemple de boucle <span style="font-family:monospace">tantque</span></a>
</li><li class="li-toc"><a href="#sec41">2.3.13   Exemple 10 : encore un autre exemple de boucle <span style="font-family:monospace">tantque</span></a>
</li></ul>
</li><li class="li-toc"><a href="#sec42">2.4  Exercice : Algorithme de tracé de courbe</a>
</li></ul>
</li><li class="li-toc"><a href="#sec43">Chapitre 3  Résolution d’équations</a>
<ul class="toc"><li class="li-toc">
<a href="#sec44">3.1  Encadrer une racine d’une équation par dichotomie</a>
</li><li class="li-toc"><a href="#sec45">3.2  Résoudre dans ℝ une équation se ramenant au premier degré ou au degré 2</a>
</li><li class="li-toc"><a href="#sec46">3.3  Résoudre un système de deux équations du premier degré à deux inconnues.</a>
</li></ul>
</li><li class="li-toc"><a href="#sec47">Chapitre 4  Les figures en géométrie plane avec <span style="font-family:monospace">Xcas</span></a>
<ul class="toc"><li class="li-toc">
<a href="#sec48">4.1  Le point : <span style="font-family:monospace">point</span> et le segment : <span style="font-family:monospace">segment</span></a>
</li><li class="li-toc"><a href="#sec49">4.2  Les coordonnées d’un point : <span style="font-family:monospace">coordonnees</span></a>
</li><li class="li-toc"><a href="#sec50">4.3  La droite et son équation : <span style="font-family:monospace">droite</span> et <span style="font-family:monospace">equation</span></a>
</li><li class="li-toc"><a href="#sec51">4.4  Ligne brisée : <span style="font-family:monospace">polygone_ouvert</span></a>
</li><li class="li-toc"><a href="#sec52">4.5  Les polygones : <span style="font-family:monospace">triangle, carre, polygone</span></a>
</li><li class="li-toc"><a href="#sec53">4.6  Le cercle et son équation : <span style="font-family:monospace">cercle</span> et <span style="font-family:monospace">equation</span></a>
</li><li class="li-toc"><a href="#sec54">4.7  Les tangentes à un cercle passant par un point et leurs équations</a>
</li></ul>
</li><li class="li-toc"><a href="#sec55">Chapitre 5  La géométrie analytique</a>
<ul class="toc"><li class="li-toc">
<a href="#sec56">5.1  Les segments</a>
<ul class="toc"><li class="li-toc">
<a href="#sec57">5.1.1  Calculer la distance de deux points connaissant leurs coordonnées</a>
</li><li class="li-toc"><a href="#sec58">5.1.2  Calculer les coordonnées du milieu d’un segment</a>
</li></ul>
</li><li class="li-toc"><a href="#sec59">5.2  Les droites</a>
<ul class="toc"><li class="li-toc">
<a href="#sec60">5.2.1  Équation d’une droite définie par 2 points ou par sa pente et un point</a>
</li><li class="li-toc"><a href="#sec61">5.2.2  Coefficients (a,b,c) de la droite d’équation ax+by+c=0</a>
</li><li class="li-toc"><a href="#sec62">5.2.3  Point d’intersection de 2 droites sécantes</a>
</li></ul>
</li><li class="li-toc"><a href="#sec63">5.3  Triangles et quadrilatères définis par les coordonnées des sommets</a>
</li><li class="li-toc"><a href="#sec64">5.4  Les vecteurs</a>
<ul class="toc"><li class="li-toc">
<a href="#sec65">5.4.1  Les coordonnées d’un vecteur défini par 2 points</a>
</li><li class="li-toc"><a href="#sec66">5.4.2  Calculer les coordonnées de la somme de deux vecteurs dans un repère</a>
</li><li class="li-toc"><a href="#sec67">5.4.3  Coordonnées de <span style="font-style:italic">D</span> extrémité du vecteur 
d’origine <span style="font-style:italic">C</span> équipollent au vecteur <span style="font-style:italic">AB</span></a>
</li><li class="li-toc"><a href="#sec68">5.4.4  Norme d’un vecteur</a>
</li></ul>
</li><li class="li-toc"><a href="#sec69">5.5  Changement de repères</a>
<ul class="toc"><li class="li-toc">
<a href="#sec70">5.5.1  Le problème</a>
</li><li class="li-toc"><a href="#sec71">5.5.2  Le programme <span style="font-weight:bold">Changexy2XY(cM,cI,cU)</span></a>
</li><li class="li-toc"><a href="#sec72">5.5.3  Le programme <span style="font-weight:bold">ChangeXY2xy(CM,cI,cU)</span></a>
</li><li class="li-toc"><a href="#sec73">5.5.4  Exercices</a>
</li></ul>
</li><li class="li-toc"><a href="#sec74">5.6  Cercles, Tangentes à un cercle</a>
<ul class="toc"><li class="li-toc">
<a href="#sec75">5.6.1  Équation d’un cercle défini par son centre et son rayon</a>
</li><li class="li-toc"><a href="#sec76">5.6.2  Équation d’un cercle défini par son diamètre</a>
</li><li class="li-toc"><a href="#sec77">5.6.3  Équation d’un cercle défini par son centre et son rayon ou par son diamètre</a>
</li><li class="li-toc"><a href="#sec78">5.6.4  Centre et rayon d’un cercle donné par son équation</a>
</li><li class="li-toc"><a href="#sec79">5.6.5  Construire la tangente à un cercle en l’un de ses points</a>
</li><li class="li-toc"><a href="#sec80">5.6.6  Construire les tangentes à un cercle passant par un point</a>
</li><li class="li-toc"><a href="#sec83">5.6.7  Solution analytique des tangentes à un cercle</a>
</li></ul>
</li></ul>
</li><li class="li-toc"><a href="#sec84">Chapitre 6  Quelques tests géométriques</a>
<ul class="toc"><li class="li-toc">
<a href="#sec85">6.1  Test d’alignement de 3 points</a>
</li><li class="li-toc"><a href="#sec86">6.2  Test de parallélisme de 2 droites</a>
</li><li class="li-toc"><a href="#sec87">6.3  Caractériser alignement et parallélisme par la colinéarité</a>
</li></ul>
</li><li class="li-toc"><a href="#sec88">Chapitre 7  Statistiques</a>
<ul class="toc"><li class="li-toc">
<a href="#sec89">7.1  Calcul de moyenne et écart-type</a>
</li><li class="li-toc"><a href="#sec90">7.2  Simulation d’un échantillon</a>
</li><li class="li-toc"><a href="#sec91">7.3  Intervalle de fluctuation</a>
</li></ul>
</li><li class="li-toc"><a href="#sec92">Chapitre 8  Aide</a>
<ul class="toc"><li class="li-toc">
<a href="#sec93">8.1  Les fonctions usuelles avec <span style="font-family:monospace">Xcas</span></a>
</li><li class="li-toc"><a href="#sec94">8.2  Les fonctions <span style="font-family:monospace">Xcas</span> de calcul formel utilisées</a>
</li><li class="li-toc"><a href="#sec95">8.3  Les fonctions <span style="font-family:monospace">Xcas</span> de géométrie utilisées</a>
</li><li class="li-toc"><a href="#sec96">8.4  Les fonctions <span style="font-family:monospace">Xcas</span> de programmation utilisées</a>
</li><li class="li-toc"><a href="#sec97">8.5  Les fonctions <span style="font-family:monospace">Xcas</span> utilisées en statistiques</a>
</li></ul>
</li><li class="li-toc"><a href="#sec98">Annexe A  Xcas, Javascript et Python.</a>
</li><li class="li-toc"><a href="#sec99">Annexe B  Les biais des langages interprétés</a>
</li></ul><!--TOC chapter id="sec2" Index-->
<h1 id="sec2" class="chapter">Index</h1><!--SEC END --><p></p><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" ><ul class="indexenv"><li class="li-indexenv">
(), <a href="#hevea_default2">2.1.2</a>
<br>
<br>
</li><li class="li-indexenv">:;, <a href="#hevea_default31">2.3.3</a>
</li><li class="li-indexenv">:=, <a href="#hevea_default28">2.3.1</a>
<br>
<br>
</li><li class="li-indexenv">;, <a href="#hevea_default30">2.3.3</a>
<br>
<br>
</li><li class="li-indexenv">=, <a href="#hevea_default24">2.2.3</a>
</li><li class="li-indexenv">==, <a href="#hevea_default9">2.1.3</a>
<br>
<br>
</li><li class="li-indexenv">[], <a href="#hevea_default1">2.1.2</a>, <a href="#hevea_default4">2.1.2</a>
<br>
<br>
</li><li class="li-indexenv">!=, <a href="#hevea_default10">2.1.3</a>
</li><li class="li-indexenv">", <a href="#hevea_default5">2.1.2</a>
</li><li class="li-indexenv">&lt;, <a href="#hevea_default13">2.1.3</a>
</li><li class="li-indexenv">&lt;=, <a href="#hevea_default11">2.1.3</a>
</li><li class="li-indexenv">&gt;, <a href="#hevea_default14">2.1.3</a>
</li><li class="li-indexenv">&gt;=, <a href="#hevea_default12">2.1.3</a>
<br>
<br>
</li><li class="li-indexenv">carre, <a href="#hevea_default52">4.5</a>
</li><li class="li-indexenv">cercle, <a href="#hevea_default53">4.6</a>
</li><li class="li-indexenv">coeff, <a href="#hevea_default18">2.1.4</a>, <a href="#hevea_default55">5.2.2</a>
</li><li class="li-indexenv">coordonnees, <a href="#hevea_default46">4.2</a>
<br>
<br>
</li><li class="li-indexenv">degree, <a href="#hevea_default16">2.1.4</a>
</li><li class="li-indexenv">dim, <a href="#hevea_default6">2.1.2</a>
</li><li class="li-indexenv">droit, <a href="#hevea_default8">2.1.2</a>, <a href="#hevea_default57">5.2.2</a>
</li><li class="li-indexenv">droite, <a href="#hevea_default47">4.3</a>
<br>
<br>
</li><li class="li-indexenv">equation, <a href="#hevea_default48">4.3</a>, <a href="#hevea_default54">4.6</a>
</li><li class="li-indexenv">evalf, <a href="#hevea_default0">2.1.1</a>
<br>
<br>
</li><li class="li-indexenv">fpour, <a href="#hevea_default36">2.3.6</a>
</li><li class="li-indexenv">fsi, <a href="#hevea_default39">2.3.8</a>
</li><li class="li-indexenv">ftantque, <a href="#hevea_default41">2.3.10</a>
</li></ul></td><td style="vertical-align:top;text-align:left;" ><ul class="indexenv"><li class="li-indexenv">gauche, <a href="#hevea_default7">2.1.2</a>, <a href="#hevea_default56">5.2.2</a>
</li><li class="li-indexenv">gcd, <a href="#hevea_default34">2.3.5</a>
<br>
<br>
</li><li class="li-indexenv">iquo, <a href="#hevea_default22">2.2.3</a>
</li><li class="li-indexenv">iquorem, <a href="#hevea_default20">2.2.3</a>
</li><li class="li-indexenv">irem, <a href="#hevea_default21">2.2.3</a>
<br>
<br>
</li><li class="li-indexenv">local, <a href="#hevea_default33">2.3.5</a>
<br>
<br>
</li><li class="li-indexenv">normal, <a href="#hevea_default15">2.1.4</a>
<br>
<br>
</li><li class="li-indexenv">op, <a href="#hevea_default3">2.1.2</a>
<br>
<br>
</li><li class="li-indexenv">pas, <a href="#hevea_default37">2.3.7</a>
</li><li class="li-indexenv">plotfunc, <a href="#hevea_default23">2.2.3</a>
</li><li class="li-indexenv">point, <a href="#hevea_default42">2.4</a>, <a href="#hevea_default44">4.1</a>
</li><li class="li-indexenv">poly2symb, <a href="#hevea_default19">2.1.4</a>
</li><li class="li-indexenv">polygone, <a href="#hevea_default50">4.5</a>
</li><li class="li-indexenv">polygone_ouvert, <a href="#hevea_default49">4.4</a>
</li><li class="li-indexenv">pour, <a href="#hevea_default35">2.3.6</a>
</li><li class="li-indexenv">purge, <a href="#hevea_default29">2.3.2</a>
<br>
<br>
</li><li class="li-indexenv">quand, <a href="#hevea_default25">2.2.4</a>
<br>
<br>
</li><li class="li-indexenv">retourne, <a href="#hevea_default32">2.3.4</a>
<br>
<br>
</li><li class="li-indexenv">segment, <a href="#hevea_default43">2.4</a>, <a href="#hevea_default45">4.1</a>
</li><li class="li-indexenv">si, <a href="#hevea_default38">2.3.8</a>
</li><li class="li-indexenv">subtype, <a href="#hevea_default27">2.2.5</a>
</li><li class="li-indexenv">symb2poly, <a href="#hevea_default17">2.1.4</a>
<br>
<br>
</li><li class="li-indexenv">tantque, <a href="#hevea_default40">2.3.10</a>
</li><li class="li-indexenv">triangle, <a href="#hevea_default51">4.5</a>
</li><li class="li-indexenv">type, <a href="#hevea_default26">2.2.5</a>
</li></ul></td></tr>
</table>
<!--TOC chapter id="sec3" Avant-propos-->
<h1 id="sec3" class="chapter">Chapitre 1  Avant-propos</h1><!--SEC END --><p>
Ce document est principalement destiné aux enseignants qui 
souhaitent utiliser
le langage de programmation de <span style="font-family:monospace">Xcas</span> pour enseigner l’algorithmique
au lycée, nous espérons qu’il sera aussi consulté 
par des élèves. Dans sa version HTML consultable depuis
un navigateur, certains champs de saisies peuvent être
modifiés et testés directement, y compris sur une tablette
ou un smartphone, ce qui devrait être un plus par rapport
à un cours de programmation papier ou PDF. 
Afin de pouvoir tester plus facilement dans la version HTML
une fonction appelant d’autres
fonctions présentées précedemment,
certaines fonctions “utilitaires” sont répétées plusieurs
fois, ce qui n’est pas optimal si on imprime la version PDF.</p><p>L’utilisation de <span style="font-family:monospace">Xcas</span> peut
se faire depuis un terminal mobile (smartphone ou tablette)
sans installation, il 
suffit d’ouvrir un navigateur (Firefox recommandé)
et de suivre ce lien<br>
<a href="http://www-fourier.ujf-grenoble.fr/%7eparisse/xcasfr.html">http://www-fourier.ujf-grenoble.fr/~parisse/xcasfr.html</a><br>
(L’accès réseau est nécessaire uniquement lors de la première
consultation).
Il n’est donc pas indispensable d’aller en salle informatique
pour faire un exercice d’algorithmique pendant un cours de mathématiques, 
on peut utiliser les smartphones (en mode avion) 
ou les tablettes des élèves comme
des super-calculatrices (formelles, graphiques, 3d, ... il ne
manque que le mode examen...). C’est une
raison supplémentaire pour écrire ce document.</p><p>Actuellement aucun langage n’est imposé en 2nde, 1ère et Terminale,
nous espérons que cette situation va perdurer et que beaucoup
d’enseignants résisteront aux pressions de certains de vouloir imposer
un langage unique (comme pour les enseignements obligatoires
d’informatique en classe préparatoires). La plupart des langages
interprétés permettent d’apprendre à programmer les
concepts algorithmiques au programme du lycée (test, boucle,
variable, affectation, fonction). En effet,
pour les élèves, la difficulté principale ce sont les concepts 
algorithmiques, rarement
la syntaxe du langage lui-même, car ils peuvent se faire aider
par l’enseignant s’ils sont bloqués. C’est donc aux enseignants
qu’il revient de choisir un langage avec lequel ils sont à l’aise,
non seulement pour écrire eux-mêmes un programme, mais aussi
pour trouver rapidement une erreur de syntaxe ou d’exécution
dans un programme d’un de leurs élèves. Pour la grande majorité
des élèves, il est probablement souhaitable qu’ils soient
confrontés lors des changements de professeur
à plusieurs langages au cours de leur scolarité
(par exemple <span style="font-family:monospace">Xcas</span>, calculatrices ou Javascript, Julia, Python, ...), ce qui
leur permettra de mieux comprendre les concepts universels partagés 
(l’algorithmique) et
les biais et particularités propres à un langage donné
(voir en appendice), et
facilitera aussi leur adaptation à d’autres langages. Pour ceux qui
se destinent à des études scientifiques, il nous parait
important qu’ils soient aussi confrontés à d’autres types de langages 
(compilés, fonctionnels ...) au cours de leurs études
dont au moins un langage de plus bas
niveau : les langages interprétés permettent d’utiliser
facilement des types ou instructions puissantes,
se confronter avec un langage de plus bas niveau permet
de mieux comprendre ce qui est basique ou ne l’est pas
et ce qui est intrinsèquement rapide ou/et couteux en ressource
mémoire ou ne l’est pas (on peut voir ça comme l’analogue entre
faire une démonstration ou admettre un théorème).</p><p>Le langage de <span style="font-family:monospace">Xcas</span> est fortement orienté mathématique et de ce fait
peut facilement interagir avec les thèmes du programme de maths, tous
les types mathématiques au programme du lycée sont 
directement accessibles (par exemple :
entiers et rationnels, nombres approchés réels
et complexes, vecteurs, polynômes et matrices). 
De plus 
nous avons adapté le langage pour en faciliter l’apprentissage d’après
notre expérience d’enseignement avec des publics divers :
</p><ul class="itemize"><li class="li-itemize">
Les structures sont délimitées par des mots-clefs explicites 
en français <br>
(<code>si . alors . sinon . fsi</code>),<br>
(<code>pour . de . jusque . faire ... fpour</code>),<br>
(<code>tantque . faire ... ftantque</code>)...<br>
L’indentation sert à controler qu’on n’a pas fait
de faute de syntaxe (non-fermeture d’une parenthèse par exemple).
Les diverses interfaces de <span style="font-family:monospace">Xcas</span> proposent des assistants
pour créer facilement les structures de controle usuelles 
(fonction, test, boucle).
</li><li class="li-itemize">Il faut déclarer explicitement les variables locales, ainsi une
faute de frappe dans un nom de variable est détectée et un
avertissement est affiché.
</li><li class="li-itemize">Lorsqu’on programme une fonction, on peut lui passer
en argument des variables qui sont de type fonction ou expression, 
ceci facilite l’écriture
de certains algorithmes (dichotomie, méthode
des rectangles par exemple)
</li><li class="li-itemize">Les thèmes d’algorithmique abordés au lycée sont
presque toujours déjà implémentés dans une commande
de Xcas, ceci permet
de vérifier en comparant le résultat de la fonction qu’on
vient de concevoir avec la commande interne.
</li></ul>
<!--TOC chapter id="sec4" Types, fonctions, programmation.-->
<h1 id="sec4" class="chapter">Chapitre 2  Types, fonctions, programmation.</h1><!--SEC END -->
<!--TOC section id="sec5" Types-->
<h2 id="sec5" class="section">2.1  Types</h2><!--SEC END -->
<!--TOC subsection id="sec6" Les entiers, les rationnels et les nombres approchés.-->
<h3 id="sec6" class="subsection">2.1.1  Les entiers, les rationnels et les nombres approchés.</h3><!--SEC END --><p><a id="hevea_default0"></a>
Dans <span style="font-family:monospace">Xcas</span> :<br>
les entiers sont des nombres de ℤ, par exemple -2,<br>
les rationnels sont des nombres de ℚ, par exemple 1/3,<br>
les nombres approchés sont des nombres décimaux<sup><a id="text1" href="#note1">1</a></sup>, par exemple 3.14,<br>
les nombres réels sont représentés par des des nombres décimaux ou par des valeurs symboliques, par exemple √<span style="text-decoration:overline">2</span>.<br>
Pour avoir une valeur approchée d’un nombre réel on utilise la commande :
<span style="font-family:monospace">evalf</span>, par exemple <span style="font-family:monospace">evalf(sqrt(2))</span> ou <span style="font-family:monospace">evalf(sqrt(2),20)</span> pour 
avoir une valeur approchée de √<span style="text-decoration:overline">2</span> avec 20 chiffres significatifs.

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">evalf(sqrt(2))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">evalf(sqrt(2),20)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec7" Les listes, les séquences et les chaînes de caractères-->
<h3 id="sec7" class="subsection">2.1.2  Les listes, les séquences et les chaînes de caractères</h3><!--SEC END -->
<!--TOC subsubsection id="sec8" Définition d’une liste-->
<h4 id="sec8" class="subsubsection">Définition d’une liste</h4><!--SEC END --><p><a id="hevea_default1"></a>
Qu’est-ce qu’une <span style="font-weight:bold">liste</span> ?<br>
C’est une énumération d’objets, dont l’ordre est important. 
Cela peut servir à représenter les coordonnées d’un point ou
d’un vecteur, à contenir une liste de valeurs (observations) 
en statistiques, ...<br>
Une liste est délimitée par des crochets <span style="font-family:monospace">[]</span> et les éléments de 
la liste sont séparés par une virgule <span style="font-family:monospace">,</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[2,24,1,15,5,10]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsubsection id="sec9" Définition d’une séquence-->
<h4 id="sec9" class="subsubsection">Définition d’une séquence</h4><!--SEC END --><p><a id="hevea_default2"></a>
Qu’est-ce qu’une <span style="font-weight:bold">séquence</span> ?<br>
C’est presque la même chose qu’une liste, mais sans crochets, on ne peut
donc pas créer une séquence de séquences alors qu’on peut créer
une liste de listes. Par exemple les arguments d’une fonction sont
regroupés en une séquence.<br>
Une séquence n’est pas délimitée 
(ou est délimitée par des parenthèses <span style="font-family:monospace">()</span>) et les éléments
de la séquence sont séparés par une virgule <span style="font-family:monospace">,</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">S:=(2,24,1,15,5,10)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsubsection id="sec10" Transformation d’une séquence en liste et vice-versa-->
<h4 id="sec10" class="subsubsection">Transformation d’une séquence en liste et vice-versa</h4><!--SEC END --><p><a id="hevea_default3"></a>
<a id="hevea_default4"></a>
Si <span style="font-family:monospace">S</span> est une séquence alors <span style="font-family:monospace">[S]</span> est une liste.<br>
Si <span style="font-family:monospace">L</span> est une liste alors <span style="font-family:monospace">op(L)]</span> est une séquence.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[2,24,1,15,5,10]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">S:=(2,24,1,15,5,10)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">op(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">[S]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsubsection id="sec11" Définition d’une chaine de caractères-->
<h4 id="sec11" class="subsubsection">Définition d’une chaine de caractères</h4><!--SEC END --><p><a id="hevea_default5"></a>
Qu’est-ce qu’une <span style="font-weight:bold">chaine de caractères</span> ?<br>
C’est la concaténation de 0, 1 ou plusieurs caractères.<br>
Une chaine de caractères est délimitée par <span style="font-family:monospace">""</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">s:="Bonjour"
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsubsection id="sec12" Les instructions sur les listes les séquences et les chaînes de caractères-->
<h4 id="sec12" class="subsubsection">Les instructions sur les listes les séquences et les chaînes de caractères</h4><!--SEC END --><p><a id="hevea_default6"></a><a id="hevea_default7"></a><a id="hevea_default8"></a>
<span style="font-family:monospace">dim(L)</span> renvoie le nombre d’éléments de la liste <span style="font-family:monospace">L</span>.<br>
<span style="font-family:monospace">dim(S)</span> renvoie le nombre d’éléments de la séquence <span style="font-family:monospace">S</span>.<br>
<span style="font-family:monospace">dim(s)</span> renvoie le nombre de caractères de la chaîne <span style="font-family:monospace">s</span>.<br>
<span style="font-family:monospace">[]</span> représente la liste vide et <span style="font-family:monospace">dim([])</span> vaut <span style="font-family:monospace">0</span>.<br>
<span style="font-family:monospace">NULL</span> représente la séquence vide et <span style="font-family:monospace">dim(NULL)</span> vaut <span style="font-family:monospace">0</span>.<br>
<span style="font-family:monospace">""</span> représente la chaîne vide et <span style="font-family:monospace">dim("")</span> vaut <span style="font-family:monospace">0</span>.<br>
Les éléments de la liste sont numérotés de 0 jusque <span style="font-family:monospace">dim(L)-1</span>.<br>
<span style="font-family:monospace">L|0]</span> désigne le premier élément de la liste et <span style="font-family:monospace">L[dim(L)-1]</span> 
désigne le dernier élément de la liste.<br>
Les éléments de la séquence sont numérotés de 0 jusque <span style="font-family:monospace">dim(S)-1</span>.<br>
<span style="font-family:monospace">S|0]</span> désigne le premier élément de la séquence et 
<span style="font-family:monospace">S[dim(S)-1]</span> désigne le dernier élément de la séquence.<br>
<span style="font-family:monospace">s|0]</span> désigne le premier caractère de la chaîne et <span style="font-family:monospace">s[dim(s)-1]</span> 
désigne le dernier caractère de la chaîne.<br>
<span style="font-family:monospace">gauche(L,n)</span> renvoie les <span style="font-family:monospace">n</span> premiers éléments de la liste <span style="font-family:monospace">L</span>
(c’est le côté gauche de la liste).<br>
<span style="font-family:monospace">droit(L,n)</span> renvoie les <span style="font-family:monospace">n</span> derniers éléments de la liste <span style="font-family:monospace">L</span>
(c’est le côté droit de la liste).<br>
<span style="font-family:monospace">gauche(s,n)</span> renvoie les <span style="font-family:monospace">n</span> premiers caractères de la chaîne 
<span style="font-family:monospace">s</span> (c’est le côté gauche de la chaîne).<br>
<span style="font-family:monospace">droit(s,n)</span> renvoie les <span style="font-family:monospace">n</span> derniers caractères de la chaîne 
<span style="font-family:monospace">s</span> (c’est le côté droit de la chaîne).<br>
 Par exemple : soient la liste <span style="font-family:monospace">L:=[2,24,1,15,5,10]</span> et la chaîne
<span style="font-family:monospace">s:="Bonjour"</span>.<br>
<span style="font-family:monospace">L1:=seq(2*k,k,0,4)</span> crée la liste <span style="font-family:monospace">[0,2,4,6,8]</span><br>
<span style="font-family:monospace">count(x-&gt;x&gt;2,L1)</span> compte le nombre d’éléments de <span style="font-family:monospace">L1</span> supérieurs
à 2.<br>
<span style="font-family:monospace">S1:=seq(2*k,k=0..4)</span> crée la séquence <span style="font-family:monospace">(0,2,4,6,8)</span><br>
<span style="font-family:monospace">count(x-&gt;x&gt;2,S1)</span> compte le nombre d’éléments de <span style="font-family:monospace">S1</span> supérieurs
à 2.<br>
<span style="font-family:monospace">sum(L)</span> renvoie la somme des éléments de la liste <span style="font-family:monospace">L</span>.<br>
<span style="font-family:monospace">sum(S)</span> renvoie la somme des éléments de la séquence <span style="font-family:monospace">S</span>.<br>
On tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[2,24,1,15,5,10]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> n1:=dim(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L[0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> L[1];L[2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> L[n1-1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> gauche(L,2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> droit(L,2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sum(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">S:=(2,24,1,15,5,10)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> n1:=dim(S)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">S[0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> S[1];S[2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> S[n1-1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sum(S)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">s:="Bonjour"
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> n2:=dim(s)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">s[0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> s[1];s[2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> s[n2-1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> gauche(s,3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large"> droit(s,4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec13" Les booléens-->
<h3 id="sec13" class="subsection">2.1.3  Les booléens</h3><!--SEC END -->
<!--TOC subsubsection id="sec14" Définition-->
<h4 id="sec14" class="subsubsection">Définition</h4><!--SEC END --><p>
L’ensemble des booléens est un ensemble à 2 éléments :<br>
<span style="font-family:monospace">vrai</span> ou <span style="font-family:monospace">1</span> et <span style="font-family:monospace">faux</span> ou <span style="font-family:monospace">0</span>.<br>
Pour faire des tests, on utilise des opérateurs booléens.</p>
<!--TOC subsubsection id="sec15" Opérateur booléen infixé qui teste l’égalité avec <span style="font-family:monospace">==</span>-->
<h4 id="sec15" class="subsubsection">Opérateur booléen infixé qui teste l’égalité avec <span style="font-family:monospace">==</span></h4><!--SEC END --><p>
<a id="hevea_default9"></a>
<span style="font-weight:bold">Exemple :</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=3
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b:=5
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b-a==0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b-a-2==0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Attention</span> <br>
Il est conseillé d’écrire <span style="font-family:monospace">simplify(a-b)==0</span> plutôt que <span style="font-family:monospace">a==b</span> 
pour tester légalité entre <span style="font-family:monospace">a</span> et <span style="font-family:monospace">b</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">(1+sqrt(2))^2==3+2*sqrt(2);simplify((1+sqrt(2))^2-3-2*sqrt(2))==0;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Attention</span> <br>
le signe <span style="font-family:monospace">:=</span> sert à stocker une valeur dans une variable.<sup><a id="text2" href="#note2">2</a></sup><br>
le signe <span style="font-family:monospace">==</span> sert à tester l’égalité, il est conseillé d’écrire
<span style="font-family:monospace">simplify(a-b)==0</span> plutôt que <span style="font-family:monospace">a==b</span> pour tester légalité entre
<span style="font-family:monospace">a</span> et <span style="font-family:monospace">b</span>.<br>
le signe <span style="font-family:monospace">=</span> sert à définir une équation ou à donner la valeur par
défaut d’un argument (cf <a href="#sec%3Avaldef">2.2.3</a>) et non à tester l’égalité.</p>
<!--TOC subsubsection id="sec16" Opérateur booléen infixé qui teste la non égalité avec <span style="font-family:monospace">!=</span>-->
<h4 id="sec16" class="subsubsection">Opérateur booléen infixé qui teste la non égalité avec <span style="font-family:monospace">!=</span></h4><!--SEC END --><p>
<a id="hevea_default10"></a>
<span style="font-weight:bold">Exemple :</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=3
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b:=5
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b!=a
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a+2!=b
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsubsection id="sec17" Opérateur booléen infixé qui teste l’inégalité avec <span style="font-family:monospace">&lt;, &gt;, &lt;=, &gt;=</span>-->
<h4 id="sec17" class="subsubsection">Opérateur booléen infixé qui teste l’inégalité avec <span style="font-family:monospace">&lt;, &gt;, &lt;=, &gt;=</span></h4><!--SEC END --><p><a id="hevea_default11"></a><a id="hevea_default12"></a><a id="hevea_default13"></a><a id="hevea_default14"></a>
<span style="font-weight:bold">Exemple :</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=3
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b:=5
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b >= a
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a+2 > b
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a+2 >= b
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec18" Expressions, polynômes-->
<h3 id="sec18" class="subsection">2.1.4  Expressions, polynômes</h3><!--SEC END -->
<!--TOC subsubsection id="sec19" Simplification d’une expression avec <span style="font-family:monospace">normal</span>-->
<h4 id="sec19" class="subsubsection">Simplification d’une expression avec <span style="font-family:monospace">normal</span></h4><!--SEC END --><p><a id="hevea_default15"></a>
<span style="font-family:monospace">Xcas</span> renvoie le résultat d’un calcul sans le simplifier.<br>
Il faut utiliser la fonction <span style="font-family:monospace">normal</span> ou <span style="font-family:monospace">simplify</span>
pour avoir le résulat simplifié.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">(x^2+1)^2+(x^2-1)^2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">normal((x^2+1)^2+(x^2-1)^2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsubsection id="sec20" Les polynômes-->
<h4 id="sec20" class="subsubsection">Les polynômes</h4><!--SEC END --><p>
Un polynôme à une indéterminée à coefficients dans ℝ est 
déterminé par une 
séquence <span style="font-style:italic">a</span><sub><span style="font-style:italic">n</span></sub>,...,<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">a</span><sub>0</sub> d’éléments de ℝ, c’est l’expression :<br>
<span style="font-style:italic">a</span><sub><span style="font-style:italic">n</span></sub><span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup>+...+<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">a</span><sub>0</sub> (resp <span style="font-style:italic">a</span><sub>0</sub>+<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span><sup>2</sup>+..+<span style="font-style:italic">a</span><sub><span style="font-style:italic">n</span></sub><span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup>).<br>
<span style="font-style:italic">n</span> est le degré du polynôme.<br>
On dit que l’on a écrit le polynôme selon les puissances décroissantes 
(resp. croissantes).<br>
<span style="font-style:italic">a</span><sub><span style="font-style:italic">n</span></sub>,..<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">a</span><sub>0</sub> sont les coefficients du polynôme et <span style="font-style:italic">x</span> est la variable ou
l’indéterminée du polynôme.<br>
On notera l’ensemble des polynômes à une indéterminée <span style="font-style:italic">x</span> : ℝ[<span style="font-style:italic">x</span>].<br>
Un polynôme à 2 indéterminées <span style="font-style:italic">x</span> et <span style="font-style:italic">y</span> à coefficients dans ℝ est 
déterminé par 
une séquence <span style="font-style:italic">A</span><sub><span style="font-style:italic">n</span></sub>(<span style="font-style:italic">y</span>),...,<span style="font-style:italic">A</span><sub>1</sub>(<span style="font-style:italic">y</span>),<span style="font-style:italic">A</span><sub>0</sub>(<span style="font-style:italic">y</span>) d’éléments de ℝ[<span style="font-style:italic">y</span>]
et a pour expression :<br>
<span style="font-style:italic">A</span><sub>0</sub>(<span style="font-style:italic">y</span>)+<span style="font-style:italic">A</span><sub>1</sub>(<span style="font-style:italic">y</span>)<span style="font-style:italic">x</span>+<span style="font-style:italic">A</span><sub>2</sub>(<span style="font-style:italic">y</span>)<span style="font-style:italic">x</span><sup>2</sup>+..+<span style="font-style:italic">A</span><sub><span style="font-style:italic">n</span></sub>(<span style="font-style:italic">y</span>)<span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup> (resp <span style="font-style:italic">A</span><sub><span style="font-style:italic">n</span></sub>(<span style="font-style:italic">y</span>)<span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup>+...+<span style="font-style:italic">A</span><sub>1</sub>(<span style="font-style:italic">y</span>)<span style="font-style:italic">x</span>+<span style="font-style:italic">A</span><sub>0</sub>(<span style="font-style:italic">y</span>)).<br>
par exemple :<br>
si <span style="font-style:italic">A</span><sub>0</sub>(<span style="font-style:italic">y</span>)=<span style="font-style:italic">y</span><sup>3</sup>−2,<span style="font-style:italic">A</span><sub>1</sub>(<span style="font-style:italic">y</span>)=−2<span style="font-style:italic">y</span>,<span style="font-style:italic">A</span><sub>2</sub>(<span style="font-style:italic">y</span>)=<span style="font-style:italic">y</span><sup>3</sup>+2*<span style="font-style:italic">y</span>+3<br>
Le polynôme s’écrit :<br>
<span style="font-style:italic">y</span><sup>3</sup>−2−2<span style="font-style:italic">y</span>*<span style="font-style:italic">x</span>+(<span style="font-style:italic">y</span><sup>3</sup>+2*<span style="font-style:italic">y</span>+3)*<span style="font-style:italic">x</span><sup>2</sup>=<span style="font-style:italic">x</span><sup>2</sup>*<span style="font-style:italic">y</span><sup>3</sup>+2*<span style="font-style:italic">x</span><sup>2</sup>*<span style="font-style:italic">y</span>+3*<span style="font-style:italic">x</span><sup>2</sup>−2*<span style="font-style:italic">x</span>*<span style="font-style:italic">y</span>+<span style="font-style:italic">y</span><sup>3</sup>−2<br>
Le degré par rapport à <span style="font-style:italic">x</span> du polynôme de cet exemple et égal à 2.<br>
Le degré par rapport à <span style="font-style:italic">y</span> du polynôme de cet exemple et égal à 3.
</p>
<!--TOC subsubsection id="sec21" Coefficients et degré d’un polynôme-->
<h4 id="sec21" class="subsubsection">Coefficients et degré d’un polynôme</h4><!--SEC END --><p><a id="hevea_default16"></a><a id="hevea_default17"></a><a id="hevea_default18"></a><a id="hevea_default19"></a>
<span style="font-family:monospace">Xcas</span> représente les polynômes :<br>
soit comme la séquence des coefficients selon les puissances décroissantes
(<span style="font-family:monospace">poly1[1,2,3]</span> i.e. <span style="font-family:monospace">[a2,a1,a0]:=[1,2,3]</span>)
soit sous la forme d’une expression symbolique (<span style="font-family:monospace">x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+2x+3</span> si <span style="font-family:monospace">x</span>
est l’indéterminée).<br>
Les commandes <span style="font-family:monospace">poly2symb</span> et <span style="font-family:monospace">symb2poly</span> permettent de passer d’une 
représentation à l’autre :<br>
<span style="font-family:monospace">poly2symb([1,2,3],y)</span> renvoie <span style="font-family:monospace">(y+2)*y+3</span><br>
et <span style="font-family:monospace">symb2poly(y</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+2y+3)</span> renvoie <span style="font-family:monospace">poly1[1,2,3]</span>.<br>
 Pour avoir le degré d’une expression polynômiale par rapport à une 
variable, on utilise
l’instruction <span style="font-family:monospace">degree</span> qui renvoie le degré d’un polynôme par 
rapport au 2ième argument (<span style="font-family:monospace">x</span> est la variable par défaut).<br>
Pour avoir les coefficients d’un polynôme par rapport à une variable
on utilise l’instruction <span style="font-family:monospace">symb2poly</span> qui renvoie la liste des coefficients 
d’un polynôme par rapport au 2ième argument (<span style="font-family:monospace">x</span> est la variable par 
défaut). <br>
On a si <span style="font-family:monospace">L:=symb2poly(P(x))</span>, <span style="font-family:monospace">degree(P(x))</span> est égal à
<span style="font-family:monospace">dim(L)-1</span>.<br>
Pour avoir le coefficient d’un polynôme par rapport à une variable de 
degré donné on utilise l’instruction <span style="font-family:monospace">coeff</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">degree(x^2-2x*y+y^3-2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">degree(x^2-2x*y+y^3-2,x)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">degree(x^2-2x*y+y^3-2,y)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">symb2poly(x^2-2x*y+y^3-2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">symb2poly(x^2-2x*y+y^3-2,x)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">symb2poly(x^2-2x*y+y^3-2,y)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coeff(x^2-2x*y+y^3-2,x,2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coeff(x^2-2x*y+y^3-2,y,1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec22" Les fonctions-->
<h2 id="sec22" class="section">2.2  Les fonctions</h2><!--SEC END --><p>
On distingue les fonctions ou commandes de <span style="font-family:monospace">Xcas</span> et les fonctions 
définies par l’utilisateur. Pour éviter le risque d’utiliser un nom
de fonction de <span style="font-family:monospace">Xcas</span>, il est conseillé de nommer les fonctions
utilisateurs en utilisant une majuscule comme première lettre.<br>
Pour définir des fonctions (utilisateurs), on distinguera
</p><ul class="itemize"><li class="li-itemize">
les fonctions définies par une expression algébrique.
Leur définition peut se faire simplement avec <span style="font-family:monospace">:=</span>
</li><li class="li-itemize">les fonctions qui nécessitent des calculs intermédiaires ou
des structures de contrôle
(test, boucle). Leur définition se fait au moyen d’un 
programme, en utilisant les instructions 
<span style="font-family:monospace">fonction...ffonction</span>, <span style="font-family:monospace">local</span> et <span style="font-family:monospace">retourne</span> et
les structures de contrôle.
</li></ul>
<!--TOC subsection id="sec23" Quelques fonctions algébriques de <span style="font-family:monospace">Xcas</span>-->
<h3 id="sec23" class="subsection">2.2.1  Quelques fonctions algébriques de <span style="font-family:monospace">Xcas</span></h3><!--SEC END --><p>
<span style="font-family:monospace">abs</span> est la fonction valeur absolue<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">abs(sqrt(2)-3/2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">cos</span> est la fonction cosinus,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cos(pi/6)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">floor</span> est la partie entière i.e.le plus grand entier &lt;= à 
l’argument ,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">floor(-2.42)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">floor(2.42)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">frac</span> est la partie fractionnaire d’un réel<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">frac(3/2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">frac(2.42)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">max</span> est la fonction maximum pour une séquence de nombres réels,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">max(sqrt(2),3,5,sqrt(26))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">min</span> est la fonction minimum pour une séquence de nombres réels,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">min(sqrt(2),3,5,sqrt(26))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<code><span style="font-family:monospace">^</span></code> est la fonction puissance,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">2^10
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">round</span> est la fonction qui arrondit un réel en l’entier (resp le décimal) le plus proche,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">round(-2.42)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">round(-2.42,1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">round(sqrt(2),4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">sign</span> est la fonction signe de l’argument et renvoie -1, 0 ou +1,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sign(-4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sign(4-4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sign(4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">sin</span> est la fonction sinus,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sin(pi/3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">sqrt</span> est la racine carrée,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">sqrt(2)^2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">(sqrt(3)+1)*(sqrt(3)-1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">normal((sqrt(3)+1)*(sqrt(3)-1))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">tan</span> est la fonction tangente,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">tan(pi/4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec24" Définition d’une fonction algébrique d’une variable-->
<h3 id="sec24" class="subsection">2.2.2  Définition d’une fonction algébrique d’une variable</h3><!--SEC END --><p>
<span style="font-weight:bold">Exemple :</span><br>
On veut définir la fonction <span style="font-style:italic">f</span><sub>1</sub> définie pour <span style="font-style:italic">x</span> ∈ ℝ, par 
<span style="font-style:italic">f</span><sub>1</sub>(<span style="font-style:italic">x</span>)=<span style="font-style:italic">x</span><sup>2</sup>+1.<br>
 <span style="font-style:italic">f</span> est le nom de la fonction et <span style="font-style:italic">x</span> est le nom de l’argument de <span style="font-style:italic">f</span><sub>1</sub> (ici <span style="font-style:italic">x</span>
est un réel), la valeur de la fonction <span style="font-style:italic">f</span><sub>1</sub> est <span style="font-style:italic">x</span><sup>2</sup>+1.<br>
<span style="font-weight:bold">Remarque</span> : En mathématique on dit que <span style="font-style:italic">x</span> est une variable.<br>
On tape simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f1(x):=x^2+1;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>
On pourrait aussi définir <span style="font-family:monospace">f1</span> par un programme
avec <span style="font-family:monospace">fonction...ffonction</span> et <span style="font-family:monospace">retourne</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">fonction f1(x) retourne x^2+1; ffonction;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f1(5)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec25" Définition d’une fonction algébrique de 2 variables-->
<h3 id="sec25" class="subsection">2.2.3  Définition d’une fonction algébrique de 2 variables</h3><!--SEC END --><p><a id="hevea_default20"></a><a id="hevea_default21"></a><a id="hevea_default22"></a><a id="hevea_default23"></a><a id="hevea_default24"></a><a id="sec:valdef"></a>
<span style="font-weight:bold">Exemple</span> :<br>
On veut définir la fonction <span style="font-style:italic">f</span><sub>2</sub> définie pour (<span style="font-style:italic">x</span>,<span style="font-style:italic">y</span>) ∈ ℝ<sup>2</sup>, par 
<span style="font-style:italic">f</span><sub>2</sub>(<span style="font-style:italic">x</span>,<span style="font-style:italic">y</span>)=<span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>.<br>
 <span style="font-style:italic">f</span><sub>2</sub> est le nom de la fonction et <span style="font-style:italic">f</span><sub>2</sub> a 2 arguments réels : <span style="font-style:italic">x</span>,<span style="font-style:italic">y</span> (en 
mathématique on dit que <span style="font-style:italic">x</span>,<span style="font-style:italic">y</span> sont les variables de <span style="font-style:italic">f</span><sub>2</sub>). La valeur 
de la fonction <span style="font-style:italic">f</span><sub>2</sub> est <span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>.<br>
On tape simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f2(x,y):=x^2+y^2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Ou on tape :

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">fonction f2(x,y) x^2+y^2; ffonction
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Valeur par défaut d’une variable</span><br>
On peut définir la <span style="font-weight:bold">valeur par défaut</span> de la variable <span style="font-family:monospace">y</span> et ainsi
donner le même nom <span style="font-style:italic">f</span> aux 2 fonctions <span style="font-style:italic">f</span><sub>1</sub> et <span style="font-style:italic">f</span><sub>2</sub> définies 
précédement.<br>
Ainsi la fonction <span style="font-style:italic">f</span> sera définie par :<br>
si elle a une variable <span style="font-style:italic">x</span> alors <span style="font-style:italic">f</span>(<span style="font-style:italic">x</span>)=<span style="font-style:italic">x</span><sup>2</sup>+1 et <br>
si elle a 2 variables <span style="font-style:italic">x</span>,<span style="font-style:italic">y</span> alors <span style="font-style:italic">f</span>(<span style="font-style:italic">x</span>,<span style="font-style:italic">y</span>)=<span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>.<br>
On tape simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f(x,y=1):=x^2+y^2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Ou on tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">fonction f(x,y=1) x^2+y^2;ffonction
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f(3,4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f(3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Autre exemple</span> :<br>
On veut définir la fonction <span style="font-style:italic">g</span> définie pour (<span style="font-style:italic">a</span>,<span style="font-style:italic">b</span>) ∈ ℕ<sup>2</sup> par 
<span style="font-style:italic">g</span>(<span style="font-style:italic">a</span>,<span style="font-style:italic">b</span>)=<span style="font-style:italic">q</span>,<span style="font-style:italic">r</span> où <span style="font-style:italic">q</span>,<span style="font-style:italic">r</span> désigne le quotient et le reste de la division 
euclidienne de <span style="font-style:italic">a</span> par <span style="font-style:italic">b</span>.<br>
On tape simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(a,b):=iquorem(a,b);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
ou bien avec <span style="font-family:monospace">fonction...ffonction</span> et <span style="font-family:monospace">retourne</span> : <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">fonction g(a,b) retourne iquorem(a,b); ffonction;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-style:italic">g</span> est le nom de la fonction, <span style="font-style:italic">a</span>,<span style="font-style:italic">b</span> sont les noms des arguments de <span style="font-style:italic">g</span> (<span style="font-style:italic">a</span> et
<span style="font-style:italic">b</span> sont des entiers) et <span style="font-family:monospace">iquorem</span> renvoie le quotient et le reste de la 
division euclidienne de <span style="font-style:italic">a</span> par <span style="font-style:italic">b</span> sous la forme d’une liste.<br>
On a aussi les instructions :<br>
<span style="font-family:monospace">iquo(a,b)</span> qui renvoie le quotient de la division euclidienne de <span style="font-style:italic">a</span> par 
<span style="font-style:italic">b</span>.<br>
<span style="font-family:monospace">irem(a,b)</span> qui renvoie le reste de la division euclidienne de <span style="font-style:italic">a</span> par <span style="font-style:italic">b</span>.<br>
et on a donc <span style="font-family:monospace">iquorem(a,b)</span> est identique à <span style="font-family:monospace">[iquo(a,b),irem(a,b)]</span>.<br>
<br><textarea onkeypress="UI.ckenter(event,this,2)" style="width:400px;height:20px;font-size:large">g(25,3) 
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value); tmp=UI.latexeval(tmp);nextSibling.innerHTML='&nbsp;'+tmp; if (UI.usemathjax) MathJax.Hub.Queue(['Typeset',MathJax.Hub,nextSibling])">ok</button><span></span><br></p>
<!--TOC subsection id="sec26" Définition d’une fonction algébrique par morceaux avec <span style="font-family:monospace">quand</span>-->
<h3 id="sec26" class="subsection">2.2.4  Définition d’une fonction algébrique par morceaux avec <span style="font-family:monospace">quand</span></h3><!--SEC END --><p><a id="hevea_default25"></a>
<span style="font-weight:bold">Exemple :</span><br>
<span style="font-family:monospace">quand</span> a 3 arguments : une condition et 2 expressions :<br>
<span style="font-family:monospace">quand(Cond,Expr1,Expr2)</span><br>
Si la condition <span style="font-family:monospace">Cond</span> est vraie alors <span style="font-family:monospace">quand</span> renvoie <span style="font-family:monospace">Expr1</span> et<br>
si la condition <span style="font-family:monospace">Cond</span> est fausse alors <span style="font-family:monospace">quand</span> renvoie <span style="font-family:monospace">Expr2</span>.<br>
Soit la fonction <span style="font-family:monospace">Abs1</span> définie par <span style="font-family:monospace">Abs1</span>(<span style="font-style:italic">x</span>)=|<span style="font-style:italic">x</span>−1|−1 :<br>
si <span style="font-style:italic">x</span>&gt;1 on a <span style="font-family:monospace">Abs1</span>(<span style="font-style:italic">x</span>)=<span style="font-style:italic">x</span>−1−1=<span style="font-style:italic">x</span>−2 et<br>
si <span style="font-style:italic">x</span> ≤ 1 on a <span style="font-family:monospace">Abs1</span>(<span style="font-style:italic">x</span>)=−<span style="font-style:italic">x</span>+1−1=−<span style="font-style:italic">x</span>.<br>

On tape simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Abs1(x):= quand(x > 1, x-2,-x);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
ou bien avec <span style="font-family:monospace">fonction...ffonction</span> et <span style="font-family:monospace">retourne</span> : <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">fonction Abs1(x) retourne quand(x > 1,x-2,-x); ffonction;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Abs1(1/2),Abs1(1),Abs1(3/2),Abs1(-2),Abs1(2) 
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">plotfunc(Abs1(x),x=-5..7)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec27" Connaitre les types et les sous-types-->
<h3 id="sec27" class="subsection">2.2.5  Connaitre les types et les sous-types</h3><!--SEC END --><p><a id="hevea_default26"></a><a id="hevea_default27"></a>
<span style="font-weight:bold">Les types</span><br>
<span style="font-family:monospace">Xcas</span> sait reconnaitre le type d’un objet.<br>
Pour avoir le type de l’objet <span style="font-family:monospace">a</span> ou le contenu d’une variable <span style="font-family:monospace">a</span>, on 
utilise <span style="font-family:monospace">type(a)</span>.<br>
Par exemple, si <span style="font-family:monospace">a:=&lt;valeur&gt;</span>, et si <span style="font-family:monospace">&lt;valeur&gt;</span> est un nombre 
flottant, <span style="font-family:monospace">type(a)</span> renvoie <span style="font-family:monospace">double</span> ou <span style="font-family:monospace">1</span> ce qui signifie que 
<span style="font-family:monospace">a</span> contient un nombre flottant.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=3.14
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">integer</span> ou <span style="font-family:monospace">2</span> ce qui signifie que <span style="font-family:monospace">a</span> contient un nombre 
entier,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=2017
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">rational</span> ou <span style="font-family:monospace">10</span> ce qui signifie que <span style="font-family:monospace">a</span> contient un nombre 
rationnel,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=2/7
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">DOM_FUNC</span> ou <span style="font-family:monospace">13</span> ce qui signifie que <span style="font-family:monospace">a</span> est le nom d’une 
fonction,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f(x):=2x+3
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(f)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(sin)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(sin)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">vector</span> ou <span style="font-family:monospace">7</span> ce qui signifie que <span style="font-family:monospace">a</span> contient une liste,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[2,24,1,15,5,10]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(L)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">string</span> ou <span style="font-family:monospace">12</span> ce qui signifie que <span style="font-family:monospace">a</span> contient une 
chaîne de caractères,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">s:="Bonjour"
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(s)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(s)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">expression</span> ou <span style="font-family:monospace">8</span> ce qui signifie que <span style="font-family:monospace">a</span> contient 
une expression,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=sqrt(2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-family:monospace">identifier</span> ou <span style="font-family:monospace">6</span> ce qui signifie que <span style="font-family:monospace">a</span> contient le nom d’une 
variable non affectée.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">purge(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">type(a)+0
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p><span style="font-weight:bold">Les sous-types</span><br>
Certains types de variables peuvent servir à plusieurs usages : par exemple
une liste peut représenter les coordonnées d’un point dans l’espace
ou les coefficients d’un polynôme ou un ensemble. <span style="font-family:monospace">Xcas</span> possède
une commande <span style="font-family:monospace">subtype</span> permettant de préciser le type d’une variable.
Pour avoir le sous-type de la variable <span style="font-family:monospace">a</span>, on utilise <span style="font-family:monospace">subtype(a)</span>.<br>
Par exemple si <span style="font-family:monospace">a</span> contient une liste,
<span style="font-family:monospace">subtype(a)</span> renvoie <span style="font-family:monospace">1</span> pour une séquence, <span style="font-family:monospace">2</span> pour un ensemble, 
<span style="font-family:monospace">10</span> pour un polynôme et <span style="font-family:monospace">0</span> sinon.<br>
Par exemple, <span style="font-family:monospace">Xcas</span> peut renvoyer :<br>
<span style="font-family:monospace">double</span> ou <span style="font-family:monospace">1</span> ce qui signifie que <span style="font-family:monospace">a</span> contient un nombre flottant,<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">subtype(1,2,3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">subtype(set[1,2,3])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">subtype(poly1[1,2,3])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">subtype([1,2,3])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC section id="sec28" Les instructions de programmation utilisées sur des exemples-->
<h2 id="sec28" class="section">2.3  Les instructions de programmation utilisées sur des exemples</h2><!--SEC END -->
<!--TOC subsection id="sec29" Stocker une valeur dans une variable avec <span style="font-family:monospace">:=</span>-->
<h3 id="sec29" class="subsection">2.3.1  Stocker une valeur dans une variable avec <span style="font-family:monospace">:=</span></h3><!--SEC END --><p><a id="hevea_default28"></a>
L’opérateur infixé <span style="font-family:monospace">:=</span> stocke le deuxième argument dans la variable 
donnée comme premier argument.<br>
<span style="font-weight:bold">Exemple :</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=3
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b:=5
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a,b:=a+b,b-a
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a,b
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec30" Enlever une valeur stockée dans une variable avec <span style="font-family:monospace">purge</span>-->
<h3 id="sec30" class="subsection">2.3.2  Enlever une valeur stockée dans une variable avec <span style="font-family:monospace">purge</span></h3><!--SEC END --><p><a id="hevea_default29"></a>
L’instruction <span style="font-family:monospace">purge(a)</span> permet d’enlever une valeur stockée dans la 
variable <span style="font-family:monospace">a</span>. La variable <span style="font-family:monospace">a</span> redevient une variable libre i.e. une variable non affectée.<br>
<span style="font-weight:bold">Exemple :</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=3
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">b:=5
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">purge(a)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a,b
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec31" Suite d’instructions avec <span style="font-family:monospace">;</span> ou <span style="font-family:monospace">:;</span>-->
<h3 id="sec31" class="subsection">2.3.3  Suite d’instructions avec <span style="font-family:monospace">;</span> ou <span style="font-family:monospace">:;</span></h3><!--SEC END --><p><a id="hevea_default30"></a><a id="hevea_default31"></a>
Pour effectuer une suite d’instructions, il suffit de les écrire les unes 
à la suite des autres, en terminant chaque instruction par <code>;</code><br>
<span style="font-weight:bold">Exemple :</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=2; b:=3; a*b;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Remarque</span> :<br>
Lorsque la réponse est trop longue, on peut aussi utiliser <span style="font-family:monospace">:;</span> et 
on obtient <span style="font-family:monospace">Done</span> comme réponse.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=2:; b:=[1,2,3,4,5]:; a*b;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec32" L’instruction <span style="font-family:monospace">retourne</span>-->
<h3 id="sec32" class="subsection">2.3.4  L’instruction <span style="font-family:monospace">retourne</span></h3><!--SEC END --><p><a id="hevea_default32"></a>
L’instruction <span style="font-family:monospace">retourne</span> arrête immédiatement 
l’exécution du programme et renvoie la
valeur de l’instruction située après <span style="font-family:monospace">retourne</span>.<br>
<span style="font-weight:bold">Exemple 1:</span><br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">fonction Delta(a,b,c) retourne b^2-4*a*c; ffonction;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">fonction Abs(x) si x > 0 alors retourne x;fsi;retourne -x;ffonction;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Delta(3,5,2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Abs(-3),Abs(3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec33" L’instruction <span style="font-family:monospace">local</span>-->
<h3 id="sec33" class="subsection">2.3.5  L’instruction <span style="font-family:monospace">local</span></h3><!--SEC END --><p><a id="hevea_default33"></a><a id="hevea_default34"></a>
<span style="font-weight:bold">Exemple 2: notion de variables locales:</span><br>
On veut, dans cet exemple, définir une fonction <span style="font-style:italic">h</span> de deux variables <span style="font-style:italic">a</span>,<span style="font-style:italic">b</span>
(<span style="font-style:italic">a</span> et <span style="font-style:italic">b</span> sont des entiers) qui renvoie le numérateur et le dénominateur 
de la fraction <span style="font-style:italic">a</span>/<span style="font-style:italic">b</span> simplifiée.<br>
Pour cela il faut diviser <span style="font-style:italic">a</span> et <span style="font-style:italic">b</span> par leur pgcd qui est <span style="font-family:monospace">gcd(a,b)</span>.<br>
si on tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">fonction h0(a,b) retourne (a/gcd(a,b),b/gcd(a,b)); ffonction:;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
cela nécessite de faire 2 fois le calcul de <span style="font-family:monospace">gcd(a,b)</span>.<br>
Pour éviter cela, on va utiliser une variable locale <span style="font-style:italic">c</span> qui servira à 
stocker le calcul intermédiaire <span style="font-family:monospace">gcd(a,b)</span> 
avec l’instruction : <span style="font-family:monospace">c:=gcd(a,b)</span> (<span style="font-family:monospace">:=</span> est le 
symbole de l’affectation et <span style="font-family:monospace">gcd(a,b)</span> renvoie le pgcd de <span style="font-style:italic">a</span> et <span style="font-style:italic">b</span>).<br>
Cette variable n’est pas visible à l’extérieur du programme, les
modifications faites sur <span style="font-family:monospace">c</span> dans le programme n’ont aucun effet
sur la variable <span style="font-family:monospace">c</span> de la session.<br>
On écrit alors <span style="font-family:monospace">local c;</span> (ne pas oublier le <span style="font-family:monospace">;</span>)<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">fonction h(a,b) local c; c:=gcd(a,b); retourne (a/c,b/c); ffonction:;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a:=12;b:=22;c:=32;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">h0(25,15);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">h(25,15);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">a,b,c
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On voit ainsi que les valeurs de <span style="font-family:monospace">a,b,c</span> n’ont pas été changées par
l’exécution des fonctions <span style="font-family:monospace">h0</span> ou <span style="font-family:monospace">h</span>.</p>
<!--TOC subsection id="sec34" L’instruction <span style="font-family:monospace">pour</span>-->
<h3 id="sec34" class="subsection">2.3.6  L’instruction <span style="font-family:monospace">pour</span></h3><!--SEC END --><p><a id="hevea_default35"></a><a id="hevea_default36"></a>
<span style="font-weight:bold">Exemple 3 : notion de boucle</span> <span style="font-family:monospace">pour</span><br>
On veut, dans cet exemple, définir une fonction <span style="font-style:italic">s</span> d’une variable <span style="font-style:italic">n</span> (<span style="font-style:italic">n</span> 
est un entier) qui calcule la somme : 1+3+...+2<span style="font-style:italic">n</span>−1.<br>
Pour cela, on utilise une variable locale <span style="font-style:italic">S</span> que l’on initialise à 0 :<br>
<span style="font-family:monospace">S:=0;</span><br>
puis on va faire <span style="font-style:italic">n</span> étapes en utilisant cette variable locale <span style="font-style:italic">S</span>.<br>
<span style="font-style:italic">S</span> va contenir successivement :<br>
étape 1 <span style="font-style:italic">S</span>:=<span style="font-style:italic">S</span>+(2*1−1); donc <span style="font-style:italic">S</span> contient 1 (0+1)<br>
étape 2 <span style="font-style:italic">S</span>:=<span style="font-style:italic">S</span>+(2*2−1); donc <span style="font-style:italic">S</span> contient 4 (1+3)<br>
...<br>
étape <span style="font-style:italic">k</span> <span style="font-style:italic">S</span>:=<span style="font-style:italic">S</span>+(2*<span style="font-style:italic">k</span>−1); donc <span style="font-style:italic">S</span> contient 1+3+..2<span style="font-style:italic">k</span>−1<br>
...<br>
étape <span style="font-style:italic">n</span> <span style="font-style:italic">S</span>:=<span style="font-style:italic">S</span>+2*<span style="font-style:italic">n</span>−1; donc <span style="font-style:italic">S</span> contient 1+3+..2<span style="font-style:italic">n</span>−1<br>
Pour décrire cela on utilise une boucle <span style="font-family:monospace">pour</span> :<br>
<span style="font-family:monospace">pour k de 1 jusque n faire S:=S+2*k-1; fpour;</span><br>
Dans cette boucle <span style="font-family:monospace">k</span> sera successivement égal à <span style="font-family:monospace">1, 2, 3,...n</span>.<br>
On dit que l’instruction <span style="font-family:monospace">S:=S+2*k-1</span> figurant dans le corps la boucle 
sera exécuté <span style="font-family:monospace">n</span> fois.<br>
<span style="font-weight:bold">Comment fonctionne cette boucle</span> <span style="font-family:monospace">pour</span> ?
</p><ul class="itemize"><li class="li-itemize">
la variable <span style="font-family:monospace">k</span> est initialisée à <span style="font-family:monospace">1</span>,
</li><li class="li-itemize">les instructions du corps de la boucle sont effectuées 
(ici il y en a une
seule <span style="font-family:monospace">S:=S+2*k-1</span>),
</li><li class="li-itemize"><span style="font-family:monospace">k</span> est est incrémenté automatiquement de 1 (<span style="font-family:monospace">k:=k+1</span>),
</li><li class="li-itemize">le test <span style="font-family:monospace">k&lt;=n</span> est effectué :
si <span style="font-family:monospace">k&lt;=n</span> est vrai, les instructions du corps de la boucle sont à 
nouveau effectuées etc ... <br>
sinon on effectue les instructions qui suivent <span style="font-family:monospace">fpour</span>.
</li></ul><p>
On tape :

</p><pre class="verbatim">fonction s(n) 
 local S,k;
 S:=0; 
 pour k de 1 jusque n faire 
   S:=S+2*k-1; 
 fpour;
 retourne S; 
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">s(5),s(6),s(7)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p><span style="font-weight:bold">Intermède mathématique</span><br>
Au vue des résultats obtenus pouvez-vous deviner la valeur de 
<span style="font-family:monospace">s(100)</span> ?<br>
Pouvez-vous deviner et montrer la formule qui donne <span style="font-family:monospace">s(n)</span> ?<br>
On devine : <span style="font-style:italic">s</span>(<span style="font-style:italic">n</span>)=1+3+...2<span style="font-style:italic">n</span>−1=(<span style="font-style:italic">n</span>)<sup>2</sup><br>
On sait que pour tout <span style="font-style:italic">k</span> ∈ ℕ on a :<br>
<span style="font-style:italic">k</span><sup>2</sup>−(<span style="font-style:italic">k</span>−1)<sup>2</sup>=((<span style="font-style:italic">k</span>−1)+1)<sup>2</sup>−(<span style="font-style:italic">k</span>−1)<sup>2</sup>=2<span style="font-style:italic">k</span>−1 et<br>
(<span style="font-style:italic">k</span>+1)<sup>2</sup>−<span style="font-style:italic">k</span><sup>2</sup>=2<span style="font-style:italic">k</span>+1<br>
Donc :<br>
1=1<sup>2</sup>−0<sup>2</sup> (<span style="font-style:italic">k</span>=1),<br>
3=2<sup>2</sup>−1<sup>2</sup> (<span style="font-style:italic">k</span>=2),<br>
5=3<sup>2</sup>−2<sup>2</sup> (<span style="font-style:italic">k</span>=3),<br>
...<br>
2<span style="font-style:italic">k</span>−1=<span style="font-style:italic">k</span><sup>2</sup>−(<span style="font-style:italic">k</span>−1)<sup>2</sup><br>
2<span style="font-style:italic">k</span>+1=(<span style="font-style:italic">k</span>+1)<sup>2</sup>−(<span style="font-style:italic">k</span>)<sup>2</sup><br>
...<br>
2<span style="font-style:italic">n</span>−1=<span style="font-style:italic">n</span><sup>2</sup>−(<span style="font-style:italic">n</span>−1)<sup>2</sup><br>
Donc :<br>
<span style="font-style:italic">s</span>(<span style="font-style:italic">n</span>)=1+3+...2<span style="font-style:italic">n</span>−1=1+(<span style="font-style:italic">n</span>)<sup>2</sup>=1+(4−1)+(9−4)...+(<span style="font-style:italic">n</span><sup>2</sup>−(<span style="font-style:italic">n</span>−1)<sup>2</sup>)=<span style="font-style:italic">n</span><sup>2</sup><br>
En classe de terminales, on peut montrer cette formule par récurrence :<br>
<span style="font-style:italic">s</span>(1)=1 si <span style="font-style:italic">s</span>(<span style="font-style:italic">n</span>)=(<span style="font-style:italic">n</span>)<sup>2</sup> alors on a :<br>
<span style="font-style:italic">s</span>(<span style="font-style:italic">n</span>+1)=<span style="font-style:italic">s</span>(<span style="font-style:italic">n</span>)+2(<span style="font-style:italic">n</span>+1)−1=(<span style="font-style:italic">n</span>)<sup>2</sup>+2<span style="font-style:italic">n</span>+1=(<span style="font-style:italic">n</span>+1)<sup>2</sup><br>
La formule est donc montrée par récurrence.</p>
<!--TOC subsection id="sec35" L’instruction <span style="font-family:monospace">pour</span> avec un <span style="font-family:monospace">pas</span>-->
<h3 id="sec35" class="subsection">2.3.7  L’instruction <span style="font-family:monospace">pour</span> avec un <span style="font-family:monospace">pas</span></h3><!--SEC END --><p><a id="hevea_default37"></a>
<span style="font-weight:bold">Exemple 4 : notion de liste et boucle</span> <span style="font-family:monospace">pour</span> <span style="font-weight:bold">avec un</span> <span style="font-family:monospace">pas</span><br>
On va tout d’abord faire le programme du ticket de caisse lors d’achats dans 
un magasin qui ne pratique pas de réduction pour les achats en gros.<br>
Le programme du <span style="font-family:monospace">ticketcaisse</span> a comme paramètre une liste <span style="font-family:monospace">L</span> donnant
le nombre d’un même article suivi du prix de cet article, par exemple :<br>
 si <span style="font-family:monospace">L:=[2,24,1,15,5,10]</span> cela signifie qu’il y 2 articles à 24 euros, 1 
article à 15 euros et 5 articles à 10 euros.<br>
Soit <span style="font-family:monospace">n:=dim(L)</span>, dans cet esxemple <span style="font-family:monospace">n:=6</span>.<br>
On va parcourir la liste avec une variable <span style="font-family:monospace">k</span> : <span style="font-family:monospace">L[k]</span> sera le nombre 
d’articles ayant comme prix <span style="font-family:monospace">L[ k+1]</span> : il faut donc, dans cet exemple,
que <span style="font-family:monospace">k</span> prenne successivement pour valeur <span style="font-family:monospace">0, 2, 4=n-2</span>.<br>
Pour cela on initialise la somme à payer avec 0 : <span style="font-family:monospace">S:=0</span> puis<br>
 on utilise une boucle <span style="font-family:monospace">pour</span> avec un <span style="font-family:monospace">pas</span> de 2 :<br>
<span style="font-family:monospace">pour k de 0 jusque n-2 pas 2 faire S:=S+L[k]*L[k+1]; fpour;</span><br>
Dans cette boucle <span style="font-family:monospace">pour</span>, la variable <span style="font-family:monospace">k</span> est initialisée à 
<span style="font-family:monospace">0</span>, puis les instructions du corps de la boucle sont effectuées,
puis <span style="font-family:monospace">k</span> est incrémenté automatiquement de <span style="font-family:monospace">2</span> (<span style="font-family:monospace">k:=k+2</span>),<br>
puis on fait le test <span style="font-family:monospace">k&lt;=n-2</span> si oui les instructions du corps de la boucle 
sont à nouveau effectuées etc ... sinon on effectue les instructions qui 
suivent <span style="font-family:monospace">fpour</span>.

</p><pre class="verbatim">fonction ticketcaisse(L) 
 local S,n,k; 
 n:=dim(L);
 S:=0;
 pour k de 0 jusque n-2 pas 2 faire S:=S+L[k]*L[k+1]; fpour;
 retourne S; 
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">ticketcaisse([1,12,3,5,2,8])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">1*12+3*5+2*8
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec36" L’instruction <span style="font-family:monospace">si</span>-->
<h3 id="sec36" class="subsection">2.3.8  L’instruction <span style="font-family:monospace">si</span></h3><!--SEC END --><p><a id="hevea_default38"></a><a id="hevea_default39"></a>
<span style="font-weight:bold">Exemple 5 : notion de test</span><br>
Dans un magasin on favorise les achats en gros :<br>
si un article <span style="font-family:monospace">a</span> a comme prix affiché <span style="font-family:monospace">P</span> euros, pour l’achat d’au 
moins 3 articles <span style="font-family:monospace">a</span>, vous avez une réduction de 10%.<br>
On veut, dans cet exemple, définir une fonction <span style="font-family:monospace">Prix</span> de 2 variables 
<span style="font-family:monospace">n</span> (<span style="font-family:monospace">n</span> est un entier) et <span style="font-family:monospace">P</span> un réel qui calcule le prix de 
<span style="font-family:monospace">n</span> article(s).<br>
Pour cela, on utilise :<br>
une variable locale <span style="font-family:monospace">S</span> qui sera la somme à débourser et <br>
le test :<br>
<span style="font-family:monospace">si &lt;condition&gt; alors &lt;instruction1;&gt; sinon &lt;instruction2;&gt; fsi;</span><br>
<span style="font-weight:bold">Comment fonctionne le test </span><span style="font-weight:bold"><span style="font-family:monospace">si</span></span><span style="font-weight:bold"> ?</span>
</p><ul class="itemize"><li class="li-itemize">
On évalue la condition : une condition a 2 valeurs possibles <span style="font-family:monospace">vrai</span>
ou <span style="font-family:monospace">faux</span> c’est ce que l’on nomme un booléen,
</li><li class="li-itemize">Si la condition est vraie : on effectue les <span style="font-family:monospace">&lt;instruction1;&gt;</span>,
et si la condition est fausse : on effectue les <span style="font-family:monospace">&lt;instruction2;&gt;</span>,
</li><li class="li-itemize">On effectue ensuite les instructions qui suivent <span style="font-family:monospace">fsi;</span>.
</li></ul><p>
On tape pour avoir le prix de <span style="font-family:monospace">n</span> fois le même article de prix <span style="font-family:monospace">P</span> :

</p><pre class="verbatim">fonction Prix(n,P) 
 local S;
 si n&gt;=3 alors S:=n*P*0.9; 
 sinon S:=n*P; fsi;
 retourne S
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Prix(3,8)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">3*8-3*8*0.1
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Prix(2,8)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec37" Utiliser une fonction utilisateur dans un programme-->
<h3 id="sec37" class="subsection">2.3.9  Utiliser une fonction utilisateur dans un programme</h3><!--SEC END --><p>
<span style="font-weight:bold">Exemple 6 :</span><br>
On veut faire le programme du ticket de caisse lorsque le magasin pratique 
l’achat en gros (la liste <span style="font-family:monospace">L</span> doit spécifier le nombre <span style="font-style:italic">n</span> d’un même 
article de prix <span style="font-style:italic">P</span>).<br>
En utilisant la fonction <span style="font-family:monospace">Prix(n,P)</span> écrite précédemment, modifier le
programme précédent lorsque le magasin pratique l’achat en gros.</p><p><span style="font-weight:bold">Solution :</span>

</p><pre class="verbatim">fonction Prix(n,P) 
 local S;
 si n&gt;=3 alors S:=n*P*0.9; 
 sinon S:=n*P; fsi;
 retourne S;
ffonction:;

fonction ticketengros(L) 
 local S,n,k; 
 n:=dim(L);
 S:=0;
 pour k de 0 jusque n-2 pas 2 faire 
   S:=S+Prix(L[k],L[k+1]); 
 fpour;
 retourne S; 
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">ticketengros([1,12,3,5,2,8])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">12+3*5*0.9+2*8
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec38" L’instruction <span style="font-family:monospace">tantque</span>-->
<h3 id="sec38" class="subsection">2.3.10  L’instruction <span style="font-family:monospace">tantque</span></h3><!--SEC END --><p><a id="hevea_default40"></a><a id="hevea_default41"></a>
<span style="font-weight:bold">Exemple 7 : Notion de boucle </span><span style="font-weight:bold"><span style="font-family:monospace">tantque</span></span><br>
On utilise une boucle <span style="font-family:monospace">tantque</span> lorsque l’on ne connait pas à l’avance le
nombre d’itérations à effectuer et que l’on arrête les itérations quand 
une condition devient fausse :<br>
<span style="font-family:monospace">tantque &lt;condition&gt; faire &lt;instructions&gt; ftantque;</span><br>
<span style="font-weight:bold">Comment fonctionne une boucle </span><span style="font-weight:bold"><span style="font-family:monospace">tantque</span></span><span style="font-weight:bold"> ?</span>
</p><ul class="itemize"><li class="li-itemize">
On évalue la condition : une condition a 2 valeurs possibles <span style="font-family:monospace">vrai</span>
ou <span style="font-family:monospace">faux</span> c’est ce que l’on nomme un booléen,
</li><li class="li-itemize">Si la condition est vraie : on effectue <span style="font-family:monospace">&lt;instructions;&gt;</span>,
et si la condition est fausse : on effectue les instructions qui suivent 
<span style="font-family:monospace">ftantque;</span>.
</li></ul><p>
ou bien on peut dire en langage courant que :<br>
<span style="font-family:monospace">&lt;condition&gt;</span> est une condition de continuation de la boucle.
tant que la condition est vérifiée, on fait les instructions de la boucle.<br>
<span style="font-weight:bold">Traduction d’une boucle </span><span style="font-weight:bold"><span style="font-family:monospace">pour</span></span><span style="font-weight:bold"> en une boucle </span><span style="font-weight:bold"><span style="font-family:monospace">tantque</span></span><br>
Soit une liste <span style="font-family:monospace">L</span> de nombres réels.<br>
On veut faire la somme des réels de <span style="font-family:monospace">L</span>.<br>
On tape en utilisant une boucle <span style="font-family:monospace">pour</span> :

</p><pre class="verbatim">fonction Somme(L) 
 local n,j,S;
 n:=dim(L);
 S:=0;
 pour j de 0 jusque n-1 faire
   S:=S+L[j];
 fpour;
 retourne S;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On tape en utilisant une boucle <span style="font-family:monospace">tantque</span> :

</p><pre class="verbatim">fonction Somme1(L) 
 local n,j,S;
 n:=dim(L);
 S:=0;
 j:=0;
 tantque j &lt;= n-1 faire
   S:=S+L[j];
   j:=j+1;
 ftantque;
 retourne S;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On peut aussi écrire <span style="font-family:monospace">Somme2</span>, mais <span style="font-weight:bold">Attention</span> 
à l’ordre des instructions de la boucle <span style="font-family:monospace">tantque</span> et au test d’arrêt :

</p><pre class="verbatim">fonction Somme2(L) 
 local n,j,S;
 n:=dim(L);
 j:=0;
 S:=L[0];
 tantque j &lt; n-1 faire
   j:=j+1;
   S:=S+L[j];
 ftantque;
 retourne S;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[10,13,22,15,5]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Somme(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Somme1(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Somme2(L)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Exemple 8 : autre exemple de boucle </span><span style="font-weight:bold"><span style="font-family:monospace">tantque</span></span><br>
En fin de mois, Paul n’a plus qu’une somme <span style="font-family:monospace">a</span> dans son porte-monnaie.
Paul fait sa liste de courses <span style="font-family:monospace">Lc</span> en mettant au début ce qu’il 
veut vraiement acheter et à la fin de sa liste, il met les achats qu’il doit 
faire à plus long terme. Dans le magasin, sa liste de courses <span style="font-family:monospace">Lc</span> 
devient une liste de prix <span style="font-family:monospace">L</span>.<br>
Dans ce cas, on ne peut pas utiliser une boucle avec <span style="font-family:monospace">pour</span> car on ne 
sait pas au départ combien de fois on doit effectuer la boucle.<br>
On note <span style="font-family:monospace">S</span> la variable qui stockera successivement la somme des prix des 
premiers éléments de <span style="font-family:monospace">L</span>.<br>
Il veut faire un programme qui arrête sa liste dès que <span style="font-family:monospace">S&gt;a</span> en coupant 
<span style="font-family:monospace">L</span> en 2 listes :
<span style="font-family:monospace">La</span> liste des objets de ce qu’il achète réellement pour un montant 
<span style="font-family:monospace">S&lt;=a</span> et <span style="font-family:monospace">Lfin</span> liste des objets qu’il n’achète pas (<span style="font-family:monospace">Lfin</span> est 
une liste vide lorsque <span style="font-family:monospace">Somme(L)&lt;=a</span>).<br>
<span style="font-family:monospace">Ticketfindemois(L,a)</span> doit renvoyer <span style="font-family:monospace">La,Lfin,P</span> où <span style="font-family:monospace">P</span> est la 
somme à payer.<br>
"arrêt" se traduit ici par <span style="font-family:monospace">Lfin ==[] ou S&gt;a</span> donc<br>
"continuation" se traduit ici par <span style="font-family:monospace">Lfin!=[] et S&lt;=a</span>.<br>
On teste tout d’abord si Paul a assez d’argent pour payer toute sa liste :
pour cela, on utilise le programme <span style="font-family:monospace">Somme</span> précédent.<br>
Paul a assez d’argent pour payer toute sa liste lorsque <span style="font-family:monospace">Somme(L)&lt;=a</span> 
et alors on a <span style="font-family:monospace">La :=L</span>, <span style="font-family:monospace">Lfin :=[]</span> et <span style="font-family:monospace">P:=Somme(L)</span>.<br>
Si <span style="font-family:monospace">Somme(L)&gt;a</span>, Paul n’a pas assez d’argent donc <span style="font-family:monospace">Lfin!=[]</span> est 
vrai et la condition d’arrêt est : <span style="font-family:monospace">S&lt;=a</span>.
On écrit <span style="font-family:monospace">Ticketfindemois(L,a)</span> pour que <span style="font-family:monospace">k</span> soit le 
nombre d’articles achetés lorsqu’ on sort du <span style="font-family:monospace">tantque</span> :

</p><pre class="verbatim">fonction Somme(L) 
 local n,j,S;
 n:=dim(L);
 S:=0;
 pour j de 0 jusque n-1 faire
   S:=S+L[j];
 fpour;
 retourne S;
ffonction:;

fonction Ticketfindemois(L,a) 
 local S,n,k,Lfin,La;
 S:=Somme(L);
 si S &lt;=a alors retourne L,[],S fsi;
 n:=dim(L);
 k:=0;
 S:=L[0];
 tantque S &lt;=a faire 
   k:=k+1;
   S:=S+L[k];
  ftantque;
 La:=gauche(L,k);
 Lfin:=droit(L,n-k);
 retourne La,Lfin,S-L[k];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[15,10,2,7,5,1.2,3,5.5,10,4,5.3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L2:=[1,15,2,7.8,5,2.2,4,5.5,2,2.7,1,2.1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketfindemois(L1,50)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketfindemois(L2,60)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On peut aussi écrire mais <span style="font-weight:bold">Attention</span> à l’ordre des instructions dans 
le <span style="font-family:monospace">tantque</span>. 

</p><pre class="verbatim">fonction Ticketfindemois1(L,a) 
 local S,n,k,Lfin,La;
 S:=Somme(L);
 si S &lt;=a alors retourne L,[],S fsi;
 n:=dim(L);
 S:=0;
 k:=0;
 tantque S &lt;=a faire 
   S:=S+L[k];
   k:=k+1;
 ftantque;
 La:=gauche(L,k-1);
 Lfin:=droit(L,n-k+1);
 retourne La,Lfin,S-L[k-1];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[15,10,2,7,5,1.2,3,5.5,10,4,5.3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L2:=[1,15,2,7.8,5,2.2,4,5.5,2,2.7,1,2.1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketfindemois1(L1,50)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketfindemois1(L2,60)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Dans <span style="font-family:monospace">Ticketfindemois1</span>, c’est <span style="font-family:monospace">k-1</span> et non <span style="font-family:monospace">k</span>, qui est pas la 
valeur du nombre d’articles achetés lorsqu’on sort du <span style="font-family:monospace">tantque</span>.<br>
En effet, lorsqu’on s’arrête <span style="font-style:italic">S</span> devient 
supérieur à <span style="font-style:italic">a</span> : il ne faut donc pas acheter l’article <span style="font-family:monospace">L[k]</span>.<br>
Donc <span style="font-family:monospace">La:=gauche(L,k-1);</span> et <span style="font-family:monospace">Lfin:=droit(L,n-k+1)</span>.<br>
<span style="font-weight:bold">Remarque</span><br>
On aurait pu aussi écrire sans utiliser <span style="font-family:monospace">Somme</span>
mais c’est plus compliqué car la condition du <span style="font-family:monospace">tantque</span> porte sur <span style="font-family:monospace">k</span>
et sur <span style="font-family:monospace">S</span> !!!

</p><pre class="verbatim">fonction Ticketfindemois2(L,a) 
  local S,n,k,La,Lfin,P;
  n:=dim(L);
  k:=0;
  S:=L[0];
  tantque S&lt;=a et k&lt;n-1 faire
    k:=k+1;
    S:=S+L[k];
  ftantque;
  si S&lt;=a alors retourne L,[],S fsi;
  La:=gauche(L,k);
  Lfin:=droit(L,n-k);
  P:=S-L[k];
 retourne La,Lfin,P;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

À chaque étape on a :<br>
Au début, on a :<br>
<span style="font-family:monospace">k:=0;S:=L[0];</span> donc <span style="font-family:monospace">S</span> est le prix de <span style="font-family:monospace">1</span> article.<br>
lorsqu’on fait <span style="font-style:italic">k</span> fois la boucle on a :<br>
<span style="font-family:monospace">S:=L[0]+..L[k];</span> donc <span style="font-family:monospace">S</span> est la somme de <span style="font-family:monospace">k+1</span> articles.<br>
Quand on sort du <span style="font-family:monospace">tantque</span> on a :<br>
soit <span style="font-family:monospace">S&lt;=a</span> est vrai, donc <span style="font-family:monospace">k==n-1</span> est vrai (puisque 
<span style="font-family:monospace">(S&lt;=a et k&lt;n-1)==faux</span>).<br>
<span style="font-family:monospace">S</span> est donc la somme de toute la liste <span style="font-family:monospace">L</span> i.e. <span style="font-family:monospace">S</span> est la somme 
à payer pour l’achat de <span style="font-family:monospace">n</span> articles i.e. Paul peut acheter toute 
sa liste de courses.<br>
soit <span style="font-family:monospace">S&gt;a</span> et <span style="font-family:monospace">k&lt;=n-1</span> alors <span style="font-family:monospace">S</span> représente la somme des prix des 
<span style="font-family:monospace">k+1</span> premiers articles. Mais Paul ne peut pas acheter le dernier 
article puisque <span style="font-family:monospace">S&gt;a</span>. Le prix <span style="font-family:monospace">P</span> représente la somme des prix des 
<span style="font-family:monospace">k</span> premiers articles i.e. <span style="font-family:monospace">P:=S-L[k]</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[15,10,2,7,5,1.2,3,5.5,10,4,5.3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L2:=[1,15,2,7.8,5,2.2,4,5.5,2,2.7,1,2.1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketfindemois2(L1,50)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketfindemois2(L2,60)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec39" Interruption d’une boucle-->
<h3 id="sec39" class="subsection">2.3.11  Interruption d’une boucle</h3><!--SEC END --><p>
Si on utilise <span style="font-family:monospace">retourne</span> à l’intérieur d’une boucle dans une fonction, 
celle-ci est interrompue. Ceci permet de 
transformer des boucles “tantque” en boucle “pour” 
souvent plus lisibles.</p><p>Reprenons l’exemple ci-dessus,
on remarque que la boucle tantque utilise un compteur <span style="font-family:monospace">k</span>
qu’on incrémente à chaque itération comme dans une boucle <span style="font-family:monospace">pour</span>.
Il est donc naturel d’essayer de réécrire cette fonction avec
une boucle <span style="font-family:monospace">pour</span>. Il suffira de tester dans le corps de 
la boucle si la somme (avec le nouvel article)
dépasse le contenu du porte-monnaie, dans ce cas il faut s’arrêter
sans acheter le nouvel article, on interrompt la boucle et on renvoie les
résultats.

</p><pre class="verbatim">fonction Ticketfindemois3(L,a)
  local k,n,S,La,Lfin;
  n:=dim(L);
  S:=0;
  pour k de 0 jusque n-1 faire
    si S+L[k]&gt;a alors 
      La:=gauche(L,k);
      Lfin:=droit(L,n-k);
      retourne La,Lfin,S;
    fsi;
    S:=S+L[k];
  fpour;
  retourne L,[],S;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

</p><p>Cette méthode s’applique pour toute boucle “tantque” dont on peut
prévoir à priori un majorant du nombre d’itérations. On peut
d’ailleurs aussi l’utiliser si on se fixe un nombre maximal d’itérations
qui tient compte du temps d’exécutions, typiquement en <span style="font-family:monospace">Xcas</span>
de l’ordre du million d’itérations si on veut un
résultat en moins de quelques secondes.</p><p><span style="font-weight:bold">Remarque</span> : si on ne veut pas quitter la fonction, il est quand même
possible d’interrompre la boucle prématurément 
en utilisant l’instruction <span style="font-family:monospace">break</span>.</p>
<!--TOC subsection id="sec40" Exemple 9 : autre exemple de boucle <span style="font-family:monospace">tantque</span>-->
<h3 id="sec40" class="subsection">2.3.12  Exemple 9 : autre exemple de boucle <span style="font-family:monospace">tantque</span></h3><!--SEC END --><p>
Pour avoir des clients le dimanche matin, le magasin de Paul offre selon 
les dimanches une réduction immédiate <span style="font-style:italic">r</span> qui varie selon le montant 
<span style="font-style:italic">a</span> des achats par exemple une réduction de 10 euros dès 60 euros 
d’achats, ou une réduction de 5 euros dès 50 euros d’achats etc...<br>
Ce magasin ne pratique pas de réduction pour des achats en gros.<br>
Pour être sûr de bénéficier de la réduction, Paul fait sa liste
de courses <span style="font-style:italic">Lc</span> en mettant au début ce qu’il veut vraiement acheter et à la
fin de sa liste, il met les achats qu’il doit faire à plus long terme
(contrairement au programme précédent, on suppose ici 
que Paul a suffisamment d’argent).
Il veut
faire un programme qui arrête sa liste dès que <span style="font-style:italic">S</span>&gt;=<span style="font-style:italic">a</span> en coupant <span style="font-style:italic">Lc</span> en 2 
listes <span style="font-style:italic">La</span> liste des objets de ce qu’il achète réellement pour un montant 
<span style="font-style:italic">S</span> avant réduction et <span style="font-style:italic">Lfin</span> liste des objets qu’il 
n’achète pas (<span style="font-style:italic">Lfin</span> est éventuellement une liste vide).<br>
Paul veut que son programme ait paramètres <span style="font-style:italic">Lc</span>,<span style="font-style:italic">a</span>,<span style="font-style:italic">r</span> et qu’il renvoie :<br>
<span style="font-style:italic">La</span>, <span style="font-style:italic">Lfin</span>, <span style="font-style:italic">S</span>, <span style="font-style:italic">S</span>−<span style="font-style:italic">r</span>.<br>
Dans ce cas, on ne 
sait pas au départ combien de fois on doit effectuer la boucle.<br>
Mais on sait quand on doit s’arrêter :<br>
on arrête la boucle lorsque le prix <span style="font-style:italic">S</span> de la liste complète <span style="font-style:italic">Lc</span> 
n’atteint pas le montant <span style="font-style:italic">a</span> ou dés que le prix <span style="font-style:italic">S</span> du début de <span style="font-style:italic">Lc</span> 
vérifie <span style="font-family:monospace">S&gt;=a</span>.<br>
On utilise pour cela une boucle <span style="font-family:monospace">tantque</span> :<br>
<span style="font-family:monospace">tantque &lt;condition&gt; faire &lt;instructions&gt; ftantque;</span><br>
Cela veut dire :<br>
tant que "non arrêt", on fait les instructions de la boucle.<br>
"arrêt" se traduit ici par <span style="font-family:monospace">Lfin ==[] ou S&gt;=a</span> donc, <br>
"non arrêt" se traduit ici par <span style="font-family:monospace">Lfin!=[] et S&lt;a</span>.<br>
<span style="font-weight:bold">Attention</span> la variable <span style="font-style:italic">k</span> qui va parcourir la liste <span style="font-family:monospace">L</span> devra être 
initialisée (ici <span style="font-family:monospace">k:=0;</span>) et modifiée dans le corps de la boucle (ici 
<span style="font-family:monospace">k:=k+2;</span>).<br>
La fonction <span style="font-family:monospace">Ticketdimanche</span> a 3 paramètres <span style="font-family:monospace">L,a,r</span> et renvoie
la liste <span style="font-style:italic">La</span> des courses qui ont été prises en compte,<br>
la liste <span style="font-style:italic">Lfin</span> des courses qui n’ont pas été prises en compte (cette liste peut être vide si <span style="font-family:monospace">S&lt;=a</span>)<br>
la somme <span style="font-family:monospace">S</span> des achats sans la remise et<br>
la somme <span style="font-family:monospace">S-r</span> à payer.<br>
On tape :

</p><pre class="verbatim">fonction Ticketdimanche(L,a,r) 
 local S,n,k,Lfin,La; 
 n:=dim(L);
 S:=0;
 k:=0
 tantque k&lt;n et S&lt;a faire 
   S:=S+L[k]*L[k+1];
   k:=k+2;
 ftantque;
 La:=gauche(L,k);
 Lfin:=droit(L,n-k);
 si S&lt;a alors r:=0; fsi;
 retourne La,Lfin,S,S-r;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[1,15,2,7,5,1.2,3,5.5]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L2:=[1,15,2,7.8,5,2.2,4,5.5,2,2.7,1,2.1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketdimanche(L1,50,5)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketdimanche(L2,60,10)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p><span style="font-weight:bold">Traduction du “tantque” en “pour”</span><br>
On remarque que la boucle “tantque” a un compteur <span style="font-family:monospace">k</span>, on peut donc 
la transformer en boucle “pour” avec sortie prématurée de la boucle
lorsque <span style="font-style:italic">S</span>&gt;<span style="font-style:italic">a</span>.

</p><pre class="verbatim">fonction Ticketdimanche(L,a,r) 
 local S,n,k,Lfin,La; 
 n:=dim(L);
 S:=0;
 pour k de 1 jusque n pas 2 faire
   S:=S+L[k]*L[k+1];
   si S&gt;=a alors 
     La:=gauche(L,k); 
     Lfin:=droit(L,n-k); 
     retourne La,Lfin,S,S-r;
   fsi;
 fpour;
 retourne L,[],S,S;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec41"  Exemple 10 : encore un autre exemple de boucle <span style="font-family:monospace">tantque</span>-->
<h3 id="sec41" class="subsection">2.3.13   Exemple 10 : encore un autre exemple de boucle <span style="font-family:monospace">tantque</span></h3><!--SEC END --><p>
Maintenant le magasin de Paul favorise aussi les achats en gros :
10% de réduction lorsque on achète 3 fois le même produit.
En plus il offre selon les dimanches une réduction immédiate <span style="font-style:italic">r</span> qui varie 
selon le montant <span style="font-style:italic">a</span> des achats. 
Modifier les programmes précédents pour tenir compte de des achats en 
gros.<br>
On tape :

</p><pre class="verbatim">fonction Prix(n,P)
 local S;
 si n &gt;=3 alors S:=n*P*0.9; 
 sinon S:=n*P; fsi;
 retourne S
ffonction:;

fonction Ticketdimgros(L,a,r) 
 local S,n,k,Lfin,La; 
 n:=dim(L);
 S:=0;
 k:=0
 tantque k &lt; n et S&lt;a faire 
   S:=S+Prix(L[k],L[k+1]);
   k:=k+2;
 ftantque;
 La:=gauche(L,k);
 Lfin:=droit(L,n-k);
 si S &lt; a alors r:=0 ;fsi;
 retourne La,Lfin,S,S-r;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[1,15,2,7.8,5,2.2,4,5.5,2,2.7,1,2.1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Ticketdimgros(L,60,10)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">1*15+2*7.8+5*2.2*0.9+4*5.5*0.9
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<span style="font-weight:bold">Transformation en boucle “pour”</span>

</p><pre class="verbatim">fonction Prix(n,P)
 local S;
 si n &gt;=3 alors S:=n*P*0.9; 
 sinon S:=n*P; fsi;
 retourne S
ffonction:;

fonction Ticketdimgros(L,a,r) 
 local S,n,k,Lfin,La; 
 n:=dim(L);
 S:=0;
 pour k de 1 jusque n pas 2 faire
   S:=S+Prix(L[k],L[k+1]);
   si S&gt;=a alors 
     La:=gauche(L,k);
     Lfin:=droit(L,n-k);
     retourne La,Lfin,S,S-r;
   fsi;
 fpour;
 retourne La,[],S,S;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

</p>
<!--TOC section id="sec42" Exercice : Algorithme de tracé de courbe-->
<h2 id="sec42" class="section">2.4  Exercice : Algorithme de tracé de courbe</h2><!--SEC END --><p><a id="hevea_default42"></a><a id="hevea_default43"></a>
Soit la fonction <span style="font-family:monospace">f</span> définie sur <span style="font-family:monospace">[a,b]</span>.<br>
 On veut tracer le graphe de cette fonction sur l’intervalle <span style="font-family:monospace">[a,b]</span>.<br>
 En partageant <span style="font-family:monospace">[a,b]</span> en <span style="font-family:monospace">n</span> parties égales on obtient : <br>
<span style="font-family:monospace">a=a0,a1=a+h,a2=a+2h, ...b=a+n*h</span> avec <span style="font-family:monospace">h=(b-a)/n</span>.
Le graphe sera obtenu en reliant les points de coordonnées <span style="font-family:monospace">[a f(a)]</span>
<span style="font-family:monospace">[a1 f(a1)]</span> etc ... par des segments.<br>
On tape :

</p><pre class="verbatim">fonction Graphe(f,a,b,n)
 local L,h,k;
 L:=NULL;
 h:=(b-a)/n;
 pour k de 0 jusque n-1 faire
   L:=L,segment(point(a,f(a)),point(a+h,f(a+h)));
   a:=a+h;
 fpour;
 retourne L;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f(x):=x^2+1
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(x):=(x+1)/(x-1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Graphe(f,-2,2,100)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Graphe(g,-12,12,100)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Graphe(Abs1,-10,12,100)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--BEGIN NOTES chapter-->
<hr class="footnoterule"><dl class="thefootnotes"><dt class="dt-thefootnotes">
<a id="note1" href="#text1">1</a></dt><dd class="dd-thefootnotes"><div class="footnotetext">En toute rigueur ce sont des nombres écrits en base 2 et non en base 10 mais on peut l’ignorer au niveau du lycée</div></dd><dt class="dt-thefootnotes"><a id="note2" href="#text2">2</a></dt><dd class="dd-thefootnotes"><div class="footnotetext"><span style="font-family:monospace">Xcas</span> accepte toutefois <span style="font-family:monospace">=</span> dans certaines situations non ambigües.</div></dd></dl>
<!--END NOTES-->
<!--TOC chapter id="sec43" Résolution d’équations-->
<h1 id="sec43" class="chapter">Chapitre 3  Résolution d’équations</h1><!--SEC END -->
<!--TOC section id="sec44" Encadrer une racine d’une équation par dichotomie-->
<h2 id="sec44" class="section">3.1  Encadrer une racine d’une équation par dichotomie</h2><!--SEC END --><p>
<span style="font-weight:bold">Algorithme de dichotomie</span><br>
On suppose que :<br>
la fonction <span style="font-family:monospace">f</span> est continue et croissante (resp décroissante) sur 
l’intervalle <span style="font-family:monospace">[a,b]</span> et que <span style="font-family:monospace">f(a)&lt;0</span> et <span style="font-family:monospace">f(b)&gt;0</span>
(si <span style="font-family:monospace">f(a)&gt;0</span> et <span style="font-family:monospace">f(b)&lt;0</span> on se ramène au cas précédent
en échangeant <span style="font-family:monospace">a</span> et <span style="font-family:monospace">b</span>).<br>
On en déduit que <span style="font-family:monospace">f</span> s’annule pour <span style="font-family:monospace">x=x0</span> avec <span style="font-family:monospace">a&lt;x0&lt;b</span>.<br>
On cherche une valeur approchée de <span style="font-family:monospace">x0</span>.<br>
Pour avoir une meilleur approximation de <span style="font-family:monospace">x0</span>, on cherche le signe de 
<span style="font-family:monospace">f(a+b)/2)</span> (<span style="font-family:monospace">c:=(a+b)/2</span> est le milieu de <span style="font-family:monospace">[a,b]</span>) <br>
Si <span style="font-family:monospace">f(c)==0</span> alors <span style="font-family:monospace">x0=c</span> et on est content !<br>
Si <span style="font-family:monospace">f(c)&lt;0</span> alors <span style="font-family:monospace">c&lt;x0&lt;b</span> sinon <span style="font-family:monospace">f(c)&gt;0</span> alors <span style="font-family:monospace">a&lt;x0&lt;c</span>.<br>
On peut donc recommencer le processus jusquà ce que
<span style="font-family:monospace">f(c)==0</span> ou <span style="font-family:monospace">abs(b-a)&lt;10</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">-n</span> (avec par exemple <span style="font-family:monospace">n:=3</span>).<br>
On tape :

</p><pre class="verbatim">fonction Dichotomie(f,a,b,n)
 local c;
 si f(a)*f(b)&gt;0 alors retourne [] fsi; 
 si f(a)==0 alors retourne [a] fsi;
 si f(b)==0 alors retourne [b] fsi;
 si f(a)&gt;0 alors a,b:=b,a; fsi; // echange a et b pour avoir f(a)&lt;0
 tantque abs(b-a)&gt;10^(-n) faire
   c:=evalf(a+b)/2;
   si f(c)=0 alors retourne [c] fsi;
   si f(c)&lt;0 alors a:=c; sinon b:=c; fsi;// on garde f(c)&lt;0
 ftantque
 retourne [c];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

Puis, on tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">f(x):=x^2-2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Dichotomie(f,1,2,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(x):=cos(x)-x
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Dichotomie(g,0.,1.,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On peut rajouter en début de programme
un test sur <span style="font-family:monospace">n</span> pour que le nombre d’itération 
ne soit pas trop grand, par exemple<br>
<span style="font-family:monospace">si n&gt;12 alors n:=12; fsi;</span><br>
On peut aussi utiliser une variable locale pour ne faire qu’une seule fois
le calcul de 10<sup>−<span style="font-style:italic">n</span></sup> et de <span style="font-style:italic">f</span>(<span style="font-style:italic">c</span>). Ce qui donne le programme suivant :

</p><pre class="verbatim">fonction Dichotomie(f,a,b,n)
 local c,fc,eps;
 si f(a)*f(b)&gt;0 alors retourne [] fsi; 
 si f(a)==0 alors retourne [a] fsi;
 si f(b)==0 alors retourne [b] fsi;
 si f(a)&gt;0 alors a,b:=b,a; fsi; // echange a et b pour avoir f(a)&lt;0
 si n&gt;12 alors n:=12; fsi;
 eps:=10^(-n);
 tantque abs(b-a)&gt;eps faire
   c:=evalf(a+b)/2;
   fc:=f(c);
   si fc=0 alors retourne [c] fsi;
   si fc&lt;0 alors a:=c; sinon b:=c; fsi;// on garde f(c)&lt;0
 ftantque
 retourne [c];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(x):=cos(x)-x
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Dichotomie(g,0.,1.,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<span style="font-weight:bold">Traduction du “tantque” en “pour”</span><br>
On observe qu’à chaque itération de la boucle 
on divise la longueur de l’intervalle par 2, le nombre
d’itérations ne peut pas être très grand.
On peut donc transformer la boucle “tantque” en boucle “pour”
en se fixant à priori un nombre maximal d’itérations ce qui
évitera d’ailleurs d’avoir une boucle qui ne se termine jamais. On
montrera plus bas que 2100 itérations
suffisent en calcul approché.

</p><pre class="verbatim">fonction Dichotomie(f,a,b,n)
 local c,k,eps;
 eps:=10^-n;
 si f(a)*f(b)&gt;0 alors retourne []; fsi; 
 pour k de 1 jusque 2100 faire
   c:=evalf((a+b)/2);
   si b-a&lt;eps alors retourne [c]; fsi;
   si f(a)*f(c)&lt;=0 alors b:=c; sinon a:=c; fsi;
 fpour;
 retourne [c];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(x):=cos(x)-x
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Dichotomie(g,0.,1.,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Si on connait les logarithmes, on peut calculer le nombre d’itérations <span style="font-style:italic">N</span> 
pour que |<span style="font-style:italic">b</span>−<span style="font-style:italic">a</span>|/2<sup><span style="font-style:italic">N</span></sup>&lt;10<sup>−<span style="font-style:italic">n</span></sup> en résolvant cette équation.
On peut aussi observer que les calculs se font en approché, dans <span style="font-family:monospace">Xcas</span> 
le plus grand nombre représentable par défaut 
est <code>evalf(2^(1024-1)</code>, donc la taille
du plus grand intervalle est (légèrement inférieure à)
2<sup>1025</sup>. Le plus petit réel strictement positif représentable
est <code>evalf(2^(-1069))</code>. Comme on divise par 2 la taille
de l’intervalle à chaque itération, le nombre maximal d’itérations
est au plus 1025+1069=2094<sup><a id="text3" href="#note3">1</a></sup>. 
Au-delà, soit <span style="font-style:italic">a</span> et <span style="font-style:italic">b</span> sont représentés
par le même nombre flottant (et le test |<span style="font-style:italic">b</span>−<span style="font-style:italic">a</span>|&lt;10<sup>−<span style="font-style:italic">n</span></sup> sera
donc vrai) soit ils ne différeront que par leur dernier bit de mantisse,
et dans ce cas <span style="font-style:italic">c</span>=(<span style="font-style:italic">a</span>+<span style="font-style:italic">b</span>)/2 sera arrondi vers <span style="font-style:italic">a</span> ou vers <span style="font-style:italic">b</span> et la boucle
<span style="font-family:monospace">tanque</span> continuera indéfiniment.<br>
La majoration est le plus souvent très pessimiste, par exemple 
si <span style="font-style:italic">a</span>=1 et <span style="font-style:italic">b</span>=2 ils sont déjà représentés avec le même
exposant et le nombre d’itérations sera limité par 48.

</p><pre class="verbatim">fonction Dichotomie(f,a,b,n)
 local c,k,N;
 si f(a)*f(b)&gt;0 alors retourne []; fsi; 
 N:=ceil(log((b-a)/10^(-n))/log(2)); 
 si N&gt;2100 alors N:=2100 fsi;
 pour k de 1 jusque N faire
   c:=evalf((a+b)/2);
   si f(a)*f(c)&lt;=0 alors b:=c; sinon a:=c; fsi;
 fpour;
 retourne [c];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(x):=cos(x)-x
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Dichotomie(g,0.,1.,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Exercice :</span> Modifier la fonction ci-dessus pour calculer <span style="font-style:italic">f</span> une
seule fois par itération, c’est-à-dire qu’on calcule <span style="font-style:italic">c</span> et <span style="font-style:italic">f</span>(<span style="font-style:italic">c</span>) 
mais qu’on ne recalcule pas <span style="font-style:italic">f</span>(<span style="font-style:italic">a</span>).<br>
<span style="font-weight:bold">Indication :</span><br>
On pourra introduire 3 variables locales <span style="font-family:monospace">fa, fb, fc</span> contenant les valeurs
de <span style="font-style:italic">f</span>(<span style="font-style:italic">a</span>), <span style="font-style:italic">f</span>(<span style="font-style:italic">b</span>), <span style="font-style:italic">f</span>(<span style="font-style:italic">c</span>). Ajouter un test pour renvoyer <span style="font-family:monospace">[c]</span> si
<span style="font-style:italic">f</span>(<span style="font-style:italic">c</span>) est nul.<br>

<span style="font-weight:bold">Correction de l’exercice</span>

</p><pre class="verbatim">fonction Dichotomie(f,a,b,n)
 local c,k,N,fa,fb,fc;
 fa:=f(a);
 fb:=f(b);
 si fa*fb&gt;0 alors retourne []; fsi; 
 si fa==0 alors retourne [a] fsi;
 si fb==0 alors retourne [b] fsi;
 N:=ceil(log((b-a)/10^(-n))/log(2)); 
 si N&gt;2100 alors N:=2100 fsi;
 pour k de 1 jusque N faire
   c:=evalf((a+b)/2);
   fc:=f(c);
   si fc==0 alors retourne [c] fsi;
   si fa*fc&lt;0 alors b:=c; sinon a:=c;fa:=fc; fsi;
 fpour;
 retourne [c];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">g(x):=cos(x)-x
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Dichotomie(g,0.,1.,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On peut vérifier ces résultats en utilisant la commande <span style="font-family:monospace">fsolve</span> de 
<span style="font-family:monospace">Xcas</span> qui effectue la résolution numérique d’une équation :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">fsolve(cos(x)=x,x,0..1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec45" Résoudre dans ℝ une équation se ramenant au premier degré ou au degré 2-->
<h2 id="sec45" class="section">3.2  Résoudre dans ℝ une équation se ramenant au premier degré ou au degré 2</h2><!--SEC END --><p>
On considère une équation qui se ramène au premier ou au deuxième
degré.<br>
Si cette équation se ramène au premier degré, elle est de la forme :
</p><div class="center"><span style="font-family:monospace">a*x+b=0</span> avec <span style="font-family:monospace">a!=0</span></div><p>
donc cette équation a une solution qui est:<br>
 <span style="font-family:monospace">x0:=-b/a</span>.<br>
Si cette équation se ramène au deuxième degré, elle est de la forme :
</p><div class="center"><span style="font-family:monospace">a*x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+b*x+c=0</span> avec <span style="font-family:monospace">a!=0</span></div><p> 
donc :
</p><ul class="itemize"><li class="li-itemize">
si Δ=<span style="font-family:monospace">b</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2-4*a*c&gt;0</span> il y a 2 solutions qui sont :<br>
 <span style="font-family:monospace">x1:=(-b</span>+√<span style="text-decoration:overline">Δ</span>)<span style="font-family:monospace">)/(2*a)</span> et
<span style="font-family:monospace">x2:=(-b</span>-√<span style="text-decoration:overline">Δ</span>)<span style="font-family:monospace">)/(2*a)</span>.
</li><li class="li-itemize">si Δ=<span style="font-family:monospace">b</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2-4*a*c=0</span> il y a 1 solution qui est :<br>
 <span style="font-family:monospace">x1</span> et <span style="font-family:monospace">x1:=-b/(2*a)</span>
</li><li class="li-itemize">si Δ=<span style="font-family:monospace">b</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2-4*a*c&lt;0</span> il n’y a pas de solution réelle.
</li></ul><p>
On tape :

</p><pre class="verbatim">fonction Solution12(Eq,Var)
 local a,b,c,d;
 Eq:=normal(gauche(Eq)-droit(Eq));
 si degree(Eq,Var)==0 alors 
   si (Eq==0) alors retourne "infinité de solution" ;
   sinon retourne "pas de solution" ;
   fsi;
 fsi; 
 si degree(Eq,Var)==1 alors 
   //a:=coeff(Eq,Var,1);b:=coeff(Eq,Var,0);
   b:=subst(Eq,Var=0);
   a:=subst(Eq,Var=1)-b;
   retourne normal([-b/a]);
 fsi;
 si degree(Eq,Var)==2 alors 
   //a:=coeff(Eq,Var,2);b:=coeff(Eq,Var,1);c:=coeff(Eq,Var,0);
   c:=subst(Eq,Var=0);
   d:=subst(Eq,Var=1);
   b:=(d-subst(Eq,Var=-1))/2;
   a:=d-b-c;
   d:=b^2-4*a*c;
   si d&gt;0 alors retourne simplify([(-b+sqrt(d))/(2*a),(-b-sqrt(d))/(2*a)]);fsi;
   si d==0 alors retourne simplify([-b/(2*a)]); fsi;
   retourne [];
 fsi;
 retourne "degree &gt;2";
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Solution12(2*x^2+2*x+2=x^2+2*x+4,x)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Solution12(2*x^2+2*x+2=2x^2+x+4,x)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Solution12(2*x^2+2*x+1=-2*x+31,x)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Solution12(2*x^2+2*x+1=-2*x-2,x)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC section id="sec46" Résoudre un système de deux équations du premier degré à deux inconnues.-->
<h2 id="sec46" class="section">3.3  Résoudre un système de deux équations du premier degré à deux inconnues.</h2><!--SEC END --><p>
On veut résoudre le système de deux équations du premier degré <br>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span><sub>1</sub> <span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>1</sub> <span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>1</sub>=0,    <span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>2</sub>=0</td></tr>
</table><p>
à deux inconnues <span style="font-style:italic">x</span>,<span style="font-style:italic">y</span>. On notera <span style="font-family:monospace">a1, b1, c1, a2, b2, c2</span> les
coefficients des équations dans les programmes.<br>
Pour éviter d’étudier des cas particuliers inintéressants, on va 
supposer que (<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">b</span><sub>1</sub>)≠ (0,0) et (<span style="font-style:italic">a</span><sub>2</sub>,<span style="font-style:italic">b</span><sub>2</sub>) ≠ (0,0). 
Dans ce cas <span style="font-style:italic">a</span><sub>1</sub> <span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>1</sub> <span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>1</sub>=0 et  <span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>2</sub>=0
sont les équations de 2 droites <span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub>.</p><p><span style="font-weight:bold">Solution géométrique</span>
</p><ul class="itemize"><li class="li-itemize">
Si <span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont concourantes, il y a une seule solution.
Pour la déterminer, on peut utiliser la commande 
<span style="font-family:monospace">solve</span> de <span style="font-family:monospace">Xcas</span><br>
<br><textarea onkeypress="UI.ckenter(event,this,2)" style="width:400px;height:20px;font-size:large">solve([a1*x+b1*y+c1=0,a2*x+b2*y+c2=0],[x,y]) 
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value); tmp=UI.latexeval(tmp);nextSibling.innerHTML='&nbsp;'+tmp; if (UI.usemathjax) MathJax.Hub.Queue(['Typeset',MathJax.Hub,nextSibling])">ok</button><span></span><br><br>
On justifiera ce résultat plus bas.
</li><li class="li-itemize">Si <span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont parallèles il n’y a pas de solution, sauf si
<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont confondues, il y a une infinité de solutions. On
va montrer que cela se produit si et seulement si <span style="font-style:italic">a</span><sub>1</sub> <span style="font-style:italic">b</span><sub>2</sub>−<span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">b</span><sub>1</sub> ≠ 0.<br>
En effet, 
<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont parallèles lorsque les coefficients  [<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">b</span><sub>1</sub>] 
et  [<span style="font-style:italic">a</span><sub>2</sub>,<span style="font-style:italic">b</span><sub>2</sub>] sont proportionnels i.e si il existe  <span style="font-style:italic">k</span>≠0 tel que :<br>
  [<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">b</span><sub>1</sub>]=<span style="font-style:italic">k</span>[<span style="font-style:italic">a</span><sub>2</sub>,<span style="font-style:italic">b</span><sub>2</sub>]=[<span style="font-style:italic">ka</span><sub>2</sub>,<span style="font-style:italic">kb</span><sub>2</sub>] ce qui entraine :
<table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">(<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>)=<span style="font-style:italic">kb</span><sub>2</sub><span style="font-style:italic">a</span><sub>2</sub>−<span style="font-style:italic">kb</span><sub>2</sub><span style="font-style:italic">a</span><sub>2</sub>=0</td></tr>
</table>
Réciproquement, si  (<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>=<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>) alors <span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont 
parallèles ou confondues.<br>
En effet :
<ul class="itemize"><li class="li-itemize">
Si  <span style="font-style:italic">b</span><sub>1</sub>=0 (resp  <span style="font-style:italic">a</span><sub>1</sub>=0) alors  <span style="font-style:italic">b</span><sub>2</sub>=0 (resp  <span style="font-style:italic">a</span><sub>2</sub>=0) puisque 
 [<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">b</span><sub>1</sub>]≠[0,0] et  (<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>=<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>), donc 
<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont parallèles à l’axe des  <span style="font-style:italic">x</span> (resp  <span style="font-style:italic">y</span>).
</li><li class="li-itemize">Si  <span style="font-style:italic">b</span><sub>1</sub>≠0 et  <span style="font-style:italic">a</span><sub>1</sub>≠0 alors  <span style="font-style:italic">b</span><sub>2</sub>/<span style="font-style:italic">b</span><sub>1</sub>==<span style="font-style:italic">a</span><sub>2</sub>/<span style="font-style:italic">a</span><sub>1</sub>=<span style="font-style:italic">k</span> ce qui signifie que
<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont parallèles ou confondues 
(<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont confondues lorsque les coefficients  [<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">b</span><sub>1</sub>,<span style="font-style:italic">c</span><sub>1</sub>] 
et  [<span style="font-style:italic">a</span><sub>2</sub>,<span style="font-style:italic">b</span><sub>2</sub>,<span style="font-style:italic">c</span><sub>2</sub>] sont proportionnels i.e si il existe  <span style="font-style:italic">k</span>≠0 tel que :<br>
  [<span style="font-style:italic">a</span><sub>1</sub>,<span style="font-style:italic">b</span><sub>1</sub>,<span style="font-style:italic">c</span><sub>1</sub>]=<span style="font-style:italic">k</span>[<span style="font-style:italic">a</span><sub>2</sub>,<span style="font-style:italic">b</span><sub>2</sub>,<span style="font-style:italic">c</span><sub>2</sub>]=[<span style="font-style:italic">ka</span><sub>2</sub>,<span style="font-style:italic">kb</span><sub>2</sub>,<span style="font-style:italic">kc</span><sub>2</sub>]).
</li></ul>
</li></ul><p>On commence par écrire un programme dans le cas où les droites
<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> sont concourrantes.

</p><pre class="verbatim">fonction Intersection(Eq1,Eq2,Var1,Var2)
 local a1,b1,c1,a2,b2,c2;
 Eq1:=normal(gauche(Eq1)-droit(Eq1));
 Eq2:=normal(gauche(Eq2)-droit(Eq2));
 a1:=coeff(Eq1,Var1,1);
 a2:=coeff(Eq2,Var1,1);
 b1:=coeff(Eq1,Var2,1);
 b2:=coeff(Eq2,Var2,1);
 si normal(a1*b2-a2*b1)==0 alors
   retourne "Cas non traite : Eq1 ou Eq2 n'est pas une  "+
          "equation de droite ou droites paralleles"; 
 fsi;
 c1:=subst(Eq1,[Var1,Var2],[0,0]);
 c2:=subst(Eq2,[Var1,Var2],[0,0]);
 print("droites concourantes");
 retourne [normal((-b2*c1+b1*c2)/(a1*b2-a2*b1)),
           normal((a2*c1-a1*c2)/(a1*b2-a2*b1))];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">d1:=droite(x+y=3);d2:=droite(2x-y=9);d3:=droite(-4x+2y=3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Intersection(x+y=3,2x-y=9,x,y)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Intersection(4x-2y+9=0,2x-y=3,x,y)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<span style="font-weight:bold">Exercice :</span> modifiez le programme ci-dessus pour éviter de calculer
plusieurs fois <span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>2</sub>−<span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">b</span><sub>1</sub>, en stockant sa valeur dans une variable 
locale.<br>

<span style="font-weight:bold">Correction de l’exercice :</span>

</p><pre class="verbatim">fonction Intersection(Eq1,Eq2,Var1,Var2)
 local a1,b1,c1,a2,b2,c2,d;
 Eq1:=normal(gauche(Eq1)-droit(Eq1));
 Eq2:=normal(gauche(Eq2)-droit(Eq2));
 a1:=coeff(Eq1,Var1,1);
 a2:=coeff(Eq2,Var1,1);
 b1:=coeff(Eq1,Var2,1);
 b2:=coeff(Eq2,Var2,1);
 d:=normal(a1*b2-a2*b1);
 si d==0 alors
   retourne "Cas non traite : Eq1 ou Eq2 n'est pas une"+
    " equation de droite ou droites paralleles ou confondues"; 
 fsi;
 c1:=subst(Eq1,[Var1,Var2],[0,0]);
 c2:=subst(Eq2,[Var1,Var2],[0,0]);
 print("droites concourantes");
 retourne [normal((-b2*c1+b1*c2)/d),
           normal((a2*c1-a1*c2)/d)];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

</p><p>Voici maintenant un programme qui teste que les équations
entrées sont bien des équations de droite et traite aussi 
le cas des droites parallèles ou confondues :

</p><pre class="verbatim">fonction Intersection(Eq1,Eq2,Var1,Var2)
 local a1,b1,c1,a2,b2,c2,d;
 Eq1:=normal(gauche(Eq1)-droit(Eq1));
 si degree(Eq1,Var1)&gt;1 et degree(Eq1,Var2)&gt;1  alors 
   retourne "pas de degré 1"; 
 fsi;
 Eq2:=normal(gauche(Eq2)-droit(Eq2));
 si degree(Eq2,Var1)&gt;1 et degree(Eq2,Var2)&gt;1 alors 
   retourne "pas de degré 1"; 
 fsi;
 a1:=coeff(Eq1,Var1,1);
 a2:=coeff(Eq2,Var1,1);
 b1:=coeff(Eq1,Var2,1);
 b2:=coeff(Eq2,Var2,1);
 si [a1,b1]==[0,0] ou [a2,b2]==[0,0] alors 
   retourne "Eq1 ou Eq2 est nulle"; 
 fsi;
 c1:=subst(Eq1,[Var1,Var2],[0,0]);
 c2:=subst(Eq2,[Var1,Var2],[0,0]);
 d:=normal(a1*b2-a2*b1);
 si d!=0 alors 
   print("droites concourantes");
   retourne [normal((-b2*c1+b1*c2)/d),
             normal((a2*c1-a1*c2)/d)];
 fsi;
 si a1!=0 et a2!=0 alors 
   si c1*a2-c2*a1==0 alors 
     print("droites confondues");
     retourne [normal(-c1/a1),Var2]; 
   sinon 
     print("droites paralleles");
     retourne [] ;
   fsi;
 fsi;    
 si b1!=0 et b2!=0 alors 
   si c1*b2==c2*b1 alors 
     print("droites confondues");
     retourne [Var1,normal(-c1/b1)]; 
   sinon 
     print("droites paralleles");
     retourne [];
   fsi;
 fsi;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Intersection(x+y=3,2x-y=9,x,y)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Intersection(4x-2y+3=0,2x-y=9,x,y)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(inter_unique(d1,d2))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">est_parallele(d2,d3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Justification de la solution lorsque </span><span style="font-style:italic">D</span><sub>1</sub><span style="font-weight:bold"> et </span><span style="font-style:italic">D</span><sub>2</sub><span style="font-weight:bold"> sont concourantes</span><br>
On a vu que c’était le cas si et seulement si
 <span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>≠0.
</p><ul class="itemize"><li class="li-itemize">
Si  <span style="font-style:italic">b</span><sub>1</sub>≠0 on a  <span style="font-style:italic">y</span>=(−<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>−<span style="font-style:italic">c</span><sub>1</sub>)/<span style="font-style:italic">b</span><sub>1</sub> donc l’abscisse du point 
d’intersection de <span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> vérifie :<br>
 <span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>2</sub>(−<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>−<span style="font-style:italic">c</span><sub>1</sub>)+<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>=0<br>
donc  (<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>)<span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">c</span><sub>1</sub>=0 et finalement
<table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span>=</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">c</span><sub>1</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
</table></td><td class="dcell"> </td></tr>
</table>
On remplace dans l’expression de <span style="font-style:italic">y</span> en fonction de <span style="font-style:italic">x</span>
<table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" > <span style="font-style:italic">y</span></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell">−<span style="font-style:italic">a</span><sub>1</sub></td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">c</span><sub>1</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
</table></td><td class="dcell">−<span style="font-style:italic">c</span><sub>1</sub></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>1</sub></td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr><td class="dcell" style="text-align:center">−<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>+<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">c</span><sub>1</sub>−<span style="font-style:italic">c</span><sub>1</sub>(<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>)</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>1</sub></td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">−<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>+<span style="font-style:italic">c</span><sub>1</sub><span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>1</sub>(<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub>)</td></tr>
</table></td><td class="dcell"> </td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center">−<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>+<span style="font-style:italic">c</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
</table></td></tr>
</table></td></tr>
</table>
</li><li class="li-itemize">Si  <span style="font-style:italic">b</span><sub>1</sub>=0, on va voir que les mêmes formules s’appliquent.
En effet l’abscisse du point d’intersection de 
<span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> vérifie <span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">c</span><sub>1</sub>=0 donc 
<table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span>=−</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">c</span><sub>1</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">a</span><sub>1</sub></td></tr>
</table></td><td class="dcell">=</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>−<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">c</span><sub>1</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
</table></td></tr>
</table>
Comme <span style="font-style:italic">b</span><sub>2</sub>≠0, on a 
<table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">y</span></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center">−<span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span>−<span style="font-style:italic">c</span><sub>2</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub></td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span><sub>2</sub></td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">c</span><sub>1</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">a</span><sub>1</sub></td></tr>
</table></td><td class="dcell">−<span style="font-style:italic">c</span><sub>2</sub></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub></td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">a</span><sub>2</sub> <span style="font-style:italic">c</span><sub>1</sub>−<span style="font-style:italic">a</span><sub>1</sub> <span style="font-style:italic">c</span><sub>2</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>2</sub></td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr><td class="dcell" style="text-align:center">−<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">c</span><sub>2</sub>+<span style="font-style:italic">c</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">a</span><sub>2</sub></td></tr>
</table></td></tr>
</table></td></tr>
</table>
</li></ul>
<!--BEGIN NOTES chapter-->
<hr class="footnoterule"><dl class="thefootnotes"><dt class="dt-thefootnotes">
<a id="note3" href="#text3">1</a></dt><dd class="dd-thefootnotes"><div class="footnotetext">Il faut ajouter 5 pour un langage 
traditionnel
où la mantisse a 53 chiffres significatifs. Attention, ceci n’est
plus valable dans <span style="font-family:monospace">Xcas</span> si on modifie la valeur de <span style="font-family:monospace">Digits</span></div></dd></dl>
<!--END NOTES-->
<!--TOC chapter id="sec47" Les figures en géométrie plane avec <span style="font-family:monospace">Xcas</span>-->
<h1 id="sec47" class="chapter">Chapitre 4  Les figures en géométrie plane avec <span style="font-family:monospace">Xcas</span></h1><!--SEC END -->
<!--TOC section id="sec48" Le point : <span style="font-family:monospace">point</span> et le segment : <span style="font-family:monospace">segment</span>-->
<h2 id="sec48" class="section">4.1  Le point : <span style="font-family:monospace">point</span> et le segment : <span style="font-family:monospace">segment</span></h2><!--SEC END --><p><a id="hevea_default44"></a><a id="hevea_default45"></a>
<span style="font-family:monospace">point</span> a comme arguments l’abscisse et l’ordonnée du point.<br>
<span style="font-family:monospace">point</span> trace le point à l’aide d’une croix sur l’écran de 
géométrie 2<span style="font-style:italic">d</span>.<br>
Si on a donné un nom au point (par ex <span style="font-family:monospace">A:=point(1,1);</span> ou 
<span style="font-family:monospace">A:=point([1,1]);</span>) ce nom sera affiché à côté de la croix.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=point(1,1);B:=point(2,3);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

<span style="font-family:monospace">segment</span> a comme argument 2 points.<br>
<span style="font-family:monospace">segment</span> trace le segment reliant ces 2 points sur l’écran de 
géométrie 2<span style="font-style:italic">d</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=A;B:=B;segment(A,B);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec49" Les coordonnées d’un point : <span style="font-family:monospace">coordonnees</span>-->
<h2 id="sec49" class="section">4.2  Les coordonnées d’un point : <span style="font-family:monospace">coordonnees</span></h2><!--SEC END --><p><a id="hevea_default46"></a>
<span style="font-family:monospace">coordonnees</span> a comme argument 1 point.<br>
<span style="font-family:monospace">coordonnees</span> renvoie la liste constitué de l’abscisse et de l’ordonnée
du point.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(A)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(B)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec50" La droite et son équation : <span style="font-family:monospace">droite</span> et <span style="font-family:monospace">equation</span>-->
<h2 id="sec50" class="section">4.3  La droite et son équation : <span style="font-family:monospace">droite</span> et <span style="font-family:monospace">equation</span></h2><!--SEC END --><p><a id="hevea_default47"></a><a id="hevea_default48"></a>
<span style="font-family:monospace">droite</span> a comme argument 2 points.<br>
<span style="font-family:monospace">droite</span> trace la droite passant par ces 2 points sur l’écran de 
géométrie 2<span style="font-style:italic">d</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=A;B:=B;d:=droite(A,B);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

<span style="font-family:monospace">equation</span> a comme argument une droite.<br>
<span style="font-family:monospace">equation</span> renvoie l’équation de cette droite<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(d)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec51" Ligne brisée : <span style="font-family:monospace">polygone_ouvert</span>-->
<h2 id="sec51" class="section">4.4  Ligne brisée : <span style="font-family:monospace">polygone_ouvert</span></h2><!--SEC END --><p><a id="hevea_default49"></a>
<span style="font-family:monospace">polygone_ouvert</span> a comme argument une liste <span style="font-family:monospace">L</span> de points.<br>
<span style="font-family:monospace">polygone_ouvert</span> trace la ligne brisée joignant les points 
<span style="font-family:monospace">L[k]</span> et <span style="font-family:monospace">L[k+1]</span> pour <span style="font-family:monospace">k=0..dim(L)-2</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">A:=point(1,1);B:=point(2,3);C:=point(3,2);
D:=point(2,0);polygone_ouvert(A,B,C,D)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec52" Les polygones : <span style="font-family:monospace">triangle, carre, polygone</span>-->
<h2 id="sec52" class="section">4.5  Les polygones : <span style="font-family:monospace">triangle, carre, polygone</span></h2><!--SEC END --><p><a id="hevea_default50"></a><a id="hevea_default51"></a><a id="hevea_default52"></a>
<span style="font-family:monospace">triangle</span> a comme argument 3 points.<br>
<span style="font-family:monospace">triangle</span> trace le triangle défini par ces 3 points sur l’écran de 
géométrie 2<span style="font-style:italic">d</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=A;B:=B;C:=C;triangle(A,B,C)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

<span style="font-family:monospace">carre</span> a comme argument 2 points.<br>
<span style="font-family:monospace">carre</span> trace le carré direct défini par ces 2 points sur l’écran de 
géométrie 2<span style="font-style:italic">d</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=A;D:=D;carre(A,D)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=A;D:=D;carre(D,A)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

<span style="font-family:monospace">polygone</span> a comme argument une liste de points.<br>
<span style="font-family:monospace">polygone</span> trace le polygone fermé défini par cette liste de points sur 
l’écran de géométrie 2<span style="font-style:italic">d</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=A;B:=B;C:=C;D:=D;polygone(A,B,C,D)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC section id="sec53" Le cercle et son équation : <span style="font-family:monospace">cercle</span> et <span style="font-family:monospace">equation</span>-->
<h2 id="sec53" class="section">4.6  Le cercle et son équation : <span style="font-family:monospace">cercle</span> et <span style="font-family:monospace">equation</span></h2><!--SEC END --><p><a id="hevea_default53"></a><a id="hevea_default54"></a>
Si le cercle est défini par son centre et son rayon :<br>
<span style="font-family:monospace">cercle</span> a pour argument un point et un réel <span style="font-family:monospace">r</span>.<br>
<span style="font-family:monospace">cercle</span> trace le cercle de centre ce point et de rayon <span style="font-family:monospace">abs(r)</span>
sur l’écran de géométrie 2<span style="font-style:italic">d</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=point(1,1);C1:=cercle(A,-2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(C1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p>Si le cercle est défini par son diamètre :<br>
<span style="font-family:monospace">cercle</span> a pour argument 2 points.<br>
 <span style="font-family:monospace">cercle</span> trace le cercle de diamètre ces 2 points.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A1:=point(1,1);A2:=point(2,3);C2:=cercle(A1,A2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(C2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC section id="sec54" Les tangentes à un cercle passant par un point et leurs équations-->
<h2 id="sec54" class="section">4.7  Les tangentes à un cercle passant par un point et leurs équations</h2><!--SEC END --><p>
Si <span style="font-family:monospace">C</span> est un cercle et <span style="font-family:monospace">B</span> un point situé à l’extérieur de
(resp sur) <span style="font-family:monospace">C</span> alors <span style="font-family:monospace">tangent(C,B)</span> trace les (resp la) tangente(s) à 
<span style="font-family:monospace">C</span> passant par <span style="font-family:monospace">B</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">B:=point(3,1);C1:=cercle(point(1,1),1);T1:=tangent(C1,B);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(T1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">B:=point(3,1);C2:=cercle(A1,A2);T2:=tangent(C2,B);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(T2);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC chapter id="sec55" La géométrie analytique-->
<h1 id="sec55" class="chapter">Chapitre 5  La géométrie analytique</h1><!--SEC END --><p>
Dans ce chapitre, les programmes que l’on va faire ne feront pas de tracés 
mais renverront des valeurs (coordonnées, coefficients, équations).<br>
On pourra alors faire les figures avec <span style="font-family:monospace">Xcas</span> et vérifier les résultats
obtenus par ces programmes.
</p>
<!--TOC section id="sec56" Les segments-->
<h2 id="sec56" class="section">5.1  Les segments</h2><!--SEC END -->
<!--TOC subsection id="sec57" Calculer la distance de deux points connaissant leurs coordonnées-->
<h3 id="sec57" class="subsection">5.1.1  Calculer la distance de deux points connaissant leurs coordonnées</h3><!--SEC END --><p>
Si les points <span style="font-family:monospace">A</span> et <span style="font-family:monospace">B</span> ont pour coordonnées <span style="font-family:monospace">cA:=[xA,yA]</span> et
<span style="font-family:monospace">cB:=[xB,yB]</span> le segment <span style="font-family:monospace">AB</span> a pour longueur :<br>
<span style="font-family:monospace">sqrt((xA-xB)</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+(yA-yB)</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2)</span><br>
On tape :

</p><pre class="verbatim">fonction Longueur(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne simplify(sqrt((xA-xB)^2+(yA-yB)^2));
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Longueur(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">longueur(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec58" Calculer les coordonnées du milieu d’un segment-->
<h3 id="sec58" class="subsection">5.1.2  Calculer les coordonnées du milieu d’un segment</h3><!--SEC END --><p>
Si les points <span style="font-family:monospace">A</span> et <span style="font-family:monospace">B</span> ont pour coordonnées <span style="font-family:monospace">cA:=[xA,yA]</span> et 
<span style="font-family:monospace">cB:=[xB,yB]</span>, le milieu de <span style="font-family:monospace">AB</span> a pour coordonnées 
<span style="font-family:monospace">[(xA+xB)/2,(yA+yB)/2]</span> :<br>
On tape :

</p><pre class="verbatim">fonction Milieu(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne [(xA+xB)/2,(yA+yB)/2];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Milieu(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(milieu(cA,cB))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec59" Les droites-->
<h2 id="sec59" class="section">5.2  Les droites</h2><!--SEC END -->
<!--TOC subsection id="sec60" Équation d’une droite définie par 2 points ou par sa pente et un point-->
<h3 id="sec60" class="subsection">5.2.1  Équation d’une droite définie par 2 points ou par sa pente et un point</h3><!--SEC END --><p>
<span style="font-weight:bold">Équation d’une droite définie par 2 points</span><br>
Si les points <span style="font-family:monospace">A</span> et <span style="font-family:monospace">B</span> ont pour coordonnées <span style="font-family:monospace">cA:=[xA,yA]</span> et 
<span style="font-family:monospace">cB:=[xB,yB]</span>, la droite <span style="font-family:monospace">d</span> passant par <span style="font-family:monospace">A</span> et <span style="font-family:monospace">B</span> a pour 
équation :<br>
<span style="font-family:monospace">(xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB=0</span> ou encore<br>
si <span style="font-family:monospace">(xA==xB)</span> alors l’équation de <span style="font-family:monospace">d</span> est <span style="font-family:monospace">x=xA</span> <br>
si <span style="font-family:monospace">(xA!=xB)</span> alors l’équation de <span style="font-family:monospace">d</span> est 
<span style="font-family:monospace">y=(yA-yB)*(x-xB)/(xA-xB)+yB</span> <br>

<span style="font-weight:bold">Équation d’une droite définie par sa pente et un point</span><br>
La droite passant par le point <span style="font-family:monospace">A</span> de coordonnées 
<span style="font-family:monospace">cA:=[xA,yA]</span> et de pente <span style="font-family:monospace">m</span> a pour équation :<br>
<span style="font-family:monospace">y=m*(x-xA)+yA</span>.<br>
On tape :

</p><pre class="verbatim">fonction Droite1(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne normal((xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB)=0;
ffonction:;

fonction Droite2(cA,m)
 local xA,yA;
 xA:=cA[0];
 yA:=cA[1];
 retourne y-m*(x-xA)-yA=0;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On peut réunir les 2 programmes en un seul en testant la dimension du 
deuxième paramètre de <span style="font-family:monospace">Droite</span> qui est soit une liste de dimension 2,
soit un réél.<br>
On peut aussi faire en sorte que <span style="font-family:monospace">Droite</span> accepte 1 seul argument qui soit 
son équation : pour cela, on donne au deuxième argument une valeur par 
défaut (ici cette valeur sera arbitraire par exemple 0) (cf <a href="#sec%3Avaldef">2.2.3</a>).<br>
On tape :

</p><pre class="verbatim">fonction Droite(cA,L=0)
 local xA,xB,yA,yB,m;
 si type(cA)==expression alors retourne cA;fsi;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   retourne normal((xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB)=0;
 sinon
   m:=L;
   retourne y-m*(x-xA)-yA=0;
 fsi;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

Observez qu’on a donné une valeur par défaut 0 
au deuxième paramètre <code>L</code>, si <code>Droite</code> est appelée
avec deux arguments tout se passe comme si on avait écrit
<code>L</code> et non <code>L=0</code>, par contre si <code>Droite</code> est
appelée avec un seul argument, alors <code>L</code> prend la valeur
0 au début de la fonction.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">m:=2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Droite(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Droite(cA,m)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Droite(x+y=1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(droite(point(cA),point(cB)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(droite(point(cA),pente=m))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec61" Coefficients (a,b,c) de la droite d’équation ax+by+c=0-->
<h3 id="sec61" class="subsection">5.2.2  Coefficients (a,b,c) de la droite d’équation ax+by+c=0</h3><!--SEC END --><p><a id="hevea_default55"></a><a id="hevea_default56"></a><a id="hevea_default57"></a>
Étant donnée l’équation d’une droite <span style="font-family:monospace">a*x+b*y+c=0</span>, on va écrire une
fonction qui renvoie les coefficients <span style="font-family:monospace">a</span>, <span style="font-family:monospace">b</span> et <span style="font-family:monospace">c</span>.<br>
On utilise tout d’abord <span style="font-family:monospace">gauche</span> et <span style="font-family:monospace">droit</span> qui renvoie le côté 
gauche et le côté droit d’une équation.<br>
Par exemple si <span style="font-family:monospace">Eq:=eq1=eq2</span> alors
<span style="font-family:monospace">gauche(Eq)</span> renvoie <span style="font-family:monospace">eq1</span> et
<span style="font-family:monospace">droit(Eq)</span> renvoie <span style="font-family:monospace">eq2</span> donc <br>
<span style="font-family:monospace">gauche(Eq)-droit(Eq)</span> renvoie <span style="font-family:monospace">eq</span> 
qui est égal à <span style="font-family:monospace">eq1-eq2</span>.<br>
On peut alors trouver <span style="font-family:monospace">a</span>, <span style="font-family:monospace">b</span> et <span style="font-family:monospace">c</span> en donnant des valeurs à
<span style="font-family:monospace">x</span> et <span style="font-family:monospace">y</span>.<br>
Posons :<br>
<span style="font-family:monospace">c:=subst(eq,[x,y],[0,0])</span><br>
<span style="font-family:monospace">d1:=subst(eq,[x,y],[1,0])</span><br>
<span style="font-family:monospace">d2:=subst(eq,[x,y],[0,1])</span><br>
Alors on a <span style="font-family:monospace">a:=d1-c</span> et <span style="font-family:monospace">b:=d2-c</span><br>
On tape :

</p><pre class="verbatim">fonction Coeffsdroite(Eq)
 local a,b,c,d1,d2,eq;
 eq:=gauche(Eq)-droit(Eq);
 c:=subst(eq,[x,y],[0,0]);
 d1:=subst(eq,[x,y],[1,0]);
 d2:=subst(eq,[x,y],[0,1]);
 retourne normal(d1-c,d2-c,c);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Coeffsdroite(y-3*(x-1)-1=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Coeffsdroite((1+sqrt(2))^2*x-y+3=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Remarque</span><br>
On peut aussi utiliser :<br>
<span style="font-family:monospace">coeff(P(x,y),x)</span> (resp <span style="font-family:monospace">coeff(P(x,y),y)</span>) qui renvoie la liste 
des coefficients selon les puissances décroissantes du polynôme <span style="font-family:monospace">P</span> par 
rapport à la variable <span style="font-family:monospace">x</span> (resp <span style="font-family:monospace">y</span>) et<br>
<span style="font-family:monospace">coeff(P(x,y),x,n)</span> (resp <span style="font-family:monospace">coeff(P(x,y),y,n)</span>) qui renvoie le 
coefficient de <span style="font-family:monospace">x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">n</span> (resp de <span style="font-family:monospace">y</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">n</span>) du
polynôme <span style="font-family:monospace">P</span>.<br>
On tape :

</p><pre class="verbatim">fonction Coeffdroite(Eq)
 local a,b,c;
 Eq:=gauche(Eq)-droit(Eq);
 a:=coeff(Eq,x,1);
 b:=coeff(Eq,y,1);
 c:=subst(Eq,[x,y]=[0,0]);
 retourne normal(a,b,c);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Coeffdroite(y-3*(x-1)-1=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Coeffdroite(Droite(y-3*(x-1)-1=0))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">Eq:=y-3*(x-1)-1;[coeff(Eq,x,1),coeff(Eq,y,1),subst(Eq,[x,y]=[0,0])]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec62" Point d’intersection de 2 droites sécantes-->
<h3 id="sec62" class="subsection">5.2.3  Point d’intersection de 2 droites sécantes</h3><!--SEC END --><p>
Cette section reprend la section sur la résolution de système
de 2 équations à 2 inconnues.
Soient deux droites <span style="font-family:monospace">d1</span> et <span style="font-family:monospace">d2</span> d’équation :<br>
<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>1</sub>=0 et <span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>2</sub>=0<br>
Ces 2 droites sont parallèles si <span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>2</sub>=<span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">b</span><sub>1</sub>.<br>
Si <span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>2</sub>≠ <span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">b</span><sub>1</sub> <span style="font-family:monospace">d1</span> et <span style="font-family:monospace">d2</span> sont sécantes.<br>
Les coordonnées de leur point d’intersection sont <br>
(−<span style="font-style:italic">c</span><sub>2</sub>*<span style="font-style:italic">b</span><sub>1</sub>+<span style="font-style:italic">b</span><sub>2</sub>*<span style="font-style:italic">c</span><sub>1</sub>)/(−<span style="font-style:italic">b</span><sub>2</sub>*<span style="font-style:italic">a</span><sub>1</sub>+<span style="font-style:italic">a</span><sub>2</sub>*<span style="font-style:italic">b</span><sub>1</sub>),(<span style="font-style:italic">c</span><sub>2</sub>*<span style="font-style:italic">a</span><sub>1</sub>−<span style="font-style:italic">a</span><sub>2</sub>*<span style="font-style:italic">c</span><sub>1</sub>)/(−<span style="font-style:italic">b</span><sub>2</sub>*<span style="font-style:italic">a</span><sub>1</sub>+<span style="font-style:italic">a</span><sub>2</sub>*<span style="font-style:italic">b</span><sub>1</sub>)
<span style="font-family:monospace">Interdroite(d1,d2)</span> renvoie <span style="font-family:monospace">[]</span> si <span style="font-family:monospace">d1</span> et <span style="font-family:monospace">d2</span> sont 
paralléles et sinon renvoie les coordonées de leur point d’intersection.<br>
On rappelle les programmes <span style="font-family:monospace">Droite</span> et <span style="font-family:monospace">Coeffsdroite</span> précédents 
pour avoir les coefficients
des équations <span style="font-family:monospace">Eq1</span> et <span style="font-family:monospace">Eq2</span> de <span style="font-family:monospace">d1</span> et de <span style="font-family:monospace">d2</span>

</p><pre class="verbatim">fonction Droite(cA,L=0)
 local xA,xB,yA,yB,m;
 si type(cA)==expression alors retourne cA;fsi;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   retourne normal((xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB)=0;
 sinon
   m:=L;
   retourne y-m*(x-xA)-yA=0;
 fsi;
ffonction:;

fonction Coeffsdroite(Eq)
 local a,b,c,d1,d2;
 Eq:=gauche(Eq)-droit(Eq);
 c:=subst(Eq,[x,y],[0,0]);
 d1:=subst(Eq,[x,y],[1,0]);
 d2:=subst(Eq,[x,y],[0,1]);
 retourne normal(d1-c,d2-c,c);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On tape :

</p><pre class="verbatim">fonction Interdroite(d1,d2)
 local a1,a2,b1,b2,c1,c2,gd1,gd2,d;
 (a1,b1,c1):=Coeffsdroite(d1);
 (a2,b2,c2):=Coeffsdroite(d2);
 d:=normal(a2*b1-b2*a1);
 si d==0 alors retourne [];fsi;
 retourne [(b2*c1-b1*c2)/d,(c2*a1-a2*c1)/d];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">d1:=Droite(2x+3y-1=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">d2:=Droite(-x+y+1=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">d3:=Droite([1,1],[2,3])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">d4:=Droite([1,0],[0,1])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">d5:=Droite([1,2],2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Interdroite(d1,d2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Interdroite(d3,d4)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Interdroite(d5,d3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On fait la figure avec <span style="font-family:monospace">Xcas</span>:<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">droite(d1),droite(d2),droite(d3),droite(d4),droite(d5)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">coordonnees(inter_unique(droite(d1),droite(d2)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">coordonnees(inter_unique(droite(d3),droite(d4)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec63" Triangles et quadrilatères définis par les coordonnées des sommets-->
<h2 id="sec63" class="section">5.3  Triangles et quadrilatères définis par les coordonnées des sommets</h2><!--SEC END --><p>
On définit des versions de la commande <code>polygone</code> de <span style="font-family:monospace">Xcas</span> donc ces 2 programmes vont faire des figures.

</p><pre class="verbatim">fonction Triangle(cA,cB,cC)
 retourne polygone(cA,cB,cC);
ffonction:;
fonction Quadrilatere(cA,cB,cC,cD)
 retourne polygone(cA,cB,cC,cD);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,-1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[1/2,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cC:=[0,3/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cD:=[-1/2,0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Triangle(cA,cB,cC)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Quadrilatere(cA,cB,cC,cD)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec64" Les vecteurs-->
<h2 id="sec64" class="section">5.4  Les vecteurs</h2><!--SEC END -->
<!--TOC subsection id="sec65" Les coordonnées d’un vecteur défini par 2 points-->
<h3 id="sec65" class="subsection">5.4.1  Les coordonnées d’un vecteur défini par 2 points</h3><!--SEC END --><p>
Si les coordonnées du point A (resp B) sont <span style="font-family:monospace">cA:=[xA,yA]</span> 
(resp <span style="font-family:monospace">cB:=[xB,yB]</span>), les coordonnées du vecteur <span style="font-family:monospace">AB</span> 
sont <span style="font-family:monospace">[xB-xA,yB-yA]</span>.<br>
On tape :

</p><pre class="verbatim">fonction Vecteur(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne normal([xB-xA,yB-yA]);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

ou plus simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Vecteur(cA,cB):=normal(cB-cA);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Vecteur(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">A:=point(cA);B:=point(cB);vecteur(A,B);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(vecteur(A,B))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec66" Calculer les coordonnées de la somme de deux vecteurs dans un repère-->
<h3 id="sec66" class="subsection">5.4.2  Calculer les coordonnées de la somme de deux vecteurs dans un repère</h3><!--SEC END --><p>
Si les vecteurs <span style="font-family:monospace">V1</span> et <span style="font-family:monospace">V2</span> ont pour coordonnées <span style="font-family:monospace">cV1:=[x1,y1]</span> 
et <span style="font-family:monospace">cV2:=[x2,y2]</span>, les coordonnées du vecteur <span style="font-family:monospace">V1+V2</span> sont 
<span style="font-family:monospace">[x1+x2,y1+y2]</span>.<br>
On tape :

</p><pre class="verbatim">fonction SumVect(cV1,cV2)
 local x1,x2,y1,y2;
 x1:=cV1[0];
 y1:=cV1[1];
 x2:=cV2[0];
 y2:=cV2[1];
 retourne normal([x1+x2,y1+y2]);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

ou plus simplement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">SumVect(cV1,cV2):=normal(cV1+cV2);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cV1:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cV2:=[-2,3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cV3:=SumVect(cV1,cV2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">V1:=vecteur(0,cV1);V2:=vecteur(0,cV2);V3:=vecteur(0,cV3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cV1+cV2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec67" Coordonnées de <span style="font-style:italic">D</span> extrémité du vecteur 
d’origine <span style="font-style:italic">C</span> équipollent au vecteur <span style="font-style:italic">AB</span>-->
<h3 id="sec67" class="subsection">5.4.3  Coordonnées de <span style="font-style:italic">D</span> extrémité du vecteur 
d’origine <span style="font-style:italic">C</span> équipollent au vecteur <span style="font-style:italic">AB</span></h3><!--SEC END --><p>
On a <span style="font-style:italic">D</span>:=<span style="font-style:italic">C</span>+(<span style="font-style:italic">B</span>−<span style="font-style:italic">A</span>).<br>
On tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Translation(cA,cB,cC):=cC+(cB-cA);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[2,3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cC:=[-1,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cD:=Translation(cA,cB,cC)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">A:=point(cA);B:=point(cB);C:=point(cC);D:=point(cD);polygone(cA,cB,cD,cC)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(translation(cB-cA,point(cC)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec68" Norme d’un vecteur-->
<h3 id="sec68" class="subsection">5.4.4  Norme d’un vecteur</h3><!--SEC END --><p>
Soit le vecteur <span style="font-family:monospace">V:=[xV,yV]</span>, on pose <span style="font-family:monospace">cV:=[xV,yV]</span> la liste des 
coordonnées de V.<br>
La norme de <span style="font-family:monospace">V</span> est égale à <span style="font-family:monospace">sqrt(xV</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+yV</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2)</span>.<br>
On tape :

</p><pre class="verbatim">fonction Norme(cV)
 local xV,yV;
 xV:=cV[0];
 yV:=cV[1];
 retourne sqrt(xV^2+yV^2);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[2,3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Norme(cB-cA)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">norm(vecteur(point(cA),point(cB)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec69" Changement de repères-->
<h2 id="sec69" class="section">5.5  Changement de repères</h2><!--SEC END -->
<!--TOC subsection id="sec70" Le problème-->
<h3 id="sec70" class="subsection">5.5.1  Le problème</h3><!--SEC END --><p>
Soient 2 repères orthonormés  <span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span> et  <span style="font-style:italic">I</span>,<span style="font-style:italic">IX</span>,<span style="font-style:italic">IY</span>. <br>
<span style="font-weight:bold">Notations :</span>
</p><ul class="itemize"><li class="li-itemize">
Soit  <span style="font-style:italic">M</span> un point ou un vecteur.<br>
On note  <span style="font-style:italic">c</span><sub><span style="font-style:italic">M</span></sub> les coordonnées  [<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>] de  <span style="font-style:italic">M</span> dans le repère 
 <span style="font-style:italic">Oxy</span>.<br>
On note  <span style="font-style:italic">C</span><sub><span style="font-style:italic">M</span></sub> les coordonnées  [<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>] de  <span style="font-style:italic">M</span> dans le repère 
 <span style="font-style:italic">IXY</span>.
</li><li class="li-itemize">On note  <span style="font-style:italic">u</span> (resp  <span style="font-style:italic">v</span>) le vecteur unitaire porté par  <span style="font-style:italic">Ox</span> 
(resp  <span style="font-style:italic">Oy</span>)
</li><li class="li-itemize">On note  <span style="font-style:italic">U</span> (resp  <span style="font-style:italic">V</span>) le vecteur unitaire porté par  <span style="font-style:italic">OX</span> 
(resp  <span style="font-style:italic">OY</span>)
</li></ul><p>
Avec ces notations, on a :
</p><ul class="itemize"><li class="li-itemize">
le point  <span style="font-style:italic">I</span> a pour coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>] dans le repère 
 <span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span> donc  <span style="font-style:italic">OI</span>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">v</span>
</li><li class="li-itemize">le vecteur  <span style="font-style:italic">U</span> a pour coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">U</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>,<span style="font-style:italic">yU</span>] dans le repère 
 <span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span> ( <span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub><sup>2</sup>=1) donc  <span style="font-style:italic">U</span>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">v</span> 
</li><li class="li-itemize">le vecteur  <span style="font-style:italic">V</span> a pour coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">V</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>] dans le repère 
 <span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span> ( <span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub><sup>2</sup>=1) donc  <span style="font-style:italic">V</span>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub><span style="font-style:italic">v</span>.
L’angle  (<span style="font-style:italic">U</span>,<span style="font-style:italic">V</span>)=π/2 donc  <span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>:=−<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub> et  <span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>:=<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>
</li></ul>
<!--TOC subsection id="sec71" Le programme <span style="font-weight:bold">Changexy2XY(cM,cI,cU)</span>-->
<h3 id="sec71" class="subsection">5.5.2  Le programme <span style="font-weight:bold">Changexy2XY(cM,cI,cU)</span></h3><!--SEC END --><p>
On connait les coordonnées  <span style="font-style:italic">cM</span>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>] d’un point  <span style="font-style:italic">M</span> dans le 
repère  (<span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span>) ainsi que les coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>] et
 <span style="font-style:italic">c</span><sub><span style="font-style:italic">U</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>] de  <span style="font-style:italic">I</span> et de  <span style="font-style:italic">U</span> dans le repère  (<span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span>).<br>
On cherche les coordonnées  <span style="font-style:italic">C</span><sub><span style="font-style:italic">M</span></sub>:=[<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>] de 
 <span style="font-style:italic">M</span> dans le repère  (<span style="font-style:italic">I</span>,<span style="font-style:italic">IX</span>,<span style="font-style:italic">IY</span>).<br>
On a donc :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">OM</span>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">v</span></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">OI</span>+<span style="font-style:italic">IM</span></td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" >(<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">v</span>)+(<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">U</span>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">V</span>) </td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">v</span>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>(<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">v</span>)+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>(<span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub><span style="font-style:italic">u</span>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub><span style="font-style:italic">v</span>)</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" >(<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>)<span style="font-style:italic">u</span>+(<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>)<span style="font-style:italic">v</span>
</td></tr>
</table></td></tr>
</table><p>
Donc :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>,   
<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub></td></tr>
</table><p>
on en déduit <span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>, <span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>= </td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">(<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>−(<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub></td></tr>
</table></td><td class="dcell">,
  
<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>= </td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">(<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>−(<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub></td></tr>
</table></td></tr>
</table><p>
Or  <span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>=−<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub> et  <span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub> donc
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub><sup>2</sup>=1 </td></tr>
</table><p>
Finalement :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>= (<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>+(<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>,   
<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>= (<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>−(<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub></td></tr>
</table><p>
On tape :

</p><pre class="verbatim">fonction Changexy2XY(cM,cI,cU)
local xM,xI,xU,xV,yM,yI,yU,yV,l;
xM:=cM[0];
yM:=cM[1];
xI:=cI[0];
yI:=cI[1];
xU:=cU[0];
yU:=cU[1];
l:=xU^2+yU^2;
si l!=1 alors l:=sqrt(l);xU:=xU/l;yU:=yU/l;fsi;
xV:=-yU;
yV:=xU;
retourne normal([((xM-xI)*xU+(yM-yI)*yU),(-(xM-xI)*yU+(yM-yI)*xU)]);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

<span style="font-weight:bold">Remarque</span> <br>
Dans le programme ci-dessus, on teste si le vecteur <span style="font-family:monospace">U</span> est unitaire, si ce 
n’est pas le cas, on le rend unitaire avec :<br>
<span style="font-family:monospace">l:=xU</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+yU</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2;si l!=1 alors l:=sqrt(l);xU:=xU/l;yU:=yU/l;fsi;</span><br>
On tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cM:=[5/2,9/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cI:=[2,3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cU:=[sqrt(2)/2,sqrt(2)/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cV:=[-sqrt(2)/2,sqrt(2)/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Changexy2XY(cM,cI,cU)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
La figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">O:=point(0);M:=point(cM);I:=point(cI);U:=point(cI+cU);V:=point(cI+cV);vecteur(I,U);vecteur(I,V);vecteur(I,M)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec72" Le programme <span style="font-weight:bold">ChangeXY2xy(CM,cI,cU)</span>-->
<h3 id="sec72" class="subsection">5.5.3  Le programme <span style="font-weight:bold">ChangeXY2xy(CM,cI,cU)</span></h3><!--SEC END --><p><a id="sec:changerep"></a>
Il s’agit du programme inverse du précédent :
on connait les coordonnées <span style="font-style:italic">C</span><sub><span style="font-style:italic">M</span></sub>:=[<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>] d’un point <span style="font-style:italic">M</span> dans le 
repère (<span style="font-style:italic">I</span>,<span style="font-style:italic">IX</span>,<span style="font-style:italic">IY</span>) ainsi que les coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>] et
<span style="font-style:italic">c</span><sub><span style="font-style:italic">U</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>] de <span style="font-style:italic">I</span> et de <span style="font-style:italic">U</span> dans le repère (<span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span>).
On cherche les coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">M</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>] de 
<span style="font-style:italic">M</span> dans le repère (<span style="font-style:italic">O</span>,<span style="font-style:italic">Ox</span>,<span style="font-style:italic">Oy</span>).</p><p>On a vu précédemment que :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>,   
<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub></td></tr>
</table><p>
On tape :

</p><pre class="verbatim">fonction ChangeXY2xy(CM,cI,cU)
 local XM,xI,xU,xV,YM,yI,yU,yV,l;
 XM:=CM[0];
 YM:=CM[1];
 xI:=cI[0];
 yI:=cI[1];
 xU:=cU[0];
 yU:=cU[1];
 l:=xU^2+yU^2;
 si l!=1 alors l:=sqrt(l);xU:=xU/l;yU:=yU/l;fsi;
 xV:=-yU;
 yV:=xU;
 retourne normal([xI+XM*xU+YM*xV,yI+XM*yU+YM*yV]);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

<span style="font-weight:bold">Remarque</span><br>
 Dans le programme ci-dessus, si le vecteur <span style="font-family:monospace">U</span> n’est pas 
unitaire, on le rend unitaire :<br>
<span style="font-family:monospace">l:=xU</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+yU</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2;si l!=1 alors l:=sqrt(l);xU:=xU/l;yU:=yU/l;fsi;</span><br>
On tape :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">CM:=[sqrt(2),sqrt(2)/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cI:=[2,3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cU:=[sqrt(2)/2,sqrt(2)/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cV:=[-sqrt(2)/52,sqrt(2)/2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">ChangeXY2xy(CM,cI,cU)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
La figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">O:=point(0);M:=point(cI+CM[0]*cU+CM[1]*cV);I:=point(cI);U:=point(cI+cU);V:=point(cI+cV);vecteur(I,U);vecteur(I,V);vecteur(I,M)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec73" Exercices-->
<h3 id="sec73" class="subsection">5.5.4  Exercices</h3><!--SEC END --><p>
En se servant des programmes précédents, faire les programmes :
</p><ol class="enumerate" type=1><li class="li-enumerate">
calculant les coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">C</span></sub> du sommet <span style="font-style:italic">C</span> d’un triangle 
équilatéral direct <span style="font-style:italic">ABC</span> connaissant les coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub> de <span style="font-style:italic">A</span> 
et <span style="font-style:italic">c</span><sub><span style="font-style:italic">B</span></sub> de <span style="font-style:italic">B</span>, 
</li><li class="li-enumerate">calculant les coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">C</span></sub> et <span style="font-style:italic">c</span><sub><span style="font-style:italic">D</span></sub> 
des sommets <span style="font-style:italic">C</span> et <span style="font-style:italic">D</span> d’un 
carré direct <span style="font-style:italic">ABCD</span> connaissant les coordonnées 
<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub> de <span style="font-style:italic">A</span> et <span style="font-style:italic">c</span><sub><span style="font-style:italic">B</span></sub> de <span style="font-style:italic">B</span>.
</li></ol><p>
<span style="font-weight:bold">Solution</span><br>
1/
Soit un triangle équilatéral direct <span style="font-style:italic">ABC</span>. Dans le repère 
orthonormé <span style="font-style:italic">Oxy</span>, <span style="font-style:italic">A</span> a pour coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>] et <span style="font-style:italic">B</span> a pour
coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">B</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">B</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">B</span></sub>].<br>
Cherchons les coordonnées  <span style="font-style:italic">C</span><sub><span style="font-style:italic">C</span></sub>=[<span style="font-style:italic">X</span><sub><span style="font-style:italic">C</span></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">C</span></sub>] du point <span style="font-style:italic">C</span> dans le
repère d’origine <span style="font-style:italic">A</span> et d’axe des <span style="font-style:italic">X</span> dirigé selon le vecteur <span style="font-style:italic">AB</span>.
On pose :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">l</span>:=</td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >(<span style="font-style:italic">x</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>)<sup>2</sup>+(<span style="font-style:italic">y</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>)<sup>2</sup></td></tr>
</table></td><td class="dcell"> </td></tr>
</table><p>
On a :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">c</span><sub><span style="font-style:italic">U</span></sub>:=[</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">x</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">l</span></td></tr>
</table></td><td class="dcell">,</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">y</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">l</span></td></tr>
</table></td><td class="dcell">],   
<span style="font-style:italic">C</span><sub><span style="font-style:italic">C</span></sub>:=[</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">l</span></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">2</td></tr>
</table></td><td class="dcell">,</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">l</span></td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >3</td></tr>
</table></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">2</td></tr>
</table></td><td class="dcell">] </td></tr>
</table><p>
Et les coordonnées de <span style="font-style:italic">C</span> dans le repère orthonormé <span style="font-style:italic">Oxy</span> sont :<br>
<span style="font-family:monospace">ChangeXY2xy(CC,cA,cU)</span><br>
On tape :

</p><pre class="verbatim">fonction ChangeXY2xy(CM,cI,cU)
 local XM,xI,xU,xV,YM,yI,yU,yV,l;
 XM:=CM[0];
 YM:=CM[1];
 xI:=cI[0];
 yI:=cI[1];
 xU:=cU[0];
 yU:=cU[1];
 l:=normal(xU^2+yU^2);
 si l!=1 alors 
   l:=sqrt(l);
   xU:=xU/l;
   yU:=yU/l;
 fsi;
 xV:=-yU;
 yV:=xU;
 retourne normal([xI+XM*xU+YM*xV,yI+XM*yU+YM*yV]);
ffonction:;

fonction Coordequi(cA,cB)
 local xA,yA,xB,yB,cU,l,CC;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 l:=sqrt((xB-xA)^2+(yB-yA)^2);
 cU:=[(xB-xA)/l,(yB-yA)/l];
 CC:=[l/2,l*sqrt(3)/2];
 retourne ChangeXY2xy(CC,cA,cU);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cC:=Coordequi(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">A:=point(cA);B:=point(cB);T:=triangle_equilateral(A,B);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">normal(coordonnees(sommets(T)[2]))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
2/ 
Soit un carré direct <span style="font-style:italic">ABCD</span>, avec <span style="font-style:italic">A</span> de coordonnées
<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>] et <span style="font-style:italic">B</span> de coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">B</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">B</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">B</span></sub>]
dans le repère 
orthonormé <span style="font-style:italic">Oxy</span>.<br>
Cherchons les coordonnées <span style="font-style:italic">C</span><sub><span style="font-style:italic">C</span></sub>:=[<span style="font-style:italic">X</span><sub><span style="font-style:italic">C</span></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">C</span></sub>] 
du point <span style="font-style:italic">C</span> et <span style="font-style:italic">C</span><sub><span style="font-style:italic">D</span></sub>:=[<span style="font-style:italic">X</span><sub><span style="font-style:italic">D</span></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">D</span></sub>]
des points <span style="font-style:italic">C</span> et <span style="font-style:italic">D</span> dans le repère d’origine <span style="font-style:italic">A</span> et d’axe des <span style="font-style:italic">X</span> dirigé 
selon le vecteur <span style="font-style:italic">AB</span>. On pose :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">l</span>:=</td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >(<span style="font-style:italic">x</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>)<sup>2</sup>+(<span style="font-style:italic">y</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>)<sup>2</sup></td></tr>
</table></td><td class="dcell"> </td></tr>
</table><p>
On a :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">c</span><sub><span style="font-style:italic">U</span></sub>:=[</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">x</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">l</span></td></tr>
</table></td><td class="dcell">,</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">y</span><sub><span style="font-style:italic">B</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">l</span></td></tr>
</table></td><td class="dcell">],   
<span style="font-style:italic">c</span><sub><span style="font-style:italic">C</span></sub>=[<span style="font-style:italic">l</span>,<span style="font-style:italic">l</span>],    <span style="font-style:italic">c</span><sub><span style="font-style:italic">D</span></sub>=[0,<span style="font-style:italic">l</span>] </td></tr>
</table><p>
Donc les coordonnées de <span style="font-style:italic">C</span> dans le repère orthonormé <span style="font-style:italic">Oxy</span> sont :<br>
<span style="font-family:monospace">ChangeXY2xy(CC,cA,cU)</span><br>
les coordonnées de <span style="font-style:italic">D</span> dans le repère orthonormé <span style="font-style:italic">Oxy</span> sont :<br>
<span style="font-family:monospace">ChangeXY2xy(CD,cA,cU)</span>.

</p><pre class="verbatim">fonction Coordcarre(cA,cB)
 local xA,yA,xB,yB,CC,CD,cU,l;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 l:=sqrt((xB-xA)^2+(yB-yA)^2);
 cU:=[(xB-xA)/l,(yB-yA)/l];
 CC:=[l,l];
 CD:=[0,l];
 retourne ChangeXY2xy(CC,cA,cU),ChangeXY2xy(CD,cA,cU);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cC:=Coordcarre(cA,cB)[0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cD:=Coordcarre(cA,cB)[1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">A:=point(cA);B:=point(cB);K:=carre(A,B)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Vérifions avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">normal(coordonnees(sommets(K)[2],sommets(K)[3]))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC section id="sec74" Cercles, Tangentes à un cercle-->
<h2 id="sec74" class="section">5.6  Cercles, Tangentes à un cercle</h2><!--SEC END -->
<!--TOC subsection id="sec75" Équation d’un cercle défini par son centre et son rayon-->
<h3 id="sec75" class="subsection">5.6.1  Équation d’un cercle défini par son centre et son rayon</h3><!--SEC END --><p>
Le cercle <span style="font-style:italic">C</span> défini par son centre <span style="font-style:italic">A</span> de coordonnées 
[<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>] et de rayon <span style="font-style:italic">r</span> a pour équation :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">(<span style="font-style:italic">x</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>)<sup>2</sup>+(<span style="font-style:italic">y</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>)<sup>2</sup>=<span style="font-style:italic">r</span><sup>2</sup></td></tr>
</table><p> 
ou encore
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>−2<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub><span style="font-style:italic">x</span>−2<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub><span style="font-style:italic">y</span>+<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub><sup>2</sup>−<span style="font-style:italic">r</span><sup>2</sup>=0</td></tr>
</table><p>
On va écrire une procédure Cercle qui renvoie une liste constituée des
coordonnées de son centre, de son rayon et de son équation.<br>
On tape :

</p><pre class="verbatim">fonction Cercle1(cA,r)
 //cercle défini par son centre et son rayon
 local xA,yA;
 xA:=cA[0];
 yA:=cA[1];
 retourne [cA,r,x^2+y^2-2*xA*x-2*yA*y+xA^2+yA^2-r^2=0];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec76" Équation d’un cercle défini par son diamètre-->
<h3 id="sec76" class="subsection">5.6.2  Équation d’un cercle défini par son diamètre</h3><!--SEC END --><p>
Si les points <span style="font-style:italic">A</span> et <span style="font-style:italic">B</span> ont pour coordonnées [<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>] et 
[<span style="font-style:italic">xB</span>,<span style="font-style:italic">yB</span>], le cercle <span style="font-style:italic">C</span> de diamètre <span style="font-style:italic">AB</span> a pour équation :<br>
si <span style="font-family:monospace">M:= Milieu(A,B)</span>, si <span style="font-family:monospace">xM:=M[0]</span>, si <span style="font-family:monospace">yM:=M[1]</span> et si 
<span style="font-family:monospace">r:=Longueur(A,B)/2</span> :<br>
<span style="font-family:monospace">(x-xM)</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+(y-yM)</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2=r</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2</span> ou encore<br>
<span style="font-family:monospace">x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+y</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2-2*xM*x-2*yM*y+xM</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2+yM</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2-r</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2=0</span><br>
On va écrire une procédure Cercle qui renvoie une liste constituée des
coordonnées de son centre, de son rayon et de son équation.<br>
On tape :

</p><pre class="verbatim">fonction Cercle2(cA,cB)
 //cercle d\'efini par son diam\`etre
 local xA,xB,xM,yA,yB,yM,M,r;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 cM:=Milieu(cA,cB):
 xM:=cM[0];
 yM:=cM[1];
 r:=Longueur(cA,cB):
 retourne [cM,r,x^2+y^2-2*xM*x-2*yM*y+xM^2+yM^2-r^2=0];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec77" Équation d’un cercle défini par son centre et son rayon ou par son diamètre-->
<h3 id="sec77" class="subsection">5.6.3  Équation d’un cercle défini par son centre et son rayon ou par son diamètre</h3><!--SEC END --><p>
On peut reunir les 2 programmes en un seul en testant la dimension du 
deuxième paramètre de <span style="font-family:monospace">Cercle</span> qui est soit 
une liste de dimension 2 (cercle défini par son diamètre),
soit un réel (cercle défini par centre et rayon).<br>
On tape :

</p><pre class="verbatim">fonction Cercle(cA,L)
 local cB,xA,xB,xM,yA,yB,yM,cM,r;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   cB:=[xB,yB]
   cM:=Milieu(cA,cB);
   xM:=cM[0];
   yM:=cM[1];
   r:=Longueur(cA,cB)/2;
   retourne  [cM,r,x^2+y^2-2*xM*x-2*yM*y+xM^2+yM^2-r^2=0];
 sinon
   r:=L;
   retourne [cA,r,x^2+y^2-2*xA*x-2*yA*y+xA^2+yA^2-r^2=0];
 fsi;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,2]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cB:=[-1,-3]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">r:=2
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Cercle(cA,cB)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Cercle(cA,r)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">A:=point(cA);B:=point(cB);C1:=cercle(A,B);C2:=cercle(A,r)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">normal(equation(C1));normal(equation(C2))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec78" Centre et rayon d’un cercle donné par son équation-->
<h3 id="sec78" class="subsection">5.6.4  Centre et rayon d’un cercle donné par son équation</h3><!--SEC END --><p>
On utilise ici les commandes <span style="font-family:monospace">Xcas</span>
<span style="font-family:monospace">gauche, droit ,coeff, subst</span><br>
On tape :

</p><pre class="verbatim">fonction Centrerayon(Eq)
 local k,a,b,c;
 Eq:=gauche(Eq)-droit(Eq);
 k:=coeff(Eq,x,2);
 si k!=coeff(Eq,y,2) alors retourne "ce n'est pas un cercle";fsi;
 Eq:=Eq/k;
 a:=-coeff(Eq,x,1)/2;
 b:=-coeff(Eq,y,1)/2;
 c:=subst(Eq,[x,y],[0,0]);
 retourne [a,b], normal(sqrt(a^2+b^2-c));
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Centrerayon(2x^2+2y^2-4x+2y=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">coordonnees(centre(2x^2+2y^2-4x+2y=0)),rayon(2x^2+2y^2-4x+2y=0)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec79" Construire la tangente à un cercle en l’un de ses points-->
<h3 id="sec79" class="subsection">5.6.5  Construire la tangente à un cercle en l’un de ses points</h3><!--SEC END --><p>
Soit  <span style="font-style:italic">C</span> un cercle de centre  <span style="font-style:italic">I</span> de coordonnées 
 <span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>] et de rayon  <span style="font-style:italic">r</span>.<br>
Soit  <span style="font-style:italic">A</span> un point de  <span style="font-style:italic">C</span> de coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>].
la tangente au cercle  <span style="font-style:italic">C</span> en  <span style="font-style:italic">A</span> est perpendiculaire à  <span style="font-style:italic">IA</span>, donc
a pour pente  <span style="font-style:italic">m</span>=−(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)/(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)<br>
L’équation de cette tangente est donc : <span style="font-family:monospace">Droite(cA,m)</span>.<br>
On tape :

</p><pre class="verbatim">fonction Droite(cA,L=0)
 local xA,xB,yA,yB,m;
 si type(cA)==expression alors retourne cA;fsi;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   retourne normal((xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB)=0;
 sinon
   m:=L;
   retourne y-m*(x-xA)-yA=0;
 fsi;
ffonction:;
fonction Cercle(cA,L)
 local cB,xA,xB,xM,yA,yB,yM,cM,r;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   cB:=[xB,yB]
   cM:=Milieu(cA,cB);
   xM:=cM[0];
   yM:=cM[1];
   r:=Longueur(cA,cB)/2;
   retourne  [cM,r,x^2+y^2-2*xM*x-2*yM*y+xM^2+yM^2-r^2=0];
 sinon
   r:=L;
   retourne [cA,r,x^2+y^2-2*xA*x-2*yA*y+xA^2+yA^2-r^2=0];
 fsi;
ffonction:;
fonction Longueur(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne simplify(sqrt((xA-xB)^2+(yA-yB)^2));
ffonction:;
fonction Tangent1(C,cA)
 local I,r,m,xI,yI,xA,yA,cI;
 cI:=C[0];
 r:=C[1];
 si Longueur(cA,cI)!=r alors retourne "A n'est pas sur C"; fsi;
 xI:=cI[0];
 yI:=cI[1];
 xA:=cA[0];
 yA:=cA[1];
 si yA!=yI alors 
   m:=-(xA-xI)/(yA-yI);
   retourne Droite(cA,m);
 fsi
 retourne x=xA; 
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cI:=[0,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[1,0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">r:=sqrt(2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">C:=Cercle(cI,r)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">T1:=Tangent1(C,cA);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">I:=point(cI);c:=cercle(I,r);A:=point(cA);droite(T1);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">t:=tangent(c,A):;equation(t)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC subsection id="sec80" Construire les tangentes à un cercle passant par un point-->
<h3 id="sec80" class="subsection">5.6.6  Construire les tangentes à un cercle passant par un point</h3><!--SEC END --><p>
Soit  <span style="font-style:italic">C</span> un cercle de centre  <span style="font-style:italic">I</span> de coordonnées 
 <span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>] et de rayon  <span style="font-style:italic">r</span>.<br>
Soit  <span style="font-style:italic">A</span> un point du plan de coordonnées  <span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>:=[<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>].<br>
Si  <span style="font-style:italic">A</span> est à l’intérieur de  <span style="font-style:italic">C</span> il n’y a pas de tangente à  <span style="font-style:italic">C</span>
passant par  <span style="font-style:italic">A</span>.</p>
<!--TOC subsubsection id="sec81" Le cas simple-->
<h4 id="sec81" class="subsubsection">Le cas simple</h4><!--SEC END --><p>
On suppose qu’on a choisi comme repère, le repère <span style="font-style:italic">IXY</span>
d’origine le centre  <span style="font-style:italic">I</span> du cercle <span style="font-style:italic">C</span> et
tel que <span style="font-style:italic">A</span> est sur l’axe des <span style="font-style:italic">X</span> (i.e. de coordonnées [<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>,0]) et 
à l’extérieur de <span style="font-style:italic">C</span>.<br>
On peut mener par <span style="font-style:italic">A</span>, 2 tangentes  <span style="font-style:italic">T</span><sub>1</sub> et  <span style="font-style:italic">T</span><sub>2</sub> à  <span style="font-style:italic">C</span>.<br>
Soient  <span style="font-style:italic">M</span><sub>1</sub> et  <span style="font-style:italic">M</span><sub>2</sub> les 2 points de tangeance de  <span style="font-style:italic">T</span><sub>1</sub> et  <span style="font-style:italic">T</span><sub>2</sub>.<br>
Les triangles  <span style="font-style:italic">IAM</span><sub>1</sub> (resp  <span style="font-style:italic">IAM</span><sub>2</sub>) sont rectangles en  <span style="font-style:italic">M</span><sub>1</sub> 
(resp  <span style="font-style:italic">M</span><sub>2</sub>) et  <span style="font-style:italic">M</span><sub>1</sub><span style="font-style:italic">M</span><sub>2</sub> est perpendiculaire à  <span style="font-style:italic">AI</span>.<br>
Soit  <span style="font-style:italic">H</span> l’intersection de  <span style="font-style:italic">M</span><sub>1</sub><span style="font-style:italic">M</span><sub>2</sub> avec  <span style="font-style:italic">AI</span>.<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">I:=point(0);C:=cercle(I,1);A:=point(2,0);T:=tangent(C,A);M1:=inter_unique(C,T[0]);M2:=inter_unique(C,T[1]);droite(M1,M2);M12:=droite(M1,M2):;H:=inter_unique(M12,droite(A,I))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On a :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">r</span><sup>2</sup>=<span style="font-style:italic">IM</span><sub>1</sub><sup>2</sup>=<span style="font-style:italic">IM</span><sub>2</sub><sup>2</sup>=<span style="font-style:italic">IA</span> × <span style="font-style:italic">IH</span></td></tr>
</table><p>
Donc dans le repère <span style="font-style:italic">IXY</span>, 
<span style="font-style:italic">A</span> a pour abscisse <span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>=Longueur(cI,cA) et pour ordonnée 0.<br>
<span style="font-style:italic">H</span> a pour abscisse <span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub> et pour ordonnée 0.<br>
 <span style="font-style:italic">M</span><sub>1</sub> et  <span style="font-style:italic">M</span><sub>2</sub> ont la même abscisse :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>=<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>=</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">r</span><sup>2</sup></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td></tr>
</table><p>
 <span style="font-style:italic">M</span><sub>1</sub> et  <span style="font-style:italic">M</span><sub>2</sub> ont des ordonnées opposées :<br>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>&gt;0,   <span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub><sup>2</sup>=<span style="font-style:italic">r</span><sup>2</sup>−</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">r</span><sup>4</sup></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub><sup>2</sup></td></tr>
</table></td><td class="dcell">=<span style="font-style:italic">r</span><sup>2</sup>(1−</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">r</span><sup>2</sup></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub><sup>2</sup></td></tr>
</table></td><td class="dcell">),    <span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>=−<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub></td></tr>
</table><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>=<span style="font-style:italic">r</span></td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" ><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub><sup>2</sup>−<span style="font-style:italic">r</span><sup>2</sup></td></tr>
</table></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td><td class="dcell">,    <span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>=−<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub> </td></tr>
</table><p>
Les tangentes sont donc :
</p><div class="center">
 Droite([<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>,0], [<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>]) et  Droite([<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>,0], [<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>,<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>])
</div><p>
Si  <span style="font-style:italic">A</span> est sur  <span style="font-style:italic">C</span> (i.e.  <span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>==<span style="font-style:italic">r</span>) alors on peut mener par  <span style="font-style:italic">A</span> ,
une tangente  <span style="font-style:italic">T</span><sub>1</sub> à  <span style="font-style:italic">C</span> qui est  Droite(<span style="font-style:italic">x</span>=<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>).</p>
<!--TOC subsubsection id="sec82" Le cas général-->
<h4 id="sec82" class="subsubsection">Le cas général</h4><!--SEC END --><p>
On se ramène au cas précédent par changement de repère.<br>
Soit <span style="font-style:italic">Oxy</span> le repère.
Dans le repère <span style="font-style:italic">Oxy</span>, <span style="font-style:italic">I</span> (resp <span style="font-style:italic">A</span>) a pour coordonnées <span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub> (resp <span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>).<br>
On fait un changement de repère en prenant le centre <span style="font-style:italic">I</span> du cercle
comme origine et  <span style="font-style:italic">IA</span> comme axe des  <span style="font-style:italic">X</span>.<br>
On note  <span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub> et  <span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub> les coordonnées d’un point  <span style="font-style:italic">M</span> ou d’un 
vecteur  <span style="font-style:italic">M</span> dans le nouveau repère <span style="font-style:italic">IXY</span> et 
 <span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub> et  <span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub> les coordonnées de <span style="font-style:italic">M</span> dans le repère <span style="font-style:italic">Oxy</span>.<br>
Dans le repère <span style="font-style:italic">IXY</span>, <span style="font-style:italic">A</span> a pour abscisse <span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>=Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>) et 
pour ordonnée 0.<br>
<span style="font-style:italic">H</span> a pour abscisse <span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub> et pour ordonnée 0.<br>
Si  <span style="font-style:italic">U</span> est le vecteur unitaire de  <span style="font-style:italic">IX</span> on a :<br>
 <span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>:=(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)/<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub> et  <span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>:=(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)/<span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub> avec  <span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub>:=Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>).<br>
On a vu que (cf <a href="#sec%3Achangerep">5.5.3</a>) :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>,     <span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub> </td></tr>
</table><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">V</span></sub>:=−<span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>,    <span style="font-style:italic">y</span><sub><span style="font-style:italic">V</span></sub>:= <span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub></td></tr>
</table><p>
Donc :<br>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub>−<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>,    <span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub>+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub><span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub></td></tr>
</table><p>
En remplaçant  <span style="font-style:italic">x</span><sub><span style="font-style:italic">U</span></sub> et  <span style="font-style:italic">y</span><sub><span style="font-style:italic">U</span></sub> par leur valeur, on a :<br>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)−<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td><td class="dcell">
  
<span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span></sub>=<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span></sub>(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)+<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span></sub>(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td></tr>
</table><p>
Dans le repère <span style="font-style:italic">IXY</span> les coordonnées de  <span style="font-style:italic">M</span><sub>1</sub> et  <span style="font-style:italic">M</span><sub>2</sub> sont :<br>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>=<span style="font-style:italic">X</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>=<span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub>=<span style="font-style:italic">r</span></td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" ><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub><sup>2</sup>−<span style="font-style:italic">r</span><sup>2</sup></td></tr>
</table></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">X</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td><td class="dcell">,    <span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub>=−<span style="font-style:italic">Y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub> </td></tr>
</table><p>
Donc :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" > <span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)−<span style="font-style:italic">r</span></td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >1−<span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td><td class="dcell">(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td><td class="dcell"> </td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span><sub>1</sub></sub></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)+<span style="font-style:italic">r</span></td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >1−<span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td><td class="dcell">(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td><td class="dcell">, </td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">x</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)+<span style="font-style:italic">r</span></td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >1−<span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td><td class="dcell">(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td><td class="dcell">,</td></tr>
</table></td></tr>
<tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">y</span><sub><span style="font-style:italic">M</span><sub>2</sub></sub></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>(<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)−<span style="font-style:italic">r</span></td><td class="dcell"><span style="font-size:x-large">√</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >1−<span style="font-style:italic">r</span><sup>2</sup>/<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub></td></tr>
</table></td><td class="dcell">(<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">Longueur(<span style="font-style:italic">c</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">c</span><sub><span style="font-style:italic">I</span></sub>)</td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table><p>
On écrit la fonction <span style="font-family:monospace">Tangent(C,cA)</span> qui renvoie une liste 
(éventuellement vide) contenant la ou les équations des tangentes au cercle 
<span style="font-family:monospace">C</span> passant par le point <span style="font-style:italic">A</span> de coordonnées <span style="font-family:monospace">cA</span>, en utilisant 
<span style="font-family:monospace">Milieu</span>, <span style="font-family:monospace">Longueur</span>, <span style="font-family:monospace">Droite</span> et <span style="font-family:monospace">Cercle</span>.<br>
On tape :

</p><pre class="verbatim">fonction Milieu(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne [(xA+xB)/2,(yA+yB)/2];
ffonction:;
fonction Longueur(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne simplify(sqrt((xA-xB)^2+(yA-yB)^2));
ffonction:;
fonction Droite(cA,L=0)
 local xA,xB,yA,yB,m;
 si type(cA)==expression alors retourne cA;fsi;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   retourne normal((xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB)=0;
 sinon
   m:=L;
   retourne y-m*(x-xA)-yA=0;
 fsi;
ffonction:;
fonction Cercle(cA,L)
 local cB,xA,xB,xM,yA,yB,yM,cM,r;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   cB:=[xB,yB]
   cM:=Milieu(cA,cB);
   xM:=cM[0];
   yM:=cM[1];
   r:=Longueur(cA,cB)/2;
   retourne  [cM,r,x^2+y^2-2*xM*x-2*yM*y+xM^2+yM^2-r^2=0];
 sinon
   r:=L;
   retourne [cA,r,x^2+y^2-2*xA*x-2*yA*y+xA^2+yA^2-r^2=0];
 fsi;
ffonction:;

fonction Tangent(C,cA)
 local cI,r,xI,yI,xA,yA,XM1,YM1,xM1,yM1,XM2,YM2,xM2,yM2,l;
 cI:=C[0];
 xI:=cI[0];
 yI:=cI[1];
 r:=C[1];
 l:=Longueur(cA,cI);
 xA:=cA[0];
 yA:=cA[1];
 si l &lt; r alors 
   print("A n'est pas a l'exterieur de C");
   retourne [];
 fsi;
 si l==r et yA==yI alors 
   retourne [x-xA=0]; 
 fsi;
 si l==r et (yA-yI)!=0 alors 
   retourne [normal(Droite([xA,yA],-(xA-xI)/(yA-yI)))];
 fsi;
 XM1:=r^2/l;
 YM1:=r*sqrt(1-r^2/l^2);
 xM1:=normal(xI+(XM1*(xA-xI)-YM1*(yA-yI))/l);
 yM1:=normal(yI+(XM1*(yA-yI)+YM1*(xA-xI))/l);
 XM2:=r^2/l;
 YM2:=-r*sqrt(1-r^2/l^2);
 xM2:=normal(xI+(XM2*(xA-xI)-YM2*(yA-yI))/l);
 yM2:=normal(yI+(XM2*(yA-yI)+YM2*(xA-xI))/l);
 retourne [Droite([xM1,yM1],[xA,yA]),Droite([xM2,yM2],[xA,yA])];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cI:=[0,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[2,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">r:=sqrt(2);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">C1:=Cercle(cI,r)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">T1:=Tangent(C1,cA)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">I:=point(cI);A:=point(cA);c1:=cercle(I,r);droite(T1[0]);droite(T1[1])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">C2:=Cercle([1,2],2);T2:=Tangent(C2,[1+sqrt(2),2+sqrt(2)])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">J:=point(1,2);B:=point(1+sqrt(2),2+sqrt(2));c2:=cercle(J,2);droite(T2[0]);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(tangent(c1,A))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">equation(tangent(c2,B))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

On peut utiliser non seulement <span style="font-family:monospace">Milieu</span>, <span style="font-family:monospace">Longueur</span>, <span style="font-family:monospace">Droite</span> et 
<span style="font-family:monospace">Cercle</span> mais aussi le programme de changement de repère
écrit précedemment <span style="font-family:monospace">ChangeXY2xy</span>, que l’on rappelle ici :

</p><pre class="verbatim">fonction ChangeXY2xy(CM,cI,cU)
 local XM,xI,xU,xV,YM,yI,yU,yV,l;
 XM:=CM[0];
 YM:=CM[1];
 xI:=cI[0];
 yI:=cI[1];
 xU:=cU[0];
 yU:=cU[1];
 l:=xU^2+yU^2;
 si l!=1 alors l:=sqrt(l);xU:=xU/l;yU:=yU/l;fsi;
 xV:=-yU;
 yV:=xU;
 retourne normal([xI+XM*xU+YM*xV,yI+XM*yU+YM*yV]);
ffonction:;
fonction Tangentes(C,cA)
 local cI,r,xI,yI,xA,yA,XA,CM1,CM2,cM1,cM2,cU;
 cI,r:=C; 
 xI,yI:=cI;
 xA,yA:=cA;
 XA:=Longueur(cA,cI);
 cU:=[xA-xI,yA-yI]/XA;
 si XA &gt;r alors
   CM1:=[r^2/XA,r*sqrt(1-r^2/XA^2)];
   CM2:=[r^2/XA,-r*sqrt(1-r^2/XA^2)];
   cM1:=ChangeXY2xy(CM1,cI,cU);
   cM2:=ChangeXY2xy(CM2,cI,cU);
   retourne [Droite(cM1,[xA,yA]),Droite(cM2,[xA,yA])];
 fsi;
 si XA==r alors 
   CM1:=[r,1];
   cM1:=ChangeXY2xy(CM1,cI,cU);
   retourne [Droite(cM1,[xA,yA])];
 fsi
 retourne [];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cI:=[0,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[2,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">r:=sqrt(2);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">C:=Cercle(cI,r)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Tangentes(C,cA)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Tangentes(Cercle([1,2],1),[1,3])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On vérfie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">equation(tangent(cercle(point(cI),r),point(cA)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">equation(tangent(cercle(point([1,2]),1),point([1,3])))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC subsection id="sec83" Solution analytique des tangentes à un cercle-->
<h3 id="sec83" class="subsection">5.6.7  Solution analytique des tangentes à un cercle</h3><!--SEC END --><p>
On peut aussi faire une résolution analytique pour construire la (ou les) 
tangente(s) à un cercle <span style="font-style:italic">C</span> passant par un point <span style="font-style:italic">A</span>.<br>
On pourra se servir des programmes écrits précédement :
<span style="font-family:monospace">Longueur</span>, <span style="font-family:monospace">Droite</span>, <span style="font-family:monospace">Cercle</span>, <span style="font-family:monospace">Solution12</span>.</p><p>On considère un repère orthonormé dans lequel le centre <span style="font-style:italic">I</span> du cercle 
<span style="font-style:italic">C</span> de rayon <span style="font-style:italic">r</span> a pour coordonnées [<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>].<br>
 <span style="font-style:italic">C</span> a pour équation (<span style="font-style:italic">x</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub>)<sup>2</sup>+(<span style="font-style:italic">y</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub>)<sup>2</sup>=<span style="font-style:italic">r</span><sup>2</sup> soit
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>−2<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">x</span>−2<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub><span style="font-style:italic">y</span>+<span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub><sup>2</sup>−<span style="font-style:italic">r</span><sup>2</sup>=0</td></tr>
</table><p>
Soit  <span style="font-style:italic">A</span> un point de coordonnées  [<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>].<br>
Si  <span style="font-style:italic">A</span> se trouve à l’extérieur du cercle  <span style="font-style:italic">C</span>, on peut mener par 
 <span style="font-style:italic">A</span>, deux tangentes. Les points de contact  <span style="font-style:italic">M</span><sub>1</sub> et  <span style="font-style:italic">M</span><sub>2</sub> de ces 
tangentes avec  <span style="font-style:italic">C</span> sont aussi les points d’intersection de  <span style="font-style:italic">C</span> et du 
cercle de diamètre  <span style="font-style:italic">IA</span>.<br>
Le cercle de diamètre  <span style="font-style:italic">IA</span> a pour centre  <span style="font-style:italic">K</span> et rayon <span style="font-style:italic">R</span>
où <span style="font-style:italic">K</span> est le milieu de  <span style="font-style:italic">IA</span>
de coordonnées  [<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub>,<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub>]=<span style="font-style:italic">c</span><sub><span style="font-style:italic">K</span></sub>=Milieu(<span style="font-style:italic">cI</span>,<span style="font-style:italic">cA</span>) et
 <span style="font-style:italic">R</span>=Longueur(<span style="font-style:italic">cI</span>,<span style="font-style:italic">cA</span>)/2.
Ce cercle a donc comme équation (<span style="font-style:italic">x</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub>)<sup>+</sup>(<span style="font-style:italic">y</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub>)<sup>2</sup>=<span style="font-style:italic">R</span><sup>2</sup> i.e.<br>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>−2<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub><span style="font-style:italic">x</span>−2<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub><span style="font-style:italic">y</span>+<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub><sup>2</sup>−<span style="font-style:italic">R</span><sup>2</sup>=0</td></tr>
</table><p>
Il faut donc résoudre le système d’inconnues <span style="font-style:italic">x</span>,<span style="font-style:italic">y</span>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>−2<span style="font-style:italic">xIx</span>−2<span style="font-style:italic">yIy</span>+<span style="font-style:italic">xI</span><sup>2</sup>+<span style="font-style:italic">yI</span><sup>2</sup>−<span style="font-style:italic">r</span><sup>2</sup></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>−2<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub><span style="font-style:italic">x</span>−2<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub><span style="font-style:italic">y</span>+<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub><sup>2</sup>−<span style="font-style:italic">R</span><sup>2</sup></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" >0
</td></tr>
</table></td></tr>
</table><p>
qui est équivalent à :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" ><span style="font-style:italic">x</span><sup>2</sup>+<span style="font-style:italic">y</span><sup>2</sup>−2<span style="font-style:italic">xIx</span>−2<span style="font-style:italic">yIy</span>+<span style="font-style:italic">xI</span><sup>2</sup>+<span style="font-style:italic">yI</span><sup>2</sup>−<span style="font-style:italic">r</span><sup>2</sup></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" >0 </td></tr>
<tr><td style="text-align:right;white-space:nowrap" >2(<span style="font-style:italic">xI</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub>)<span style="font-style:italic">x</span>+2(<span style="font-style:italic">yI</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub>)<span style="font-style:italic">y</span>+<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub><sup>2</sup>+<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub><sup>2</sup>+<span style="font-style:italic">r</span><sup>2</sup>−<span style="font-style:italic">xI</span><sup>2</sup>−<span style="font-style:italic">yI</span><sup>2</sup>−<span style="font-style:italic">R</span><sup>2</sup></td><td style="text-align:center;white-space:nowrap" >=</td><td style="text-align:left;white-space:nowrap" >0
</td></tr>
</table></td></tr>
</table><p>
On a 2(<span style="font-style:italic">xI</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub>)=(<span style="font-style:italic">xI</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>) et 2(<span style="font-style:italic">yI</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub>)=(<span style="font-style:italic">yI</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub>)<br>
Or  <span style="font-style:italic">A</span>≠ <span style="font-style:italic">I</span> donc <span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>≠ <span style="font-style:italic">x</span><sub><span style="font-style:italic">I</span></sub> ≠ <span style="font-style:italic">x</span><sub><span style="font-style:italic">K</span></sub> ou <span style="font-style:italic">y</span><sub><span style="font-style:italic">A</span></sub> ≠ <span style="font-style:italic">y</span><sub><span style="font-style:italic">I</span></sub> ≠ <span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub>.
Si (<span style="font-style:italic">yI</span>−<span style="font-style:italic">y</span><sub><span style="font-style:italic">K</span></sub>) ≠ 0 (resp (<span style="font-style:italic">xI</span>−<span style="font-style:italic">x</span><sub><span style="font-style:italic">A</span></sub>) ≠ ) alors on connait <span style="font-style:italic">y</span> 
(resp <span style="font-style:italic">x</span>) en fonction 
de <span style="font-style:italic">x</span> (resp <span style="font-style:italic">y</span>) et il faut résoudre une équation 
de degré 2 en <span style="font-style:italic">x</span> (res <span style="font-style:italic">y</span>).<br>
Si  <span style="font-style:italic">A</span> est sur le cercle  <span style="font-style:italic">C</span>, on peut mener par 
 <span style="font-style:italic">A</span>, une tangente 
(c’est une droite passant par  <span style="font-style:italic">A</span> et qui est perpendiculaire à  <span style="font-style:italic">IA</span>. <br>
Si  <span style="font-style:italic">A</span> est à l’intérieur du cercle  <span style="font-style:italic">C</span>, il n’y a pas de 
tangente passant par  <span style="font-style:italic">A</span>.<br>
On tape :

</p><pre class="verbatim">fonction Milieu(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne [(xA+xB)/2,(yA+yB)/2];
ffonction:;

fonction Longueur(cA,cB)
 local xA,xB,yA,yB;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 retourne simplify(sqrt((xA-xB)^2+(yA-yB)^2));
ffonction:;

fonction Droite(cA,L=0)
local xA,xB,yA,yB,m;
 si type(cA)==expression alors retourne cA;fsi;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   retourne normal((xA-xB)*y-(yA-yB)*x-yB*xA+yA*xB)=0;
 sinon
   m:=L;
   retourne y-m*(x-xA)-yA=0;
 fsi;
ffonction:;

fonction Cercle(cA,L)
 local cB,xA,xB,xM,yA,yB,yM,cM,r;
 xA:=cA[0];
 yA:=cA[1];
 si type(L)==vector alors 
   xB:=L[0];
   yB:=L[1];
   cB:=[xB,yB]
   cM:=Milieu(cA,cB);
   xM:=cM[0];
   yM:=cM[1];
   r:=Longueur(cA,cB)/2;
   retourne  [cM,r,x^2+y^2-2*xM*x-2*yM*y+xM^2+yM^2-r^2=0];
 sinon
   r:=L;
   retourne [cA,r,x^2+y^2-2*xA*x-2*yA*y+xA^2+yA^2-r^2=0];
 fsi;
ffonction:;

fonction Solution12(Eq,Var)
 local a,b,c,d;
 Eq:=normal(gauche(Eq)-droit(Eq));
 si degree(Eq,Var)==0 alors 
   si (Eq==0) alors retourne "infinité de solution" 
   sinon retourne "pas de solution" 
   fsi;
 fsi; 
 si degree(Eq,Var)==1 alors 
   b:=subst(Eq,Var=0);a:=subst(Eq,Var=1)-b;
   retourne normal([-b/a]);
 fsi;
 si degree(Eq,Var)==2 alors 
   c:=subst(Eq,Var=0);
   d:=subst(Eq,Var=1);
   b:=(d-subst(Eq,Var=-1))/2;
   a:=d-b-c;
   d:=b^2-4*a*c;
   si d &gt;0 alors retourne [(-b+sqrt(d))/(2*a),(-b-sqrt(d))/(2*a)];fsi;
   si d==0 alors retourne [-b/(2*a)]; fsi;
   retourne [];
 fsi;
 retourne "degree &gt;2";
ffonction:;

fonction Tangenteq(C,cA)
 local cI,r,l,xI,yI,xA,yA,xK,yK,Eq,xM,yM,xM1,yM1,xM2,yM2,R,m;
 cI:=C[0];
 xI:=cI[0];
 yI:=cI[1];
 r:=C[1];
 l:=Longueur(cA,cI);
 xA:=cA[0];
 yA:=cA[1];
 R:=l/2;
 si l &gt;r alors
  xK:=(xI+xA)/2;
  yK:=(yI+yA)/2;
  si (yI-yA)!=0 alors 
    yM:=(xK^2+yK^2+r^2-xI^2-yI^2-R^2+2*(xI-xK)*x)/(yA-yI);
    Eq:=x^2+yM^2-2xI*x-2yI*yM+xI^2+yI^2-r^2=0;
    [xM1,xM2]:=Solution12(Eq,x);
    yM1:=subst(yM,x=xM1);
    yM2:=subst(yM,x=xM2);
  sinon
    xM:=(xK^2+yK^2+r^2-xI^2-yI^2-R^2+2*(yI-yK)*y)/(xA-xI);
    Eq:=xM^2+y^2-2xI*xM-2yI*y+xI^2+yI^2-r^2=0;
    [yM1,yM2]:=Solution12(Eq,y)
    xM1:=subst(xM,y=yM1);
    xM2:=subst(xM,y=yM2);
  fsi;
 retourne [Droite(cA,[xM1,yM1]),Droite(cA,[xM2,yM2])];
 fsi;
 si l==r alors
   si (yI-yA)!=0 alors
     m:=normal(-(xA-xI)/(yA-yI));
     retourne [Droite([xA,yA],m)];
   sinon
     retourne [Droite([xA,yA],[xA,yA+1])];
   fsi;
 fsi;
 retourne [];
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cI:=[0,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">cA:=[2,1]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">r:=sqrt(2);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">C:=Cercle(cI,r)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
 <br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Tangenteq(C,cA)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Tangenteq(Cercle([1,2],1),[1,3])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">equation(tangent(cercle(point([0,1]),r),point(cA)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">equation(tangent(cercle(point([1,2]),1),point([1,3])))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC chapter id="sec84" Quelques tests géométriques-->
<h1 id="sec84" class="chapter">Chapitre 6  Quelques tests géométriques</h1><!--SEC END -->
<!--TOC section id="sec85" Test d’alignement de 3 points-->
<h2 id="sec85" class="section">6.1  Test d’alignement de 3 points</h2><!--SEC END --><p>
Établir que trois points sont alignés ou non alignés.<br>
Si les 3 points sont confondus <span style="font-family:monospace">Estaligne(A,B,C)</span> renvoie 2 <br>
Si les 3 points sont alignés <span style="font-family:monospace">Estaligne(A,B,C)</span> renvoie 1<br>
Si les 3 points ne sont pas alignés <span style="font-family:monospace">Estaligne(A,B,C)</span> renvoie 0<br>
On tape :

</p><pre class="verbatim">fonction Estaligne(cA,cB,cC)
 local xA,yA,xB,yB,xC,yC;
 si cA==cB et cA==cC alors retourne 2; fsi;
 si cA==cB ou cA==cC alors retourne 1; fsi;
 xA:=cA[0];
 yA:=cA[1];
 xB:=cB[0];
 yB:=cB[1];
 xC:=cC[0];
 yC:=cC[1];
 si normal((xB-xA)*(yC-yA)-(xC-xA)*(yB-yA))==0 alors 
   retourne 1;
 fsi; 
 retourne 0;

ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Estaligne([1,2],[1,2],[1,2])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Estaligne([1,2],[3,6],[1,2])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Estaligne([1,2],[3,6],[-1,-2])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Estaligne([1,2],[1,6],[-1,-2])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">A:=point(1,2);B:=point(3,1);C:=point(3,6);D:=point(-1,-2);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">est_aligne([1,2],[3,6],[-1,-2])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">est_aligne([1,2],[3,1],[-1,-2])
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec86" Test de parallélisme de 2 droites-->
<h2 id="sec86" class="section">6.2  Test de parallélisme de 2 droites</h2><!--SEC END --><p>
Soient deux droites <span style="font-style:italic">D</span><sub>1</sub> et <span style="font-style:italic">D</span><sub>2</sub> d’équation :<br>
<span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>1</sub><span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>1</sub>=0 et <span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">x</span>+<span style="font-style:italic">b</span><sub>2</sub><span style="font-style:italic">y</span>+<span style="font-style:italic">c</span><sub>2</sub>=0<br>
Ces 2 droites sont parallèles si <span style="font-style:italic">a</span><sub>1</sub><span style="font-style:italic">b</span><sub>2</sub>=<span style="font-style:italic">a</span><sub>2</sub><span style="font-style:italic">b</span><sub>1</sub>.<br>
On rappelle la fonction <span style="font-family:monospace">Coeffdroite</span> qui calcule les
coefficients <span style="font-family:monospace">a</span>, <span style="font-family:monospace">b</span> et <span style="font-family:monospace">c</span> de
l’équation d’une droite <span style="font-family:monospace">ax+by+c=0</span> :

</p><pre class="verbatim">fonction Coeffdroite(Eq)
 local a,b,c;
 Eq:=gauche(Eq)-droit(Eq);
 a:=coeff(Eq,x,1);
 b:=coeff(Eq,y,1);
 c:=subst(Eq,[x,y],[0,0]);
 retourne a,b,c;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On tape :

</p><pre class="verbatim">fonction Estparallele(d1,d2)
 local a1,a2,b1,b2,d,c1,c2;
 a1,b1,c1:=Coeffdroite(d1);
 a2,b2,c2:=Coeffdroite(d2);
 d:=normal(a2*b1-b2*a1);
 si d==0 alors retourne 1; fsi;
 retourne 0;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">D1:=Droite(2*x-3*y=1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">D2:=Droite(-4*x+6*y=23)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Estparallele(D1,D2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">D3:=Droite(-5*x+15*y=16)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Estparallele(D1,D3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On fait la figure avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">d1:=droite(2*x-3*y=1);d2:=droite(-4*x+6*y=23);d3:=droite(-5*x+15*y=16)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">est_parallele(d1,d2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">est_parallele(d1,d3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p>
<!--TOC section id="sec87" Caractériser alignement et parallélisme par la colinéarité-->
<h2 id="sec87" class="section">6.3  Caractériser alignement et parallélisme par la colinéarité</h2><!--SEC END --><p> 
Trois points <span style="font-style:italic">A</span>,  <span style="font-style:italic">B</span> et  <span style="font-style:italic">C</span> sont alignés si les vecteurs 
 <span style="font-style:italic">AB</span> et  <span style="font-style:italic">AC</span> sont colinéaires.<br>
Deux droites  <span style="font-style:italic">AB</span> et  <span style="font-style:italic">CD</span> sont parallèles si les vecteurs  <span style="font-style:italic">AB</span> et 
 <span style="font-style:italic">CD</span> sont colinéaires.
</p>
<!--TOC chapter id="sec88" Statistiques-->
<h1 id="sec88" class="chapter">Chapitre 7  Statistiques</h1><!--SEC END -->
<!--TOC section id="sec89" Calcul de moyenne et écart-type-->
<h2 id="sec89" class="section">7.1  Calcul de moyenne et écart-type</h2><!--SEC END --><p>
<span style="font-weight:bold">Exercice :</span> Écrire une fonction prenant en argument la liste des 
données et renvoyant sa moyenne et son écart-type, au
moyen d’une boucle <code>pour</code> (sans utiliser <code>mean</code> ou <code>stddev</code> qui 
sont les commandes <span style="font-family:monospace">Xcas</span> pour moyenne et écart-type).

</p><pre class="verbatim">fonction Stats(L)
  local j,Lj,n,s,s2;
  n:=dim(l);
  s:=0; s2:=0;
  pour j de 0 jusque n-1 faire
    Lj := L[j];
    s := s+Lj 
    s2 := s2+Lj^2;
  fpour
  retourne s/n,sqrt(s2/n-(s/n)^2);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=[7,9,11,10,7,14,11];
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Stats(L); mean(L); stddev(L);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p><span style="font-weight:bold">Exercice :</span> Écrire une fonction prenant en argument la liste des 
données et renvoyant sa médiane.<br>
<span style="font-weight:bold">Indication :</span> Pour déterminer une médiane, il faut au préalable 
trier les données, ce qui est la partie difficile de l’algorithme, le reste
de l’algorithme est simple. Au niveau du lycée on peut
utiliser la commande <span style="font-family:monospace">Xcas</span> <code>sort</code> qui trie une liste par ordre 
croissant, puis on renvoie l’élément d’indice la taille de la liste/2.

</p><pre class="verbatim">fonction Median(L)
  local n;
  n:=dim(L);
  L:=sort(L);
  si irem(n,2)==1 alors 
    retourne L[(n-1)/2];
  sinon
    retourne (L[n/2-1]+ L[n/2])/2.;
  fsi;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[148,143,142,146,144,146,142,147,140];
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Median(L1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L2:=[143,142,146,144,146,142,147,140];
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Median(L2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">median(L1)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
<span style="font-weight:bold">Exercice :</span> Écrire une fonction qui calcule la moyenne et l’écart-type 
et qui a comme argument soit la liste alternant valeur et effectif soit 
2 listes.

</p><pre class="verbatim">fonction Statexo1(L)
  local j,lj,n,n1,s,s2,vj,ej;
  n:=dim(L);
  si type(n)!=vector alors retourne "erreur"; fsi;
  s:=0; 
  s2:=0;
  n1:=n[0];
  n:=sum(col(L,1));
  pour j de 0 jusque n1-1 faire
    lj := L[j];
    vj := lj[0];
    ej := lj[1];
    s := s+vj*ej 
    s2 := s2+vj^2*ej;
  fpour;
  retourne s/n,sqrt(s2/n-(s/n)^2);
ffonction:;
fonction Statexo2(L1,L2)
  local j,vj,ej,n,n1,n2,s,s2;
  n1:=dim(L1);
  n2:=dim(L2);
  si n1!=n2 alors retourne "erreur"; fsi;
  n:=sum(L2);
  s:=0; 
  s2:=0;
  pour j de 0 jusque n1-1 faire
    vj := L1[j];
    ej := L2[j];
    s := s+vj*ej 
    s2 := s2+vj^2*ej;
  fpour;
  retourne s/n,sqrt(s2/n-(s/n)^2);
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On a mesuré la taille en cm (arrondie à l’entier le plus proche) de 200 
fossiles de la même espèce. On a obtenu pour <span style="font-family:monospace">k=0..12</span> une taille 
<span style="font-family:monospace">L1[k]</span> d’effectif de <span style="font-family:monospace">L2[k]</span>.<br>
Calculer la moyenne et l’écart-type de cette distribution.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[0,1,2,3,4,5,6,7,8,9,10,11,12]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L2:=[1,16,31,37,41,30,23,13,6,1,0,1,0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L12:=seq([L1[k],L2[k]],k,0,12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Statexo1(L12)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On a mesuré la taille en cm (arrondie à l’entier le plus proche) d’une autre
espèce de fossiles. On a obtenu pour <span style="font-family:monospace">k=0..12</span> une taille 
<span style="font-family:monospace">L1[k]</span> d’effectif de <span style="font-family:monospace">L3[k]</span>.<br>
Calculer la moyenne et l’écart-type de cette distribution.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L1:=[0,1,2,3,4,5,6,7,8,9,10,11,12]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L3:=[2,11,21,52,64,77,62,46,41,11,8,5,0]
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">Statexo2(L1,L3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On vérifie avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">mean(L1,L2),stddev(L1,L2)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">mean(L1,L3),stddev(L1,L3)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

</p>
<!--TOC section id="sec90" Simulation d’un échantillon-->
<h2 id="sec90" class="section">7.2  Simulation d’un échantillon</h2><!--SEC END --><p>
<span style="font-weight:bold">Exercice :</span> Générer aléatoirement <span style="font-style:italic">n</span> valeurs 0 ou 1,
la probabilité d’avoir 1 étant fixée à <span style="font-style:italic">p</span>
(pour faire cela, on comparera avec <span style="font-style:italic">p</span> le résultat de la commande <span style="font-family:monospace">Xcas</span>
<code>alea(0,1)</code> qui renvoie un réel entre 0 et 1). 
Calculer la fréquence de 1 observée.

</p><pre class="verbatim">fonction Simu(n,p)
  local j,a,n1;
  n1:=0;
  pour j de 1 jusque n faire
    a:=alea(0,1);
    si a&lt;=p alors n1:=n1+1; fsi;
  fpour
  retourne n1/n;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>


<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=seq(Simu(20.,.4),k,1,10);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

On peut visualiser les fréquences obtenues avec la commande 
<span style="font-family:monospace">plotlist([y0,...,yn])</span> de <span style="font-family:monospace">Xcas</span> qui trace la ligne polygonale reliant 
les points d’abscisse <span style="font-family:monospace">k</span> et d’ordonnée <span style="font-family:monospace">yk</span> pour <span style="font-family:monospace">k=0..n</span>.<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">plotlist(L);droite(y=0.4-1/sqrt(20)); droite(y=0.4+1/sqrt(20))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p>Commandes <span style="font-family:monospace">Xcas</span> permettant de faire le calcul directement :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">n:=20.; p:=.4; v:=randvector(n,binomial,1,p); sum(v)/n;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
(la commande <code>randvector</code> génère ici <span style="font-style:italic">n</span> valeurs aléatoires
selon la loi binomiale de paramètres 1 et <span style="font-style:italic">p</span>, on en fait ensuite
la moyenne)</p>
<!--TOC section id="sec91" Intervalle de fluctuation-->
<h2 id="sec91" class="section">7.3  Intervalle de fluctuation</h2><!--SEC END --><p>
Écrire un algorithme effectuant <span style="font-style:italic">N</span> simulations d’échantillons,
en utilisant la fonction précédente, renvoyer la liste
des fréquences ainsi que la proportion
de fréquences situées en-dehors de l’intervalle 
[<span style="font-style:italic">p</span>−1/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>,<span style="font-style:italic">p</span>+1/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>].<br>
En effet une simulation suit une loi binomiale de moyenne <span style="font-style:italic">np</span> et 
d’écart-type σ=√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span><span style="text-decoration:overline">*</span><span style="text-decoration:overline"><span style="font-style:italic">p</span></span><span style="text-decoration:overline">*(1−</span><span style="text-decoration:overline"><span style="font-style:italic">p</span></span><span style="text-decoration:overline">)</span> 
les fréquences suivent une loi binomiale de moyenne <span style="font-style:italic">p</span> et 
d’écart-type σ/<span style="font-style:italic">n</span>)=√<span style="text-decoration:overline"><span style="font-style:italic">p</span></span><span style="text-decoration:overline">*(1−</span><span style="text-decoration:overline"><span style="font-style:italic">p</span></span><span style="text-decoration:overline">)/</span><span style="text-decoration:overline"><span style="font-style:italic">n</span></span> et on a :<br>
4*<span style="font-style:italic">p</span>*(1−<span style="font-style:italic">p</span>)−1=−(2*<span style="font-style:italic">p</span>−1)<sup>2</sup> donc 4*<span style="font-style:italic">p</span>*(1−<span style="font-style:italic">p</span>)≤ 1 et<br>
 2σ/<span style="font-style:italic">n</span>=√<span style="text-decoration:overline">4*</span><span style="text-decoration:overline"><span style="font-style:italic">p</span></span><span style="text-decoration:overline">*(1−</span><span style="text-decoration:overline"><span style="font-style:italic">p</span></span><span style="text-decoration:overline">)/</span><span style="text-decoration:overline"><span style="font-style:italic">n</span></span> ≤ 1/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>. 

</p><pre class="verbatim">fonction Fluctuat(N,n,p)
  local j,L,out;
  L:=[];
  out:=0;
  pour j de 0 jusque N-1 faire
    L[j]:=Simu(n,p);
    si abs(L[j]-p)&gt;1/sqrt(n) alors out:=out+1; fsi;
  fpour;
  retourne out/N,L;
ffonction:;
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

On lance 20 fois une pièce de de monnaie mal équilibrée car la 
probabilité d’obtenir face ést égale à 0.4.<br>
<span style="font-family:monospace">Simu(20,0.4)</span> renvoie donc la fréquence du nombre de faces observées.
On effectue plusieurs fois 100 simulations :

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">L:=Fluctuat(100.,20,.4);L1:=L[1]:;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">LL:=Fluctuat(100.,20,.4);LL1:=LL[1]:;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">LLL:=Fluctuat(100.,20,.4);LLL1:=LLL[1]:;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On peut visualiser la répartition de ces fréquences avec <span style="font-family:monospace">Xcas</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">plotlist(L1);plotlist(L21,affichage=2);plotlist(L31,affichage=4);droite(y=0.4-1/sqrt(20)); droite(y=0.4+1/sqrt(20))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
</p><p><span style="font-weight:bold">Avec les commandes de </span><span style="font-weight:bold"><span style="font-family:monospace">Xcas</span></span><br>
On génère une séquence de <span style="font-style:italic">N</span> moyennes de vecteurs de <span style="font-style:italic">n</span>
valeurs aléatoires selon la loi binomiale de paramètres 1 et <span style="font-style:italic">p</span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">N:=100.; n:=20; p:=.4;l:=seq(sum(randvector(n,binomial,1,p))/n,j,1,N);
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>
On compte les moyennes dont l’écart à <span style="font-style:italic">p</span> est plus grand que 1/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span> :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:400px;height:20px;font-size:large">count(x->abs(x-p)>1/sqrt(n),l)/N;
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

Avec <span style="font-family:monospace">Xcas</span>, la probabilité d’être dans l’intervalle 
[<span style="font-style:italic">p</span>−1/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>,<span style="font-style:italic">p</span>+1/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>] est donnée par :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">binomial_cdf(n,p,n*(p-1/sqrt(n)),n*(p+1/sqrt(n)))
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>

Il y a donc une probabilité faible (de l’ordre de 4%) 
de ne pas être dans l’intervalle de fluctuation.<br>
Avec <span style="font-family:monospace">Xcas</span>, la probabilité d’être dans l’intervalle 
[<span style="font-style:italic">n</span>*<span style="font-style:italic">p</span>−σ/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>,<span style="font-style:italic">n</span>*<span style="font-style:italic">p</span>+σ/√<span style="text-decoration:overline"><span style="font-style:italic">n</span></span>] est donnée par :<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">sigma:=stddev(binomial(n,p));2*sigma/n,1./sqrt(n)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
<br>

<textarea onkeypress="UI.ckenter(event,this,1)" 
style="width:800px;height:20px;font-size:large">binomial_cdf(n,p,n*p-2*sigma,n*p+2*sigma)
</textarea><button onclick="previousSibling.style.display='inherit';var tmp=UI.caseval(previousSibling.value);tmp=UI.rmquote(tmp); nextSibling.innerHTML='&nbsp;'+tmp;UI.render_canvas(nextSibling);">ok</button><span></span><br>
.</p>
<!--TOC chapter id="sec92" Aide-->
<h1 id="sec92" class="chapter">Chapitre 8  Aide</h1><!--SEC END -->
<!--TOC section id="sec93" Les fonctions usuelles avec <span style="font-family:monospace">Xcas</span>-->
<h2 id="sec93" class="section">8.1  Les fonctions usuelles avec <span style="font-family:monospace">Xcas</span></h2><!--SEC END --><p>
<span style="font-family:monospace">abs</span> : valeur absolue ou le module de l’argument.<br>
<span style="font-family:monospace">cos</span> : renvoie le cosinus de l’argument.<br>
<span style="font-family:monospace">Digits</span> : pseudo-variable pour modifier le nombre <span style="font-family:monospace">n</span> de chiffres 
significatifs (par ex <span style="font-family:monospace">Digits:=n</span>).<br>
<span style="font-family:monospace">evalf</span> : évaluation numérique du premier argument (le nombre de digits 
peut être donné comme second argument).<br>
<span style="font-family:monospace">floor</span> : renvoie la partie entière de l’argument (le plus grand entier 
&lt;= à l’argument.<br>
<span style="font-family:monospace">frac</span> : partie fractionnaire de l’argument.<br>
<span style="font-family:monospace">max</span> : renvoie le maximum des éléments d’une séquence ou d’une liste de réels.<br>
<span style="font-family:monospace">min</span> : renvoie le minimum des éléments d’une séquence ou d’une liste de réels.<br>
<span style="font-family:monospace">+</span> : renvoie la concaténation de 2 chaînes ou addition terme à terme 
de 2 expressions ou 2 listes (opérateur infixé).<br>
<span style="font-family:monospace">round</span> : renvoie l’argument réel arrondi à l’entier (ou le décimal)
le plus proche. <br>
<span style="font-family:monospace">sin</span> : renvoie le sinus de l’argument.<br>
<span style="font-family:monospace">sign</span> : renvoie le signe (-1,0,+1) de l’argument.<br>
<span style="font-family:monospace">sqrt</span> : renvoie la racine carrée de l’argument.<br>
<span style="font-family:monospace">tan</span> : renvoie la tangente de l’argument.
</p>
<!--TOC section id="sec94" Les fonctions <span style="font-family:monospace">Xcas</span> de calcul formel utilisées-->
<h2 id="sec94" class="section">8.2  Les fonctions <span style="font-family:monospace">Xcas</span> de calcul formel utilisées</h2><!--SEC END --><p>
<span style="font-family:monospace">coeff(P,var,[n]</span> : renvoie la liste des coefficients d’un polynôme
<span style="font-family:monospace">P</span> par rapport à la variable <span style="font-family:monospace">Var</span> ou le coefficient de 
degré <span style="font-family:monospace">n</span>.<br>
<span style="font-family:monospace">count(f,L)</span> : applique la fonction <span style="font-family:monospace">f</span> aux éléments de la liste 
<span style="font-family:monospace">L</span> et en renvoie la somme.<br>
<span style="font-family:monospace">degree(P,var</span> : renvoie le degré du polynôme <span style="font-family:monospace">P</span> par rapport à la 
variable <span style="font-family:monospace">var</span>.<br>
<span style="font-family:monospace">dim</span> : renvoie la longueur d’une liste, d’une séquence ou d’une chaîne de caractères.<br>
<span style="font-family:monospace">droit</span> : renvoie le côté droit d’une équation, d’un intervalle, 
d’une liste ou d’une chaîne .<br>
<span style="font-family:monospace">fsolve</span>: renvoie la solution numérique d’une équation. <br>
<span style="font-family:monospace">gauche</span> : renvoie le côté gauche d’une équation, d’un intervalle, 
d’une liste ou d’une chaîne.<br>
<span style="font-family:monospace">iquo</span> : renvoie le quotient euclidien de 2 entiers. <br>
<span style="font-family:monospace">iquorem</span> : renvoie la liste du quotient et du reste euclidien de 2
entiers.<br>
<span style="font-family:monospace">irem</span> : renvoie le reste euclidien de 2 entiers.<br>
<span style="font-family:monospace">normal</span> : renvoie une simplification de l’argument.<br>
<span style="font-family:monospace">purge(a)</span> : enlève la valeur stockée dans la variable <span style="font-family:monospace">a</span>.<br>
<span style="font-family:monospace">simplify</span> : renvoie une simplification de l’argument.<br>
<span style="font-family:monospace">solve</span> : renvoie la solution d’une équation.<br>
<span style="font-family:monospace">sommets</span> : renvoie la liste des sommets d’un polygone.<br>
<span style="font-family:monospace">subst</span> : remplace dans une expression, une variable non affectée par 
une valeur.<br>
<span style="font-family:monospace">sum</span> : somme des éléments d’une liste (ou séquence).<br>
<span style="font-family:monospace">subtype</span> : renvoie 1 pour une séquence, 2 pour un ensemble, 10 pour un polynôme et 0 sinon ce qui définit le sous-type de l’argument.<br>
<span style="font-family:monospace">type</span> : renvoie <span style="font-style:italic">n</span> dans [1..12] définissant le type de l’argument.</p>
<!--TOC section id="sec95" Les fonctions <span style="font-family:monospace">Xcas</span> de géométrie utilisées-->
<h2 id="sec95" class="section">8.3  Les fonctions <span style="font-family:monospace">Xcas</span> de géométrie utilisées</h2><!--SEC END --><p>
<span style="font-family:monospace">affichage</span> : employé comme option de commandes graphiques permet
de faire des dessins en couleur (par ex 
<span style="font-family:monospace">A:=point([1,1],affichage=rouge)</span>).<br>
<span style="font-family:monospace">carre</span> : renvoie et dessine le carré direct donné par 2 
points.<br>
<span style="font-family:monospace">centre</span> : renvoie et dessine le centre du cercle donné en argument.<br>
<span style="font-family:monospace">cercle</span> : renvoie et dessine le cercle donné par 1 point et 1 réel (son
centre et son rayon) ou par 2 points (son diamètre) ou par son équation.<br>
<span style="font-family:monospace">droite</span> : renvoie et dessine la droite donnée par 2 points ou par 1 point
et son vecteur directeur.<br>
<span style="font-family:monospace">est_aligne</span> : renvoie 1 si les points sont alignés, 2 si les points sont 
confondus et 0 sinon.<br>
<span style="font-family:monospace">est_parallele</span> : renvoie 1 si 2 droites sont parallèles et 0 sinon.<br>
<span style="font-family:monospace">equation</span> : renvoie l’équation de l’argument.<br>
<span style="font-family:monospace">inter</span> dessine et renvoie la liste des points d’intersection de 2 objets géométriques.<br>
<span style="font-family:monospace">inter_unique</span> renvoie et dessine un des points d’intersection de 2 objets géométriques.<br>
<span style="font-family:monospace">longueur</span> : renvoie la longueur du segment défini par 2 points 
ou par les coordonnées de ces points.
<span style="font-family:monospace">norm</span> : renvoie la norme l2 d’un vecteur :<br>
<span style="font-family:monospace">norm</span>([<span style="font-style:italic">x</span><sub>1</sub>,..<span style="font-style:italic">x</span><sub><span style="font-style:italic">n</span></sub>]) : renvoie √<span style="text-decoration:overline">(</span><span style="font-style:italic">x</span><sub>1</sub><sup>2</sup>+...<span style="font-style:italic">x</span><sub><span style="font-style:italic">n</span></sub><sup>2</sup>)<br>
<span style="font-family:monospace">point</span> : renvoie et dessine le point de coordonnées l’argument.<br>
<span style="font-family:monospace">polygone</span> : renvoie et dessine le polygone donné par une liste de 
points.<br>
<span style="font-family:monospace">polygone_ouvert</span> : renvoie et dessine la ligne polygonale donnée par une
liste de points.<br>
<span style="font-family:monospace">rayon</span> :renvoie le rayon du cercle donné en argument.<br>
<span style="font-family:monospace">segment</span> : renvoie et dessine soit le segment donné par 2 points ou 
le vecteur donné par un point et son vecteur directeur. <span style="font-weight:bold">Bien voir</span> la 
différence entre <span style="font-family:monospace">segment(point(cA),point(cB))</span> (c’est le segment (A,B)) 
et <span style="font-family:monospace">segment(cA,cB)</span> qui est aussi <span style="font-family:monospace">segment(point(cA),point(cA+cB))</span>.<br>
<span style="font-family:monospace">sommets</span> : renvoie la liste des sommets du polygone donné en argument et les dessine.<br>
<span style="font-family:monospace">translation(B-A,C)</span> : renvoie et dessine le translaté de <span style="font-family:monospace">C</span> dans la 
translation de vecteur <span style="font-family:monospace">AB</span>.<br>
<span style="font-family:monospace">triangle</span> : renvoie et dessine le triangle donné par 3 points.<br>
<span style="font-family:monospace">vecteur</span> : renvoie et dessine le vecteur donné par 2 points ou par un 
point et son vecteur directeur. <span style="font-weight:bold">Bien voir</span> la 
différence entre <span style="font-family:monospace">vecteur(point(cA),point(cB))</span>(c’est le vecteur (A,B)) et
<span style="font-family:monospace">vecteur(cA,cB)</span> qui est aussi <span style="font-family:monospace">vecteur(point(cA),point(cA+cB))</span>.
</p>
<!--TOC section id="sec96" Les fonctions <span style="font-family:monospace">Xcas</span> de programmation utilisées-->
<h2 id="sec96" class="section">8.4  Les fonctions <span style="font-family:monospace">Xcas</span> de programmation utilisées</h2><!--SEC END --><p>
<span style="font-family:monospace">break</span> : pour interrompre une boucle (tantque &lt;cond&gt; faire inst1; 
si &lt;cond&gt; alors inst2;break;fsi;ftantque;).<br>
<span style="font-family:monospace">fpour</span><br>
<span style="font-family:monospace">fsi</span><br>
<span style="font-family:monospace">ftantque</span><br>
<span style="font-family:monospace">jusque</span><br>
<span style="font-family:monospace">local</span><br>
<span style="font-family:monospace">pas</span><br>
<span style="font-family:monospace">pour &lt;k&gt; de &lt;k1&gt; jusque &lt;k2&gt; faire &lt;instructions&gt; pas &lt;p&gt; fpour</span><br>
<span style="font-family:monospace">quand</span><br>
<span style="font-family:monospace">retourne</span><br>
<span style="font-family:monospace">si &lt;condition&gt; alors &lt;instructions1&gt; sinon &lt;instructions2&gt; fsi</span><br>
<span style="font-family:monospace">tantque &lt;condition&gt; faire &lt;instructions&gt; ftantque</span></p>
<!--TOC section id="sec97" Les fonctions <span style="font-family:monospace">Xcas</span> utilisées en statistiques-->
<h2 id="sec97" class="section">8.5  Les fonctions <span style="font-family:monospace">Xcas</span> utilisées en statistiques</h2><!--SEC END --><p>
<span style="font-family:monospace">alea(n1,n2)</span> : renvoie un réel aléatoire de [n1,n2[.<br>
<span style="font-family:monospace">binomial</span> : peut être employé comme option de la commande <span style="font-family:monospace">randvector</span>.<br>
<span style="font-family:monospace">binomial_cdf(n,p,x1,x2)</span> : renvoie Proba(x1&lt;=X&lt;=x2) quand X suit la loi 
binomiale B(n,p).<br>
<span style="font-family:monospace">mean</span> : renvoie la moyenne d’une liste ou d’une liste pondérée par le 
deuxième argument.<br>
<span style="font-family:monospace">median</span> : renvoie la médiane d’une liste ou d’une liste pondérée par 
le deuxième argument.<br>
<span style="font-family:monospace">plotlist</span> : lorsque l’argument est <span style="font-style:italic">L</span>=[<span style="font-style:italic">y</span><sub>0</sub>,...,<span style="font-style:italic">y</span><sub><span style="font-style:italic">n</span></sub>], trace la ligne 
polygonale reliant les points d’abscisse <span style="font-style:italic">k</span> et d’ordonnée <span style="font-style:italic">y</span><sub><span style="font-style:italic">k</span></sub> pour 
<span style="font-style:italic">k</span>=0..<span style="font-style:italic">n</span>.<br>
<span style="font-family:monospace">randvector</span> : renvoie une liste de nombres aléatoires de taille <span style="font-style:italic">n</span> 
constituée d’entiers aléatoires distribués selon la loi indiquée.<br>
<span style="font-family:monospace">stddev</span> : renvoie l’écart-type d’une liste ou d’une liste pondérée
par le deuxième argument.
</p><p>Cet appendice est destiné aux utilisateurs maitrisant bien le langage
de <span style="font-family:monospace">Xcas</span> ou tout langage équivalent et qui veulent aller plus loin.</p>
<!--TOC chapter id="sec98" Xcas, Javascript et Python.-->
<h1 id="sec98" class="chapter">Annexe A  Xcas, Javascript et Python.</h1><!--SEC END --><p>
Javascript est le langage des navigateurs, il est donc
extrêmement répandu et peut être utilisé
sans installation sur PC/Mac. De ce fait, un programme
écrit en javascript pourra facilement 
être intégré dans une petite interface
utilisateur en HTML (voir l’exemple ci-dessous), 
et exécuté depuis n’importe
quel autre navigateur, ce qui peut être assez 
motivant. <br>
Du point de vue des types
de variables utilisables, on dispose entre autres
de nombres approchés,
de chaines de caractères et de listes, il n’y a pas de type
particulier pour les entiers. Les structures de controle ont une
syntaxe proche du langage C, point-virgule en fin d’instruction,
délimiteurs de blocs explicites <code>{}</code>, test en 
<code>if () { ... } else { ... }</code> et boucle en
<code>for(init;condition;incrementation){...}</code> 
ou <code>while(condition){...}</code>, déclaration de variable
par <code>var</code> et retour de fonction par <code>return</code>. <br>
Si vous connaissez javascript, vous pouvez utiliser une syntaxe très
proche dans Xcas. Exemple, syntaxe utilisable dans les
deux langages pour le calcul du <span style="font-style:italic">n</span>-ième nombre de Fibonacci :

</p><pre class="verbatim">function fibo(n){
  var u,v,w,j;
  u=1; v=1;
  if (n&lt;2) return 1;
  for (j=2;j&lt;=n;j++){
    w=u+v; u=v; v=w; // ou en Xcas (u,v)=(v,u+v);
  }
  return v;
}
</pre><p> 
<button onclick="var field=parentNode.previousSibling; var tmp=field.innerHTML;if(tmp.length==0) tmp=field.value;var t=createElement('TEXTAREA');t.style.fontSize=16;t.cols=60;t.rows=10;var tmp1=UI.ltgt(tmp);t.value=tmp1;tmp=UI.caseval(tmp);tmp=UI.rmquote(tmp);nextSibling.innerHTML=tmp; UI.render_canvas(nextSibling.innerHTML);field.parentNode.insertBefore(t,field);field.parentNode.removeChild(field);">ok</button><span></span><br>

Pour avoir une interface HTML minimaliste pour cette fonction,
on crée un fichier nommé disons <code>fibo.html</code> (que l’on
consultera depuis un navigateur) contenant :
</p><pre class="verbatim">&lt;script&gt;
function fibo(n){
  var u,v,w,j;
  u=1; v=1;
  if (n&lt;2) return 1;
  for (j=2;j&lt;=n;j++){
    w=u+v; u=v; v=w; 
  }
  return v;
}
&lt;/script&gt;
Le 
&lt;textarea cols="5" rows="1" id="input" 
onkeypress="if (event.keyCode!=13) return true; 
document.getElementById('output').value=fibo(eval(value)); 
return false;"&gt;5&lt;/textarea&gt;
i&amp;egrave;me nombre de Fibonacci est
&lt;textarea rows="1" id="output"&gt;&lt;/textarea&gt;
</pre><p>On peut utiliser les commandes de Xcas depuis Javascript, c’est exactement
ce que fait l’interface Xcas pour Firefox.</p><p>Python est un langage assez populaire
dans les milieux scientifiques et est facile à installer.
Il possède un type spécifique pour les entiers. 
Sa principale différence par rapport aux autres langages est
que les structures de controle n’ont pas de délimiteur explicite
de fin de bloc, c’est l’indentation qui joue ce role. L’obligation
d’indenter correctement a certes des vertus pédagogiques, mais 
pas l’abscence de délimiteur explicite de fin de bloc. Ceci rend aussi
l’échange de code source Python dans des applications orientées
texte (mail, forums) plus fragile, ou même la lecture difficile
si le code est affiché sur plus qu’une page. De plus, la déclaration
de variables locales dans une fonction
est implicite, ce qui n’est pas très pédagogique.
D’autre part, la syntaxe de la boucle
for en Python utilise des objets plus abstraits (itérateurs)
ou qui peuvent être inutles (liste d’entiers en Python 2), elle
s’éloigne de celle de la grande majorité des
autres langages, y compris la traduction en langage machine.
Ainsi l’exemple de Fibonacci donne
</p><pre class="verbatim">def fibo(n):
  u=1 
  v=1
  if n&lt;2:
    return 1
  for j in range(2,n+1):
    w=u+v 
    u=v 
    v=w 
  return v
</pre><p>Il n’y a pas de mode de syntaxe compatible Python dans Xcas. On peut
toutefois utiliser les commandes de Xcas depuis Python en installant
<code>giacpy</code>, puis en tapant <code>from giacpy import *</code>.</p><p>La principale différence entre les 3 langages, c’est que Xcas
est un logiciel de calcul formel et permet 
de travailler avec des variables symboliques et des
expressions. Dans Xcas, une variable globale 
peut ne pas avoir de valeur (son évaluation la renvoie),
ce n’est pas le cas en Javascript ou en Python (l’évaluation
d’une variable non initialisée renvoie une erreur). De ce fait,
il ne faut pas oublier de déclarer les variables locales
d’une fonction pour éviter des erreurs. En contrepartie pour
réaliser des fonctions comme la dichotomie ou la recherche
d’une valeur approchée d’intégrale par la méthode des 
rectangles,
on peut passer une expression symbolique en paramètre et
l’évaluer en un point, ce qui est conceptuellement plus 
simple que de passer une
fonction en argument à une autre fonction.
Avec Xcas, on peut aussi faire du calcul symbolique à l’intérieur
d’une fonction, par exemple dériver une expression, calculer
des valeurs exactes ou approchée, et dans ce dernier cas travailler
avec un nombre arbitraire de décimales.</p><p>Des trois langages, Javascript est le plus rapide,
puis Python puis Xcas.</p>
<!--TOC chapter id="sec99" Les biais des langages interprétés-->
<h1 id="sec99" class="chapter">Annexe B  Les biais des langages interprétés</h1><!--SEC END --><p>Les ordinateurs n’exécutent pas directement les instructions
données dans un langage comme <span style="font-family:monospace">Xcas</span>, Javascript, Python, C, Pascal, etc.,
ils exécutent uniquement du code machine spécifique au micro-processeur
de l’ordinateur. Il y a deux façons de traduire le langage en
code machine : soit une fois pour toutes lors d’une étape
appelée compilation, soit au moment de l’exécution de l’instruction
du langage par l’interpréteur <sup><a id="text4" href="#note4">1</a></sup>, 
on parle alors de langage interprété (en toute
rigueur, il existe une
troisième possibilité un peu intermédiaire qui consiste à compiler
au moment où on exécute l’instruction du langage).</p><p>Les langages interprétés sont par nature plus faciles à 
mettre en oeuvre (pas de compilation) et de ce fait
rendent l’apprentissage plus simple. Mais la traduction au moment
de l’exécution a bien entendu un impact sur le temps d’exécution,
parce que les boucles sont traduites autant de fois
qu’elles sont exécutées (des optimisations peuvent
y remédier plus ou moins). De plus, les langages interprétés
utilisent des variables dont le type est déterminé
au moment de l’exécution du code, ce qui a un impact aussi
bien pour la taille occupée par la variable que pour l’exécution
d’une opération qui doit commencer par déterminer le type des
arguments pour agir en conséquence. Enfin,
lorsqu’on utilise un langage compilé, on a accès
aux types de données directement manipulables par le 
microprocesseur, dont la place occupée en mémoire est optimale 
et le temps d’exécution très rapide,
par exemple on peut multiplier deux entiers dont le produit est
inférieur à 2<sup>63</sup> en moins d’un milliardième de seconde.</p><p>Bien entendu, on peut améliorer le temps d’exécution
avec un langage interprété si certaines taches répétitives
sont codées dans une instruction du langage, par exemple
l’instruction effectuant le produit de deux matrices n’est pas 
programmé dans le langage interprété lui-même mais est compilé
une fois pour toutes dans le code exécutable de l’interpréteur. 
Le programmeur qui souhaite avoir un code suffisamment rapide va
donc adopter un style de programmation qui favorisera l’utilisation
de commandes du langage effectuant en une seule instruction ce
qui nécessiterait une ou plusieurs boucles imbriquées
si on le programmait uniquement avec les
instructions de base d’un langage compilé. C’est pour cette raison
que les programmeurs expérimentés travaillant avec un 
langage interprété écrivent souvent dans un style
“algébrique” avec le moins possible de structures de controle explicites
et des types de données souvent assez complexes.
Par exemple pour écrire un produit scalaire de deux listes en <span style="font-family:monospace">Xcas</span>,
on utilisera la commande <code>dot</code>, si elle n’existait pas, on
pourrait écrire <code>sum(x[j]*y[j],j,0,size(x)-1)</code> pour éviter
de faire une boucle <code>pour</code>. Pour des commandes plus compliquées,
on utilisera sans doute des commandes <code>seq</code> imbriquées au lieu
de boucles. Mais ce style présente un risque, celui de calculer
plusieurs fois la même quantité : une expression algébrique
n’a pas de variables locales pour stocker de résultats 
intermédiaires. 
Il faut donc prendre garde au biais de ne
pas calculer des quantités intermédiaires.
Ce n’est pas le seul biais, 
il faut également faire attention à l’utilisation
d’instructions faisant des boucles implicitement et
à l’utilisation de types de données puissants qui risquent de masquer
la complexité des opérations nécessaires et pourraient être
remplacés par des types plus simples, par exemple
utiliser un dictionnaire (ou annuaire) 
alors qu’un tableau ferait l’affaire. 
D’ailleurs d’un point de vue
pédagogique il est toujours bon de savoir ce qu’il y a derrière une boite
noire lorsque c’est accessible au niveau de l’élève ou de l’étudiant. 
De plus le style algébrique
est certes compact, mais il est souvent plus difficile à maintenir 
(aussi bien à relire qu’à corriger), 
et il peut aussi générer une occupation mémoire inutile : par
exemple en simulation, générer une grosse matrice de nombre aléatoires
alors qu’une boucle agissant sur des lignes de cette matrice générées
une par une et effacées après usage est incomparablement
moins gourmand en mémoire.</p><p>Enfin, l’optimisation d’un code destiné à être vraiment utilisé
nécessite souvent la compilation des parties critiques, et l’optimisation
de ces parties critiques se fait souvent de manière différente et
parfois opposée aux habitudes acquises en optimisant du code interprété.
Illustrons cela plus en détails
sur un exemple très utile en mathématique: le produit
scalaire de deux vecteurs et le produit d’une matrice
par un vecteur. Il s’agit d’une boucle <code>pour</code>
que l’on code par
</p><pre class="verbatim">fonction ps(u,v)
 local r,j,n
 r:=0;
 pour j de 0 jusque n-1 faire
  r:=r+u[j]*v[j];
 fpour;
 return r;
ffonction
</pre><p>On peut optimiser en utilisant l’instruction d’incrémentation
<code>r += u[j]*v[j];</code> au lieu de <code>r:=r+u[j]*v[j];</code>.</p><p>Traduit dans un langage compilé, 
ce code n’est pas loin d’être optimal, 
par exemple en C++ :
</p><pre class="verbatim">double ps(const vector&lt;double&gt; &amp; u,const vector&lt;double&gt; &amp; v){
  size_t j,n=u.size();
  double r=0;
  for (j=0;j&lt;n;j++){
    r += u[j]*v[j];
  }
  return r;
}
</pre><p>Les variables <code>r,j,n</code> sont stockés dans des régistres
du microprocesseurs. Par itération, 
il y a 2 additions d’entiers 64 bits 
(adresse de base des vecteurs et valeur de l’indice), 2 lectures
en mémoire de 8 octets (<code>u[j]</code> et <code>v[j]</code>),
puis une multiplication de flottants, une addition de flottant,
une incrémentation d’entier 64 bits (l’indice), une comparaison
entre 2 entiers 64 bits, un branchement. Ce qui prend le plus de
temps c’est la lecture en mémoire des double des
vecteurs <code>u</code> et <code>v</code>
et le branchement/test de fin de boucle.</p><p>En langage interprété, ce code sera beaucoup plus lent, car à chaque 
itération, pour déterminer la valeur de <code>u[j]</code> et <code>v[j]</code>, 
il faut évaluer la variable d’indice <code>j</code> (lue dans l’annuaire
des variables affectées), de même pour les variables <code>u</code>
et <code>v</code>, s’apercevoir que ce sont bien des tableaux, comparer <code>j</code>
à la taille de <code>u</code> et de <code>v</code> (erreur si l’indice est trop
grand), extraire la <span style="font-style:italic">j</span>-ième case
du tableau. Ensuite on fait le produit, ce qui nécessite de tester
le type des variables, on ajoute le résultat à <code>r</code> ce qui
nécessite à nouveau de tester le type des arguments de <code>+=</code>. 
Puis on incrémente <code>j</code> de 1 et on compare à <code>n</code> (qu’il
faut évaluer).
Pour diminuer les opérations de gestion de la boucle, 
certains langages interprétés
ont une instruction de boucle spécifique pour itérer sur
les éléments d’une liste, par exemple si on veut afficher les
éléments d’une liste au lieu de faire
</p><pre class="verbatim">fonction aff(u)
 local j,n
 pour j de 0 jusque n-1 faire
  afficher(u[j]);
 fpour;
ffonction;
</pre><p>on écrira
</p><pre class="verbatim">fonction aff(u)
 local j;
 pour j in u faire
  afficher(j);
 fpour;
ffonction;
</pre><p>Cette boucle est implémentée en interne par
une variable de longueur de la liste <code>n</code>, une autre 
d’indice, disons <code>k</code>,
et <code>j</code> est évalué par calcul de <code>u[k]</code>, mais
les opérations de gestion de la boucle 
sont pré-compilées et donc plus rapides.
Dans ce type de boucle, le code est plus compact et ne pose aucun
problème de maintenance.
Par contre, pour le produit scalaire,
faire la même chose nécessite d’introduire des objets plus
complexes : on peut imaginer générer la liste des paires
<code>u[j],v[j]</code>
puis itérer sur cette liste. Mais si on ne veut pas créer inutilement
en mémoire une liste de paires, cette liste doit être générée
de manière virtuelle (par exemple au moyen d’une paire de pointeurs
sur les tableaux <code>u</code> et <code>v</code>)
et il faut disposer d’une commande capable
de prendre en argument une liste virtuelle. Par exemple en Python 
on pourrait écrire <code>sum(i*j for i,j in zip(u,v))</code>. Un mécanisme
de création de liste virtuelle peut bien entendu avoir un intérêt
intrinsèque, mais il faut avoir conscience que les objets que
l’on manipule sont plus complexes que les listes (qui sont déjà
des objets non triviaux), et que l’utilisation de cet objet dans l’exemple du
produit scalaire pour optimiser une boucle est un artéfact
de langage interprété, et qu’il sera difficile d’optimiser plus avec
ce style de programmation. Il sera d’ailleurs plus facile d’optimiser
en langage compilé sans utiliser ce type d’objets.</p><p>Ainsi, il est possible d’optimiser la boucle du produit scalaire,
on peut pour <span style="font-style:italic">n</span> grand regrouper plusieurs itérations,
et gagner du temps sur les parties test/branchement, par exemple 2 par 2
</p><pre class="verbatim">double ps(const vector&lt;double&gt; &amp; u,const vector&lt;double&gt; &amp; v){
  size_t j,n=u.size();
  double r=0;
  n--;
  for (j=0;j&lt;n;j+=2){
    r += u[j]*v[j]+u[j+1]*v[j+1];
  }
  n++;
  for (;j&lt;n;j++){
    r += u[j]*v[j];
  }
  return r;
}
</pre><p>Et si on effectue le produit d’une matrice <span style="font-style:italic">M</span> par un vecteur <span style="font-style:italic">v</span>, on peut
optimiser le temps d’exécution en mutualisant la lecture des coefficients
de <span style="font-style:italic">v</span>, on fait plusieurs produits scalaires avec <span style="font-style:italic">v</span> simultanément.
</p><pre class="verbatim">double ps(const vector&lt;double&gt; &amp; u1,
  const vector&lt;double&gt; &amp; u2,const vector&lt;double&gt; &amp; v){
  size_t j,n=u1.size();
  double r1=0,r2=0;
  n--;
  for (j=0;j&lt;n;j+=2){
    double vj=v[j],vj1=v[j+1];
    r1 += u1[j]*vj+u1[j+1]*vj1;
    r2 += u2[j]*vj+u2[j+1]*vj1;
  }
  n++;
  for (;j&lt;n;j++){
    r1 += u1[j]*v[j];
    r2 += u1[j]*v[j];
  }
  return r;
}
</pre><p>Ici en faisant 2 produits scalaires simultanément, 
on fait 6 lectures en mémoire au lieu de 8 pour 2 itérations.</p><p>Il nous parait donc essentiel pour un scientifique d’apprendre aussi
un langage pas trop éloigné de la machine, ou au moins
d’être capable de coder avec des objets de base.</p><p>

</div>
<div id="controldiv" style="max-height: 400px; overflow:auto">
<span id="controlindex"></span>
<button title="Efface la console" onclick="document.getElementById('output').innerHTML='';">Efface</button>
<button title="Augmente la taille de la console" onclick="var field=document.getElementById('output'); var s=field.style.maxHeight; s=s.substr(0,s.length-2);s=eval(s)+20 ;s=s+'px';field.style.maxHeight =s;">+</button>
<button title="Diminue la taille de la console" onclick="var field=document.getElementById('output'); var s=field.style.maxHeight; s=s.substr(0,s.length-2);s=eval(s)-20 ; if(s>100){s=s+'px';field.style.maxHeight =s;}">-</button>
<textarea title="Ligne de commande pour un calcul rapide" onkeypress="UI.ckenter(event,this,3)" style="width:400px;height:20px;font-size:large"></textarea><button  title="Evalue cellule precedente" onclick="UI.quick(this);">-></button><span></span>
&nbsp;&nbsp;<button onclick="var s=UI.caseval('restart;'); Module.print(s);" title="Reinitialise le moteur de calcul formel">Restart</button>
<button onclick="UI.exec(document.documentElement);" title='Cliquer ici pour executer toutes les commandes (attention cela peut etre long!)'>Exec. tout</button>
<canvas id='canvas' width=0 height=0   onmousedown="UI.canvas_pushed=true;UI.canvas_lastx=event.clientX; UI.canvas_lasty=event.clientY;"  onmouseup="UI.canvas_pushed=false;" onmousemove="UI.canvas_mousemove(event,'')"></canvas>
<div id="output" style="max-height: 100px; overflow:auto"></div>
</div>
</div>


<script language="javascript"> 
var Module = { 
        htmlcheck:true,
        htmlbuffer:'',
        preRun: [],
        postRun: [],
        print: (function() {
          var element = document.getElementById('output');
          element.innerHTML='';// element.value = ''; // clear browser cache
          return function(text) {
            //console.log(text.charCodeAt(0));
            if (text.length==1 && text.charCodeAt(0)==12){ element.innerHTML=''; return; }
            if (text.length>=1 && text.charCodeAt(0)==2) {console.log('STX');Module.htmlcheck=false; htmlbuffer='';return;}
            if (text.length>=1 && text.charCodeAt(0)==3) {console.log('ETX');Module.htmlcheck=true; element.style.display='inherit'; element.innerHTML += htmlbuffer;htmlbuffer='';element.scrollTop = 99999; return;}
            if (Module.htmlcheck){
            // These replacements are necessary if you render to raw HTML 
             text = text.replace(/&/g, "&amp;");
             text = text.replace(/</g, "&lt;");
             text = text.replace(/>/g, "&gt;");
             text = text.replace('\n', '<br>', 'g');
             text += '<br>'
             element.style.display='inherit';
             element.innerHTML += text; // element.value += text + "\n";
             element.scrollTop = 99999; // focus on bottom
            } else htmlbuffer += text;
          };
        })(),
     canvas: document.getElementById('canvas'),};
</script>


<script src="giac.js" async></script> 



<script language="javascript">
 var UI = {
  histcount:0,
  usemathjax:false,
  canvas_pushed:false,
  canvas_lastx:0,
  canvas_lasty:0,
  canvas_mousemove:function(event,no){
    if (UI.canvas_pushed){
      // Module.print(event.clientX);
      if (UI.canvas_lastx!=event.clientX){
        if (event.clientX>UI.canvas_lastx)
          giac3d('r'+no);
        else
          giac3d('l'+no);
        UI.canvas_lastx=event.clientX;
      }
      if (UI.canvas_lasty!=event.clientY){
        if (event.clientY>UI.canvas_lasty)
          giac3d('d'+no);
        else
          giac3d('u'+no);
        UI.canvas_lasty=event.clientY;
      }
    }
  },  
  ltgt:function(s){
    var ss=s.length,i,res='';
    for (i=0;i<ss-4;i++){
      if (s[i]!='&' || s[i+2]!='t' || s[i+3]!=';'){
        res += s[i];
        continue;
      }
      if (s[i+1]=='l'){
        res += '<';
        i +=3;
        continue;
      }
      if (s[i+1]=='g'){
        res += '>';
        i +=3;
        continue;
      }
      res += s[i];
    }
    for (;i<ss;i++) res+=s[i];
    return res;
  },
  rmquote:function(tmp){
    var s=tmp.length;
    if (s>2 && tmp.charCodeAt(0)==34 && tmp.charCodeAt(s-1)==34)
      tmp=tmp.substr(1,s-2);
    return tmp;
  },
  quick:function(field){
    var tmp1=field.previousSibling.value;
    var tmp=UI.caseval(tmp1);
    tmp=UI.rmquote(tmp); 
    tmp=UI.latexeval(tmp);
    Module.print(String.fromCharCode(2));
    Module.print("<tt>");
    Module.print(tmp1);
    Module.print("</tt><br>&nbsp;&nbsp;");
    Module.print(tmp);
    Module.print("<br>");
    Module.print(String.fromCharCode(3));
    field.nextSibling.innerHTML='&nbsp;'+tmp;
   //UI.render_canvas(nextSibling);  
  },
  caseval:function(text){
    var s="non evalu&eacute;",err;
    try {
       s= giaceval(text);
    } catch (err) { s=err.message;}
    var is_3d=s.length>5 && s.substr(0,5)=='gl3d ';
    if (is_3d){
	var n3d=s.substr(5,s.length-5);
	s = '<canvas id="gl3d_'+n3d+'" onmousedown="UI.canvas_pushed=true;UI.canvas_lastx=event.clientX; UI.canvas_lasty=event.clientY;" onmouseup="UI.canvas_pushed=false;" onmousemove="UI.canvas_mousemove(event,'+n3d+')" width=400 height=250></canvas>';
    }
    return s;
  },
  render_canvas:function(field){
   var n=field.id;
   if (n && n.length>5 && n.substr(0,5)=='gl3d_'){
    Module.print(n);
    var n3d=n.substr(5,n.length-5);
    giac3d(n3d);
    return;
   }
   var f=field.firstChild;
   for (;f;f=f.nextSibling){
     UI.render_canvas(f);
   }
  },
  eval_form: function(field){
    giaceval('assume('+field.name.value+'='+field.valname.value+')');
    var s=UI.caseval(field.prog.value);
    var is_svg=s.substr(1,4)=='<svg';
    if (is_svg) field.parentNode.lastChild.innerHTML=s.substr(1,s.length-2);
    else field.parentNode.lastChild.innerHTML=s;
    UI.render_canvas(field.parentNode.lastChild);
  },
  latexeval:function(text){
    var tmp=text;
    if (tmp.length>5 && tmp.substr(0,5)=='gl3d_') return tmp;
    if (tmp.length>5 && tmp.substr(1,4)=='<svg') return tmp.substr(1,tmp.length-2);
    if (tmp.length>5 && tmp.substr(0,4)=='<svg') return tmp;
     if (UI.usemathjax){
       tmp=giaceval('latex(quote('+tmp+'))');
       tmp='$$'+tmp.substr(1,tmp.length-2)+'$$';
       return tmp;
     }
     tmp=giaceval('mathml(quote('+tmp+',1))');
     tmp=tmp.substr(1,tmp.length-2);
    return tmp;   
  },
  ckenter:function(event,field,mode){
    var key = event.keyCode;
    if (key != 13 || event.shiftKey) return true;
   if (mode==3){ UI.quick(field.nextSibling); event.preventDefault(); return true; }
    var tmp=field.value;
   Module.print(tmp);
    tmp=UI.caseval(tmp);
    if (mode==1){
      tmp=UI.rmquote(tmp); 
   }
   if (mode==2){
     tmp=UI.latexeval(tmp);
   }
   field.nextSibling.nextSibling.innerHTML=tmp;
   UI.render_canvas(field.nextSibling.nextSibling);
   if (UI.usemathjax) MathJax.Hub.Queue(["Typeset",MathJax.Hub,field.nextSibling.nextSibling]);
   if (event.preventDefault) event.preventDefault();
    return false;
  },
  exec: function(field){
     if (field.nodeName=="BUTTON"){
        field.click();
        return;
     }
     var f=field.firstChild;
     while (f){
       UI.exec(f);
       f=f.nextSibling;
     }
   }
 };
 window.onload = function(e){
   var isFirefox = typeof InstallTrigger !== 'undefined';   // Firefox 1.0+
   var isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;
  var ua = window.navigator.userAgent;
  var old_ie = ua.indexOf('MSIE ');
  var new_ie = ua.indexOf('Trident/');
  if ((!isFirefox && !isSafari) || (old_ie > -1) || (new_ie > -1) || window.chrome){
     UI.usemathjax=true;
     alert("Votre navigateur ne supporte MathML, on utilise MathJax pour l'affichage 2d.  Les calculs seraient plus rapides et les resultats seraient mieux affiches avec Firefox.");
  }
  if (UI.usemathjax){
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  }
  var elem= document.getElementById('controlindex');
  elem.innerHTML='<hr><a href="'+String.fromCharCode(35)+'sec1">Table</a>, <a href="'+String.fromCharCode(35)+'sec2">Index</a>'+elem.innerHTML;
  elem=document.getElementById('maindiv');
  if (elem.style.maxHeight=='500px')
    elem.style.maxHeight=(window.innerHeight-120)+'px';
  giaceval=Module.cwrap('caseval',  'string', ['string']);
  giac3d = Module.cwrap('_ZN4giac13giac_rendererEPKc','number', ['string']);
  giaceval('set_language(1);');
  giaceval('factor(x^4-1)');
  giaceval('sin(x+y)+f(t)');
 // if (confirm('Executer les commandes?')) UI.exec(document.documentElement);
 };
</script>


</p><!--BEGIN NOTES chapter-->
<hr class="footnoterule"><dl class="thefootnotes"><dt class="dt-thefootnotes">
<a id="note4" href="#text4">1</a></dt><dd class="dd-thefootnotes"><div class="footnotetext">l’interpréteur est lui-même un programme écrit dans un langage compilé</div></dd></dl>
<!--END NOTES-->
<!--CUT END -->
<!--HTMLFOOT-->
<!--ENDHTML-->
<!--FOOTER-->
<hr style="height:2"><blockquote class="quote"><em>Ce document a été traduit de L<sup>A</sup>T<sub>E</sub>X par </em><a href="http://hevea.inria.fr"><em>H</em><em><span style="font-size:small"><sup>E</sup></span></em><em>V</em><em><span style="font-size:small"><sup>E</sup></span></em><em>A</em></a></blockquote></body>
</html>
