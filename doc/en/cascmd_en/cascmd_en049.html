<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+5 of 2017-05-18">
<link rel="stylesheet" type="text/css" href="cascmd_en.css">
<title>Defining piecewise defined functions</title>
</head>
<body >
<a href="cascmd_en048.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en050.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<h3 id="sec73" class="subsection">4.6.2  Defining piecewise defined functions</h3>
<p>
<a id="hevea_default41"></a></p><p>You can use <span style="font-family:monospace">Xcas</span>’s control structures to define functions not
given by a single simple formula. Notably, you can use the
<span style="font-family:monospace">ifte</span><a id="hevea_default42"></a> command or <span style="font-family:monospace">? :</span><a id="hevea_default43"></a> operator
to define piecewise-defined functions.</p><p>The <span style="font-family:monospace">ifte</span> command takes three arguments; the first argument is
a condition, the second argument tells the command what to return when
the condition is true, and the third argument tells the command what
to return when the condition is false. For example, you could define
your own absolute value function with
</p><blockquote class="quote"><span style="font-family:monospace">
myabs(x) := ifte(x &gt;= 0, x -1*x)
</span></blockquote><p>
Afterwards, for example, entering
</p><blockquote class="quote"><span style="font-family:monospace">
myabs(-4)
</span></blockquote><p>
will return
</p><blockquote class="quote"><span style="font-family:monospace">
4
</span></blockquote><p>
However, this will return an error if it can’t evaluate the
conditional. For example, if you enter
</p><blockquote class="quote"><span style="font-family:monospace">
myabs(x)
</span></blockquote><p>
you will get the error
</p><blockquote class="quote"><span style="font-family:monospace">
Ifte: Unable to check test Error: Bad Argument Value
</span></blockquote><p>The <span style="font-family:monospace">?:</span><a id="hevea_default44"></a> construct behaves similarly to <span style="font-family:monospace">ifte</span> but is
structured differently. Here, the condition comes first, followed by
<span style="font-family:monospace">?</span>, then what to return if the condition is true, followed by
the <span style="font-family:monospace">:</span>, and then what to return if the condition is false.
You could define your absolute value function with
</p><blockquote class="quote"><span style="font-family:monospace">
myabs(x) := (x &gt;= 0)? x: -1*x
</span></blockquote><p>
If you enter
</p><blockquote class="quote"><span style="font-family:monospace">
myabs(-4)
</span></blockquote><p>
you will again get
</p><blockquote class="quote"><span style="font-family:monospace">
4
</span></blockquote><p>
but now if the conditional can’t be evaluated, you won’t get an error.
</p><blockquote class="quote"><span style="font-family:monospace">
myabs(x)
</span></blockquote><p>
will return
</p><blockquote class="quote"><span style="font-family:monospace">
((x &gt;= 0)? x: -x)
</span></blockquote><p>The <span style="font-family:monospace">when</span><a id="hevea_default45"></a> and <span style="font-family:monospace">IFTE</span><a id="hevea_default46"></a> commands
are synonyms for the <span style="font-family:monospace">? :</span> construct; 
</p><blockquote class="quote"><span style="font-family:monospace">
(</span><span style="font-family:monospace"><span style="font-style:italic">condition</span></span><span style="font-family:monospace">)? </span><span style="font-family:monospace"><span style="font-style:italic">true-result</span></span><span style="font-family:monospace">: </span><span style="font-family:monospace"><span style="font-style:italic">false-result</span></span><span style="font-family:monospace">
</span></blockquote><blockquote class="quote"><span style="font-family:monospace">
when(</span><span style="font-family:monospace"><span style="font-style:italic">condition</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">true-result</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">false-result</span></span><span style="font-family:monospace">)
</span></blockquote><p>
and
</p><blockquote class="quote"><span style="font-family:monospace">
IFTE(</span><span style="font-family:monospace"><span style="font-style:italic">condition</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">true-result</span></span><span style="font-family:monospace">, </span><span style="font-family:monospace"><span style="font-style:italic">false-result</span></span><span style="font-family:monospace">)
</span></blockquote><p>
all represent the same expression.</p><p>If you want to define a function with several pieces, it may be
simpler to use the <span style="font-family:monospace">piecewise</span><a id="hevea_default47"></a> function. The
arguments to this function are alternately conditions and results to
return if the condition is true, with the last argument being what to
return if none of the conditions are true. For example, to define the
function given by
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">f</span>(<span style="font-style:italic">x</span>) = 
</td><td class="dcell"><table class="display"><tr style="vertical-align:middle"><td class="dcell">⎧<br>
⎪<br>
⎨<br>
⎪<br>
⎩</td><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" >−2</td><td style="text-align:left;white-space:nowrap" >if  <span style="font-style:italic">x</span> &lt; −2</td></tr>
<tr><td style="text-align:left;white-space:nowrap" >3<span style="font-style:italic">x</span>+4</td><td style="text-align:left;white-space:nowrap" >if  −2 ≤ <span style="font-style:italic">x</span> &lt; −1</td></tr>
<tr><td style="text-align:left;white-space:nowrap" >1</td><td style="text-align:left;white-space:nowrap" >if  −1 ≤ <span style="font-style:italic">x</span> &lt; 0</td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">x</span> + 1</td><td style="text-align:left;white-space:nowrap" >if  <span style="font-style:italic">x</span> ≥ 0
</td></tr>
</table></td></tr>
</table></td></tr>
</table><p>
you can enter
</p><blockquote class="quote"><span style="font-family:monospace">
f(x) := piecewise(x &lt; -2, -2, x &lt; -1, 3*x+4, x &lt; 0, 1, x + 1)
</span></blockquote>
<hr>
<a href="cascmd_en048.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en050.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
