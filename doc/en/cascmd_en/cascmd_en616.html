<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+5 of 2017-05-18">
<link rel="stylesheet" type="text/css" href="cascmd_en.css">
<title>A note on graphing expressions</title>
</head>
<body >
<a href="cascmd_en615.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en617.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<h3 id="sec1494" class="subsection">18.2.5  A note on graphing expressions</h3>
<p>If a graph depends on a user-defined function, you may want to define
the function when the parameter is a formal variable. For this, it
can be useful to test the type of the parameter while the function is
being defined. (See Chapter Section <a href="index.html#chap%3Aprogramming">24</a> for information
about programming in <span style="font-variant:small-caps">Xcas</span>.)</p><p>For example, suppose that <span style="font-family:monospace">f</span> and <span style="font-family:monospace">g</span> are defined by:

</p><table class="lstframe" style="padding:1ex;border-style:none;"><tr><td class="lstlisting"> f(x):={
   <span style="color:#0000CC"><span style="font-weight:bold">if</span></span> (type(x)!=DOM_FLOAT) <span style="color:#0000CC"><span style="font-weight:bold">return</span></span> 'f'(x);
   <span style="color:#0000CC"><span style="font-weight:bold">while</span></span> (x&gt;0) { x--; }
   <span style="color:#0000CC"><span style="font-weight:bold">return</span></span> x;
 }</td></tr>
</table><p>and

</p><table class="lstframe" style="padding:1ex;border-style:none;"><tr><td class="lstlisting"> g(x):={
   <span style="color:#0000CC"><span style="font-weight:bold">while</span></span> (x&gt;0) { x--; }
   <span style="color:#0000CC"><span style="font-weight:bold">return</span></span> x;
 }:;</td></tr>
</table><p>Graphing these (see Section <a href="cascmd_en612.html#ssec%3Aplotfunc">18.2.1</a>):

</p><table class="lstframe" style="padding:1ex;border-style:none;"><tr><td class="lstlisting"><span style="font-weight:bold"><span style="color:#BF0000"> </span></span><span style="font-weight:bold"><span style="color:#BF0000">F</span></span><span style="font-weight:bold"><span style="color:#BF0000">:=</span></span><span style="font-weight:bold"><span style="color:#BF0000">plotfunc</span></span><span style="font-weight:bold"><span style="color:#BF0000">(</span></span><span style="font-weight:bold"><span style="color:#BF0000">f</span></span><span style="font-weight:bold"><span style="color:#BF0000">(</span></span><span style="font-weight:bold"><span style="color:#BF0000">x</span></span><span style="font-weight:bold"><span style="color:#BF0000">));</span></span><span style="font-weight:bold"><span style="color:#BF0000">
 </span></span><span style="font-weight:bold"><span style="color:#BF0000">G</span></span><span style="font-weight:bold"><span style="color:#BF0000">:=</span></span><span style="font-weight:bold"><span style="color:#BF0000">plotfunc</span></span><span style="font-weight:bold"><span style="color:#BF0000">(</span></span><span style="font-weight:bold"><span style="color:#BF0000">g</span></span><span style="font-weight:bold"><span style="color:#BF0000">(</span></span><span style="font-weight:bold"><span style="color:#BF0000">x</span></span><span style="font-weight:bold"><span style="color:#BF0000">))</span></span></td></tr>
</table><p>they will both produce the same graph. However, the graphic
<span style="font-family:monospace">G</span> won’t be reusable. Entering:

</p><table class="lstframe" style="padding:1ex;border-style:none;"><tr><td class="lstlisting"><span style="font-weight:bold"><span style="color:#BF0000"> </span></span><span style="font-weight:bold"><span style="color:#BF0000">F</span></span></td></tr>
</table><p>reproduces the graph, but entering:

</p><table class="lstframe" style="padding:1ex;border-style:none;"><tr><td class="lstlisting"><span style="font-weight:bold"><span style="color:#BF0000"> </span></span><span style="font-weight:bold"><span style="color:#BF0000">G</span></span></td></tr>
</table><p>produces the error:
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">
     

</td><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >Unable to eval test in loop: x&gt;0.0</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >Error: Bad Argument Value Error:</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >Bad Argument Value
</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >&nbsp;</td><td style="text-align:right;white-space:nowrap" >&nbsp;</td></tr>
</table></td></tr>
</table><p>
Internally, <span style="font-family:monospace">F</span> and <span style="font-family:monospace">G</span> contain the formal expressions
<span style="font-family:monospace">f(x)</span> and <span style="font-family:monospace">g(x)</span>, respectively. When <span style="font-variant:small-caps">Xcas</span>
tries to evaluate <span style="font-family:monospace">F</span> and <span style="font-family:monospace">G</span>, <span style="font-family:monospace">x</span> has no value
and so the test <span style="font-family:monospace">x&gt;0</span> produces an error in <span style="font-family:monospace">g(x)</span>, but
the problem is avoided in the second line of <span style="font-family:monospace">f(x)</span>.</p>
<hr>
<a href="cascmd_en615.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en617.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
