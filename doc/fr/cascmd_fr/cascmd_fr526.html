<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="hevea 1.10">
<LINK rel="stylesheet" type="text/css" href="cascmd_fr.css">
<TITLE>Appliquer une fonction d’une variable aux éléments d’une liste : map apply of</TITLE>
</HEAD>
<BODY >
<A HREF="cascmd_fr525.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC="contents_motif.gif" ALT="Up"></A>
<A HREF="cascmd_fr527.html"><IMG SRC="next_motif.gif" ALT="Next"></A>
<HR>
<H3 CLASS="subsection"><A NAME="htoc626">6.41.34</A>  Appliquer une fonction d’une variable aux éléments d’une liste : <TT>map apply of</TT></H3><P><A NAME="@default932"></A><A NAME="@default933"></A><A NAME="@default934"></A><A NAME="@default935"></A>
<TT>map</TT> ou <TT>apply</TT> ou <TT>of</TT> sert à appliquer une fonction 
aux éléments d’une liste. Mais ces trois instructions ne sont pas des 
synonymes. On a :
</P><UL CLASS="itemize"><LI CLASS="li-itemize">
<TT>of</TT> a 2 paramètres une fonction <TT>f</TT> et une expression <TT>E</TT> 
ou une liste <TT>L</TT>. <TT>of(f,E)</TT> renvoie <TT>f(E)</TT> et <TT>of(f,L)</TT> renvoie 
<TT>f(L)</TT>. En effet, <TT>of</TT> est la traduction interne des parenthèses : 
<TT>f(x)</TT> est traduit en interne par <TT>of(f,x)</TT>. On peut donc utiliser 
directement <TT>f(x)</TT>, 
</LI><LI CLASS="li-itemize"><TT>apply</TT> a 2 paramètres une fonction <TT>f</TT> et une liste <TT>L</TT>. 
<TT>apply(f,L)</TT> renvoie <TT>[f(L[0]),f(L[1]),...f(L[size(L)-1])]</TT>.
<B>Attention</B><BR>
<TT>apply</TT> rèpond <TT>[]</TT> si le deuxième élément 
n’est pas une liste.<BR>
</LI><LI CLASS="li-itemize"><TT>map</TT> a 2 paramètres une expression <TT>E</TT> ou une liste <TT>L</TT> 
et une fonction <TT>f</TT>. <TT>map(E,f)</TT> renvoie <TT>f(E)</TT> et <TT>map(L,f)</TT> 
renvoie <TT>[f(L[0]),f(L[1]),...f(L[size(L)-1])]</TT>.<BR>
<B>Attention</B> à l’ordre des paramètres qui n’est pas 
le même pour <TT>map</TT> et pour <TT>apply</TT> , c’est pour des raisons de 
compatibilité!!!.<BR>
Lorsque la liste est une matrice et que la fonction doit s’appliquer à chaque
élément d’une matrice il faut mettre <TT>matrix</TT> comme argument optionnel 
à <TT>map</TT> 
</LI></UL><P>
On tape :
</P><DIV CLASS="center"><TT>apply(x-&gt;x+1,[3,5,1])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([3,5,1],x-&gt;x+1)</TT></DIV><P>
cela ajoute 1 à chaque élément de la liste et on obtient :
</P><DIV CLASS="center"><TT>[4,6,2]</TT></DIV><P>
On tape<BR>
</P><DIV CLASS="center"><TT>of(x-&gt;x+1,[3,5,1])</TT></DIV><P>
et puisque <TT>[3,5,1]+1=[3,5,2]</TT>, on obtient :
</P><DIV CLASS="center"><TT>[3,5,2]</TT></DIV><P>
<B>Exemple avec une matrice</B><BR>
On tape :
</P><DIV CLASS="center"><TT>apply(x-&gt;x+1,[[3,5,1],[3,5,1],[3,5,1]])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([[3,5,1],[3,5,1],[3,5,1]],x-&gt;x+1)</TT></DIV><P>
cela ajoute 1 à chaque élément de la liste c’est à dire à chaque 
ligne de la matrice et comme <TT>[3,5,1]+1=[3,5,2]</TT>, on obtient :
</P><DIV CLASS="center"><TT>[[3,5,2],[3,5,2],[3,5,2]]</TT></DIV><P>
On tape :
</P><DIV CLASS="center"><TT>of(x-&gt;x+1,[[3,5,1],[3,5,1],[3,5,1]])</TT></DIV><P>
cela ajoute 1 c’est à dire la matrice identité à la matrice et 
on obtient :
</P><DIV CLASS="center"><TT>[[4,5,1],[3,6,1],[3,5,2]]</TT></DIV><P>
On tape :
</P><DIV CLASS="center"><TT>map([[3,5,1],[3,5,1],[3,5,1]],x-&gt;x+1,matrix)</TT></DIV><P>
cela ajoute 1 à chaque élément de la matrice et on obtient :
</P><DIV CLASS="center"><TT>[[4,6,2],[4,6,2],[4,6,2]]</TT></DIV><P>
<B>Autres exemples</B>
On tape :
</P><DIV CLASS="center"><TT>apply(x-&gt;x</TT><CODE><TT>^</TT></CODE><TT>2,[3,5,1])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>of(x-&gt;x</TT><CODE><TT>^</TT></CODE><TT>2,[3,5,1])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([3,5,1],x-&gt;x</TT><CODE><TT>^</TT></CODE><TT>2)</TT></DIV><P>
ou on définit la fonction <I>h</I>(<I>x</I>)=<I>x</I><SUP>2</SUP> en tapant :
</P><DIV CLASS="center"><TT>h(x):=x</TT><CODE><TT>^</TT></CODE><TT>2</TT></DIV><P> 
puis
</P><DIV CLASS="center"><TT>apply(h,[3,5,1])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>of(h,[3,5,1])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([3,5,1],h)</TT></DIV><P>
On obtient :
</P><DIV CLASS="center"><TT>[9,25,1]</TT></DIV><P>
On tape :
</P><DIV CLASS="center"><TT>apply(h,[[3,5,1],[3,5,1],[3,5,1]])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([[3,5,1],[3,5,1],[3,5,1]],h)</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([[3,5,1],[3,5,1],[3,5,1]],h,matrix)</TT></DIV><P>
On obtient chaque èlement au carré :
</P><DIV CLASS="center"><TT>[[9,25,1],[9,25,1],[9,25,1]]</TT></DIV><P>
On tape :
</P><DIV CLASS="center"><TT>of(h,[[3,5,1],[3,5,1],[3,5,1]])</TT></DIV><P>
On obtient le carré de la matrice :
</P><DIV CLASS="center"><TT>[[27,45,9],[27,45,9],[27,45,9]]</TT></DIV><P>On définit la fonction <I>g</I>(<I>x</I>)=[<I>x</I>,<I>x</I><SUP>2</SUP>,<I>x</I><SUP>3</SUP>] en tapant :
</P><DIV CLASS="center"><TT>g(x):=[x,x</TT><CODE><TT>^</TT></CODE><TT>2,x</TT><CODE><TT>^</TT></CODE><TT>3]</TT></DIV><P>
ou 
</P><DIV CLASS="center"><TT>g:=(x)-&gt;[x,x</TT><CODE><TT>^</TT></CODE><TT>2,x</TT><CODE><TT>^</TT></CODE><TT>3]</TT></DIV><P> 
puis, on tape :
</P><DIV CLASS="center"><TT>apply(g,[3,5,1])</TT></DIV><P>
ou
</P><DIV CLASS="center"><TT>map([3,5,1],g)</TT></DIV><P>
On fait agir <I>g</I> sur 3, puis sur 5, puis sur 1 et on obtient :
</P><DIV CLASS="center"><TT>[[3,9,27],[5,25,125],[1,1,1]]</TT></DIV><P>
On tape :
</P><DIV CLASS="center"><TT>of(g,[3,5,1])</TT></DIV><P>
On fait agir <I>g</I> sur la liste [3,5,1] et on obtient :
</P><DIV CLASS="center"><TT>[[3,5,1],[9,25,1],[27,125,1]] </TT></DIV><P>
<B>Remarque</B><BR>
 Si <TT>l1,l2,l3</TT> sont des listes :<BR>
 <TT>sizes([l1,l2,l3])=map(size,[l1,l2,l3])</TT>
</P><HR>
<A HREF="cascmd_fr525.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC="contents_motif.gif" ALT="Up"></A>
<A HREF="cascmd_fr527.html"><IMG SRC="next_motif.gif" ALT="Next"></A>
</BODY>
</HTML>
