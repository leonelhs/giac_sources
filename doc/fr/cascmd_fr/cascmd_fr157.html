<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="hevea 1.10">
<LINK rel="stylesheet" type="text/css" href="cascmd_fr.css">
<TITLE>Pour transformer une chaîne en un nombre ou en une commande : expr</TITLE>
</HEAD>
<BODY >
<A HREF="cascmd_fr156.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC="contents_motif.gif" ALT="Up"></A>
<A HREF="cascmd_fr158.html"><IMG SRC="next_motif.gif" ALT="Next"></A>
<HR>
<H3 CLASS="subsection"><A NAME="htoc221">6.5.16</A>  Pour transformer une chaîne en un nombre ou en une commande : <TT>expr</TT></H3><P><A NAME="@default285"></A><A NAME="sec:expr1"></A>
Voici , selon la chaîne, les transformations que fait <TT>expr</TT> :
</P><UL CLASS="itemize"><LI CLASS="li-itemize">
<TT>expr</TT> permet de transformer une chaîne de chiffres ou lettres
en un nombre entier ayant comme écriture en base 8,ou 10 ou 16 cette chaîne
de chiffres. Il faut bien sûr que l’écriture soit valide et représente 
un nombre entier dans la base donnée : toutefois <TT>expr("019")</TT> renvoie
le nombre décimale <TT>19.0</TT> (voir aussi <A HREF="cascmd_fr832.html#sec:expr2">9.5.5</A>).<BR>
<B>Attention</B><BR>
Si la chaîne commence par <TT>0x</TT>, <TT>expr</TT> transforme cette chaîne en 
le nombre entier écrit en base 16, sinon,<BR>
si la chaîne commence par 0, <TT>expr</TT> transforme cette chaîne en 
le nombre entier écrit en base 8 et sinon<BR>
<TT>expr</TT> transforme cette chaîne en le nombre entier écrit en base 10.<BR>
On tape :
<DIV CLASS="center"><TT>expr("123")</TT></DIV>
On obtient :
<DIV CLASS="center"><TT>123</TT></DIV>
On tape :
<DIV CLASS="center"><TT>expr("0123")</TT></DIV>
On obtient :
<DIV CLASS="center"><TT>83</TT></DIV>
En effet : 1*8<SUP>2</SUP>+2*8+3=83
On tape :
<DIV CLASS="center"><TT>expr("0x12f")</TT></DIV>
On obtient :
<DIV CLASS="center"><TT>303</TT></DIV>
En effet 1*16<SUP>2</SUP>+2*16+15=303<BR>
<B>Remarque</B>
On tape :
<DIV CLASS="center"><TT>expr(char([48,50,56,56]))</TT></DIV>
On obtient un nombre flottant :
<DIV CLASS="center"><TT>288.0</TT></DIV>
En effet <TT>char([48,50,56,56])</TT> renvoie <TT>"0288"</TT>.<BR>
Or un nombre entier commençant par 0 est un nombre écrit en octal, du coup 
il ne doit pas contenir de chiffre supérieur ou égal à 8. Ici le nombre
a des chiffres égaux à 8, il est donc réinterprété (après détection
d’erreur de saisie en octal) comme un nombre flottant.<BR>
On tape :
<DIV CLASS="center"><TT>expr(char([48,50,55,55]))</TT></DIV>
On obtient un nombre exact car l’écriture <TT>"0277"</TT> est valide :
<DIV CLASS="center"><TT>191</TT></DIV>
En effet <TT>char([48,50,55,55])</TT> renvoie <TT>"0277"</TT> et <TT>0277</TT>
est l’écriture en base 8 de <TT>191</TT> (7+8*7+64*2=191).<BR>
On tape :
<DIV CLASS="center"><TT>expr(char([48,48,50,51]))</TT></DIV>
On obtient un nombre exact car l’écriture <TT>"0023"</TT> est valide :
<DIV CLASS="center"><TT>19</TT></DIV>
En effet <TT>char([48,50,55,55])</TT> renvoie <TT>"0023"</TT> et <TT>0023</TT>
est l’écriture en base 8 de <TT>19</TT> (3+2*8=19).</LI><LI CLASS="li-itemize"><TT>expr</TT> permet aussi de transformer une chaîne de chiffres 
représentant un nombre décimal en ce nombre.<BR>
On tape :
<DIV CLASS="center"><TT>expr("123.4567")</TT></DIV>
On obtient :
<DIV CLASS="center"><TT>123.4567</TT></DIV>
On tape :
<DIV CLASS="center"><TT>expr("123e-5")</TT></DIV>
On obtient :
<DIV CLASS="center"><TT>0.00123</TT></DIV>
</LI><LI CLASS="li-itemize"><TT>expr</TT> permet aussi de transformer une chaîne de caractères 
pouvant être interprétée comme une commande.<BR>
On tape :
<DIV CLASS="center"><TT>expr("a:=1")</TT></DIV>
On obtient :
<DIV CLASS="center"><TT>1 et, la variable a contient 1</TT></DIV>
</LI></UL><HR>
<A HREF="cascmd_fr156.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC="contents_motif.gif" ALT="Up"></A>
<A HREF="cascmd_fr158.html"><IMG SRC="next_motif.gif" ALT="Next"></A>
</BODY>
</HTML>
